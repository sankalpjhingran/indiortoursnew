"use strict";var underscore=angular.module("underscore",[]);underscore.factory("_",function(){return window._}),angular.module("clientApp",["ngAnimate","ngCookies","ngMessages","ngResource","ngRoute","ngSanitize","ngTouch","ui.router","ui.bootstrap","ui.bootstrap.modal","ngFileUpload","ngSanitize","ui.select","textAngular","ng.group","angular.filter","LocalStorageModule","ui.carousel","mwl.calendar","ui.grid","ui.grid.edit","ui.grid.cellNav","ui.grid.selection","ui.grid.grouping","ui.grid.resizeColumns","underscore"]).config(["calendarConfig",function(a){a.allDateFormats.moment.date.hour="hh:mm a",console.log(a)}]).run(["Carousel",function(a){a.setOptions({arrows:!0,autoplay:!0,autoplaySpeed:2e3,cssEase:"ease",dots:!1,easing:"linear",fade:!1,infinite:!0,initialSlide:0,slidesToShow:1,slidesToScroll:3,speed:2e3})}]).config(["localStorageServiceProvider",function(a){a.setPrefix("clientApp").setStorageType("sessionStorage").setNotify(!0,!0)}]).config(["$stateProvider","$urlRouterProvider","$locationProvider","$routeProvider",function(a,b,c,d,e,f){function g(b,c,d,e){e.get("/api/isAuthenticated/").then(function(c){if(c.data.isLoggedIn){if(c.data.user&&"Admin"===c.data.user.type)return b.when();d(function(){a.stateService.go("unauthorised")})}else d(function(){a.stateService.go("unauthorised")})},function(a){console.log("Error checking authentication OR unauthorised login.")})}c.html5Mode(!0),b.otherwise("/404"),a.state("main",{url:"/",views:{subheader:{templateUrl:"views/main/homesubheader.html",controller:"SubHeaderController"},sidesection:{},mainsection:{templateUrl:"views/main/main.html",controller:"MainCtrl"}}}).state("tourView",{url:"/tourView?id",views:{subheader:{},sidesection:{templateUrl:"views/main/toursidesection.html",controller:"MainCtrl"},mainsection:{templateUrl:"views/main/tourview.html",controller:"TourViewController"}}}).state("destination",{url:"/destination?id&name",views:{subheader:{},sidesection:{templateUrl:"views/main/toursidesection.html",controller:"MainCtrl"},mainsection:{templateUrl:"views/main/destination.html",controller:"DestinationViewController"}}}).state("city",{url:"/city?id&name&countryid",views:{subheader:{},sidesection:{templateUrl:"views/main/toursidesection.html",controller:"MainCtrl"},mainsection:{templateUrl:"views/main/city.html",controller:"CityViewController"}}}).state("country",{url:"/country?id&name",views:{subheader:{},sidesection:{templateUrl:"views/main/toursidesection.html",controller:"MainCtrl"},mainsection:{templateUrl:"views/main/country.html",controller:"CountryViewController"}}}).state("region",{url:"/region?id&countryid&name",views:{subheader:{},sidesection:{templateUrl:"views/main/toursidesection.html",controller:"MainCtrl"},mainsection:{templateUrl:"views/main/region.html",controller:"RegionViewController"}}}).state("destinations",{url:"/destinations",views:{subheader:{},sidesection:{templateUrl:"views/main/toursidesection.html",controller:"MainCtrl"},mainsection:{templateUrl:"views/main/destinations.html",controller:"DestinationsController"}}}).state("hotels",{url:"/hotels",views:{subheader:{},sidesection:{templateUrl:"views/main/toursidesection.html",controller:"MainCtrl"},mainsection:{templateUrl:"views/main/hotels.html",controller:"HotelsController"}}}).state("hotel",{url:"/hotel?id",views:{subheader:{},sidesection:{templateUrl:"views/main/toursidesection.html",controller:"MainCtrl"},mainsection:{templateUrl:"views/main/viewhotel.html",controller:"HotelViewController"}}}).state("viewtrip",{url:"/viewtrip?id",views:{subheader:{},sidesection:{templateUrl:"views/main/toursidesection.html",controller:"MainCtrl"},mainsection:{templateUrl:"views/main/viewTrip.html",controller:"TripViewController"}}}).state("trips",{url:"/trips",views:{subheader:{},sidesection:{templateUrl:"views/main/toursidesection.html",controller:"MainCtrl"},mainsection:{templateUrl:"views/main/trips.html",controller:"TripsController"}}}).state("blog",{url:"/blog",views:{subheader:{},sidesection:{templateUrl:"views/main/toursidesection.html",controller:"MainCtrl"},mainsection:{templateUrl:"views/main/blog.html",controller:"BlogController"}}}).state("about",{url:"/about",views:{subheader:{},sidesection:{template:"This is the side section",controller:"MainCtrl"},mainsection:{templateUrl:"views/main/about.html",controller:"AboutCtrl"}}}).state("mice",{url:"/mice",views:{subheader:{},sidesection:{template:"This is the side section",controller:"MainCtrl"},mainsection:{templateUrl:"views/main/MICE.html",controller:""}}}).state("signup",{url:"/signup",views:{subheader:{},sidesection:{template:"This is the side section",controller:"MainCtrl"},mainsection:{templateUrl:"views/main/signup.html",controller:"authcontroller"}}}).state("verify",{url:"/verify?link&id",views:{subheader:{},sidesection:{template:"This is the side section",controller:"MainCtrl"},mainsection:{templateUrl:"views/main/verifyuser.html",controller:"VerifyLinkController"}}}).state("resetpassword",{url:"/resetpassword?link&id",views:{subheader:{},sidesection:{template:"This is the side section",controller:"MainCtrl"},mainsection:{templateUrl:"views/main/forgotpassword.html",controller:"VerifyLinkController"}}}).state("myprofile",{url:"/myprofile",views:{subheader:{},sidesection:{},mainsection:{templateUrl:"views/main/userprofile.html",controller:"UserProfileController"}}}).state("login",{url:"/login",views:{subheader:{},sidesection:{template:"This is the side section",controller:"MainCtrl"},mainsection:{templateUrl:"views/main/login.html",controller:"LoginCtrl"}}}).state("contactus",{url:"/contactus",views:{subheader:{},sidesection:{template:"This is the side section",controller:"MainCtrl"},mainsection:{templateUrl:"views/main/contactus.html",controller:"ContactusController"}}}).state("enquiry",{url:"/enquiry",views:{subheader:{},sidesection:{template:"This is the side section",controller:"MainCtrl"},mainsection:{templateUrl:"views/main/tourenquiry.html",controller:"ContactusController"}}}).state("thankyou",{url:"/thankyou",views:{subheader:{},sidesection:{template:"This is the side section",controller:"MainCtrl"},mainsection:{templateUrl:"views/main/thankyou.html",controller:"ContactusController"}}}).state("search",{url:"/search?key",views:{subheader:{},sidesection:{template:"This is the side section",controller:"MainCtrl"},mainsection:{templateUrl:"views/main/search.html",controller:"SearchController"}}}).state("checkout",{url:"/checkout",views:{subheader:{},sidesection:{},checkout:{templateUrl:"views/main/checkout.html",controller:"CheckoutController"}}}).state("toursadmin",{url:"/toursadmin",views:{subheader:{},sidesection:{templateUrl:"views/admin/adminsidesction.html",controller:"AdminSideSectionController"},mainsection:{templateUrl:"views/admin/toursadmin.html",controller:"ToursAdminController"}},resolve:{authenticate:g}}).state("parenttours",{url:"/parenttours",views:{subheader:{},sidesection:{templateUrl:"views/admin/adminsidesction.html",controller:"AdminSideSectionController"},mainsection:{templateUrl:"views/admin/parenttoursadmin.html",controller:"ParentToursAdminController"}},resolve:{authenticate:g}}).state("locationadmin",{url:"/locationadmin",views:{subheader:{},sidesection:{templateUrl:"views/admin/adminsidesction.html",controller:"AdminSideSectionController"},mainsection:{templateUrl:"views/admin/locationadmin.html",controller:"LocationAdminController"}},resolve:{authenticate:g}}).state("regionsadmin",{url:"/regionsadmin",views:{subheader:{},sidesection:{templateUrl:"views/admin/adminsidesction.html",controller:"AdminSideSectionController"},mainsection:{templateUrl:"views/admin/regionsadmin.html",controller:"RegionAdminController"}},resolve:{authenticate:g}}).state("countriesadmin",{url:"/countriesadmin",views:{subheader:{},sidesection:{templateUrl:"views/admin/adminsidesction.html",controller:"AdminSideSectionController"},mainsection:{templateUrl:"views/admin/countriesadmin.html",controller:"CountryAdminController"}},resolve:{authenticate:g}}).state("continentsadmin",{url:"/continentsadmin",views:{subheader:{},sidesection:{templateUrl:"views/admin/adminsidesction.html",controller:"AdminSideSectionController"},mainsection:{templateUrl:"views/admin/continentsadmin.html",controller:"ContinentAdminController"}},resolve:{authenticate:g}}).state("placeadmin",{url:"/placeadmin",views:{subheader:{},sidesection:{templateUrl:"views/admin/adminsidesction.html",controller:"AdminSideSectionController"},mainsection:{templateUrl:"views/admin/placesadmin.html",controller:"PlacesAdminController"}},resolve:{authenticate:g}}).state("imageadmin",{url:"/imageadmin",views:{subheader:{},sidesection:{templateUrl:"views/admin/adminsidesction.html",controller:"AdminSideSectionController"},mainsection:{templateUrl:"views/admin/imagesadmin.html",controller:"ImagesAdminController"}},resolve:{authenticate:g}}).state("leadsadmin",{url:"/leadsadmin",views:{subheader:{},sidesection:{templateUrl:"views/admin/adminsidesction.html",controller:"AdminSideSectionController"},mainsection:{templateUrl:"views/admin/leadsadmin.html",controller:"LeadsAdminController"}},resolve:{authenticate:g}}).state("usersadmin",{url:"/usersadmin",views:{subheader:{},sidesection:{templateUrl:"views/admin/adminsidesction.html",controller:"AdminSideSectionController"},mainsection:{templateUrl:"views/admin/usersadmin.html",controller:"UsersAdminController"}},resolve:{authenticate:g}}).state("hotelsadmin",{url:"/hotelsadmin",views:{subheader:{},sidesection:{templateUrl:"views/admin/adminsidesction.html",controller:"AdminSideSectionController"},mainsection:{templateUrl:"views/admin/hotelsadmin.html",controller:"HotelsAdminController"}},resolve:{authenticate:g}}).state("itineraryadmin",{url:"/itineraryadmin",views:{subheader:{},sidesection:{templateUrl:"views/admin/adminsidesction.html",controller:"AdminSideSectionController"},mainsection:{templateUrl:"views/admin/itineraryadmin.html",controller:"ItineraryAdminController"}},resolve:{authenticate:g}}).state("departuredateadmin",{url:"/departuredateadmin",views:{subheader:{},sidesection:{templateUrl:"views/admin/adminsidesction.html",controller:"AdminSideSectionController"},mainsection:{templateUrl:"views/admin/departuredateadmin.html",controller:"DepartureDateAdminController"}},resolve:{authenticate:g}}).state("tourcostsadmin",{url:"/tourcostsadmin",views:{subheader:{},sidesection:{templateUrl:"views/admin/adminsidesction.html",controller:"AdminSideSectionController"},mainsection:{templateUrl:"views/admin/tourcostsadmin.html",controller:"TourCostsController"}},resolve:{authenticate:g}}).state("tournotesadmin",{url:"/tournotesadmin",views:{subheader:{},sidesection:{templateUrl:"views/admin/adminsidesction.html",controller:"AdminSideSectionController"},mainsection:{templateUrl:"views/admin/tournotesadmin.html",controller:"TourNotesController"}},resolve:{authenticate:g}}).state("404",{url:"/404",views:{subheader:{},sidesection:{},mainsection:{templateUrl:"views/404.html",controller:"MainCtrl"}}}).state("unauthorised",{url:"/unauthorised",views:{subheader:{},sidesection:{},mainsection:{templateUrl:"views/unauthorised.html",controller:"MainCtrl"}}}).state("book",{url:"/book?id",views:{subheader:{},sidesection:{},mainsection:{templateUrl:"views/main/book.html",controller:"BookingController"}}}).state("book.travellers",{url:"/travellers",views:{subheader:{},sidesection:{},mainsection:{},"@book":{templateUrl:"views/main/form-travellers.html"}}}),g.$inject=["$q","$state","$timeout","$http"]}]),angular.module("clientApp").controller("MainCtrl",["$http","$state","$rootScope","$scope","localStorageService","Carousel","currency","$uibModal",function(a,b,c,d,e,f,g,h){a.get("/api/conversionrates").then(function(a){if("undefined"!=typeof fx&&fx.rates)fx.rates=a.data.rates,fx.base=a.data.base;else{a.data.rates,a.data.base}}),console.log(g);var i={};d.$on("currency.name",function(a,b){d.currency=g.name.newValue,i={from:g.name.oldValue,to:g.name.newValue},angular.forEach(d.allTours,function(a){null!=a.price&&(a.price=accounting.unformat(a.price),a.price=accounting.formatMoney(fx.convert(a.price,i),{symbol:g.name.newValue,format:"%v %s"})),null!=a.offerprice&&(a.offerprice=accounting.unformat(a.offerprice),a.offerprice=accounting.formatMoney(fx.convert(a.offerprice,i),{symbol:g.name.newValue,format:"%v %s"}))})});var j=new Map;d.toursMap=new Map,d.recentTours=[],c.$state=b,d.rate=7,d.max=5,d.isReadonly=!1,d.hoveringOver=function(a){d.overStar=a,d.percent=a/d.max*100},d.ratingStates=[{stateOn:"glyphicon-ok-sign",stateOff:"glyphicon-ok-circle"},{stateOn:"glyphicon-star",stateOff:"glyphicon-star-empty"},{stateOn:"glyphicon-heart",stateOff:"glyphicon-ban-circle"},{stateOn:"glyphicon-heart"},{stateOff:"glyphicon-off"}],d.addToRecentItems=function(a){var b=JSON.parse(e.get("recenttours"));null==b&&(b=[]);var c={tourid:a};b.push(c);var f=d.removeDuplicates(b);e.set("recenttours",JSON.stringify(f))},d.removeDuplicates=function(a){for(var b=[],c=0;c<a.length;c++)-1==b.indexOf(a[c])&&b.push(a[c]);return b},d.allToursWithLocations=function(){d.loading=!0,a.get("/api/tours/alltourswithlocations").then(function(b){d.allTours=JSON.parse(b.data);var c=[];d.allTours.forEach(function(a){c.push(a.id);var b=[];a.siteLocation.forEach(function(a){b.push(a.city)}),a.locations=b,a.price=accounting.formatMoney(a.price,{symbol:g.name.newValue,format:"%v %s"}),a.offerprice=accounting.formatMoney(a.offerprice,{symbol:g.name.newValue,format:"%v %s"})}),a.post("/api/image/all",{tourids:c,parentobjectname:"tour"}).then(function(a){angular.forEach(c,function(b){var c=[];angular.forEach(a.data,function(a){"tour"==a.parentobjectname&&a.parentobjectid==b&&c.push(a)}),j.set(b,c),angular.forEach(d.allTours,function(a){a.images=j.get(a.id),d.toursMap.set(a.id,a)})}),d.loading=!1,angular.forEach(JSON.parse(e.get("recenttours")),function(a){d.recentTours.push(d.toursMap.get(a.tourid))});var b=d.removeDuplicates(d.recentTours);d.recentTours=[],d.recentTours=b})},function(a){})},d.showEnquiryForm=function(a,b,c,e){console.log(a),console.log(b),console.log(c),console.log(e),d.showForm(a,b,c,e)},d.showForm=function(a,b,c,e){d.message="Show Form Button Clicked",console.log(d.message),d.enquiryTourId=a,d.tourName=b,d.tourPrice=c,d.tourDays=e,console.log(d.enquiryTourId),console.log(d.tourName),console.log(d.tourPrice),console.log(d.tourDays),d.modalInstance=h.open({templateUrl:"myModalContent.html",controller:"ContactusController",scope:d,backdrop:"static",size:"md"}),d.modalInstance.result.then(function(a){d.selected=a},function(){console.log("Modal dismissed at: "+new Date)})},d.cancel=function(){d.modalInstance.dismiss("cancel")};var k;d.ngModelOptionsSelected=function(a){if(!arguments.length)return k;k=a},d.modelOptions={debounce:{default:500,blur:250},getterSetter:!0}}]),angular.module("clientApp").controller("AboutCtrl",function(){this.awesomeThings=["HTML5 Boilerplate","AngularJS","Karma"]}),angular.module("clientApp").controller("ContactusController",["$scope","$uibModal","$http","$location","$stateParams","$document","$log","Upload","$timeout",function(a,b,c,d,e,f,g,h,i){console.log("In contact us controller"),a.showSuccessBanner=!1,a.createLead=function(){a.contactusData.plannedarrival=moment(a.contactusData.plannedarrival).toDate(),a.contactusData.relatedtotype="General enquiry",c.post("/api/contactus/",a.contactusData).then(function(b,c){console.log(b),200==b.status&&(a.uploadFiles(b.data),d.path("/thankyou"))})},a.createEnquiry=function(){a.contactusData.plannedarrival=moment(a.contactusData.plannedarrival).toDate(),a.contactusData.relatedtotype="Tours",a.contactusData.relatedtoid=a.enquiryTourId+"",c.post("/api/contactus/",a.contactusData).then(function(b,c){console.log(b),200==b.status&&(a.uploadFiles(b.data),a.showSuccessBanner=!0,setTimeout(function(){a.cancel()},2e3))})},a.uploadFiles=function(b){var c=a.contactusData.images;c&&angular.forEach(c,function(c){c.upload=h.upload({url:"/api/image/",method:"POST",data:{file:c,parentobjectid:b.id,parentobjectname:"lead"}}),c.upload.then(function(a){i(function(){c.result=a.data})},function(b){b.status>0&&(a.errorMsg=b.status+": "+b.data)},function(a){c.progress=Math.min(100,parseInt(100*a.loaded/a.total))})})}}]),angular.module("clientApp").controller("authcontroller",["$scope","$http","$location","$rootScope","$window",function(a,b,c,d,e){console.log("In Auth controller"),a.visibility={isLoginFormOpen:!0,isPasswordResetFormOpen:!1,isSignUpFormOpen:!1},a.userinvalid=!1,a.showForgotPasswordForm=function(){a.visibility.isPasswordResetFormOpen=!0,a.visibility.isLoginFormOpen=!1,a.visibility.isSignUpFormOpen=!1},a.showLoginForm=function(){a.visibility.isPasswordResetFormOpen=!1,a.visibility.isLoginFormOpen=!0,a.visibility.isSignUpFormOpen=!1},a.showRegistrationForm=function(){a.visibility.isPasswordResetFormOpen=!1,a.visibility.isLoginFormOpen=!1,a.visibility.isSignUpFormOpen=!0},a.signUp=function(){console.log("in Signup function..."),b.post("/api/signup/",a.signupdata).then(function(b,c){200==b.status&&(d.firstname=b.firstname,console.log(a.signupdata.firstname+" Welcome to IndiorTours!!"))})},a.signIn=function(){console.log("Signing in..."),b.post("/api/signin/",a.signindata).then(function(b,e){200==b.status&&(console.log("Authentication Successful..."),d.loggedInUser=b.data,a.loggedInUser=b.data,console.log(d),console.log(a),c.path("/"))}).catch(function(a){console.log(a),console.log("Invalid Username or Password...")})},a.facebookSignIn=function(){console.log("Signing in..."),b.get("/api/auth/fb/").then(function(b,e){200==b.status&&(console.log(b),console.log("Authentication Successful..."),d.loggedInUser=b.data,a.loggedInUser=b.data,console.log(d),console.log(a),c.path("/"))}).catch(function(a){console.log(a),console.log("Invalid Username or Password...")})},a.forgotPassword=function(){console.log("forgotpassword in..."+a.useremail);var c={headers:{"Content-Type":"application/x-www-form-urlencoded"}},d=$.param({email:a.useremail});b.post("/api/users/forgotpassword/",d,c).then(function(a,b){a.status}).catch(function(a){console.log(a),console.log("Invalid Username or Password...")})},a.logout=function(){console.log("Logging out user..."),b.post("/api/logout/").then(function(a,b){200==a.status&&(console.log("Logged out..."),e.location.reload())}).catch(function(a){console.log("Error logging out...")})}}]),angular.module("clientApp").controller("ToursAdminController",["$scope","$uibModal","$http","$location","$document","$log","Upload","$timeout",function(a,b,c,d,e,f,g,h){a.toursMap=new Map,a.sort=function(b){a.sortKey=b,a.reverse=!a.reverse},a.populatetoursInstance=function(b){a.tourData=a.toursMap.get(b),console.log(a.tourData),a.tourData.locations=a.tourData.siteLocation,a.tourData.hotels=a.tourData.accomodationHotel,a.tourData.notes=a.tourData.tourNote,a.tourData.tags=a.tourData.tourTags,a.tourData.newImages=[];var d=[];d.push(b),c.post("/api/image/all",{tourids:d,parentobjectname:"tour"}).then(function(b){b.data.length&&angular.forEach(b.data,function(b){console.log(b),a.tourData.newImages.push(b)})}),console.log(a.tourData),a.showForm()},a.deleteFile=function(b){console.log(b);var c=a.tourData.images[b];console.log(c),c&&a.tourData.images.splice(b,1)},a.deleteUploadedFile=function(b){console.log(a.tourData.newImages[0]);var d=a.tourData.newImages[b];console.log(d),d&&d.id&&c.delete("/api/image/",{params:{id:d.id}}).then(function(c){200==c.status&&a.tourData.newImages.splice(b,1)})},a.uploadFiles=function(b){var c=a.tourData.images;console.log(a.tourData.images),angular.forEach(c,function(c){c.upload=g.upload({url:"/api/image/",method:"POST",data:{file:c,parentobjectid:b.id,parentobjectname:"tour"}}),c.upload.then(function(a){h(function(){c.result=a.data})},function(b){b.status>0&&(a.errorMsg=b.status+": "+b.data)},function(a){c.progress=Math.min(100,parseInt(100*a.loaded/a.total))})})},a.loadtoursData=function(){a.allTours=void 0,a.allToursMap=new Map,a.allLocation=void 0,a.allHotels=void 0,a.allNotes=void 0,a.loading=!0,c.get("/api/location/all/").then(function(b){a.allLocation=b.data}),c.get("/api/hotel/all/").then(function(b){a.allHotels=b.data}),c.get("/api/tournotes/all/").then(function(b){console.log(b),a.allNotes=b.data}),console.log(a.allNotes),c.get("/api/tags/all/").then(function(b){console.log(b),a.allTags=b.data}),c.get("/api/tours/alltourswithlocationsandhotels/").then(function(b){a.allTours=b.data,angular.forEach(a.allTours,function(b){a.toursMap.set(b.id,b)}),a.loading=!1},function(a){})},a.deltours=function(b){console.log(b),b&&confirm("Are you sure you want to delete this tour?")&&c.delete("/api/tours/",{params:{id:b}}).then(function(b){console.log("tours deleted..."),a.loadtoursData()},function(a){})},a.showForm=function(c){a.message="Show Form Button Clicked",console.log(a.message),c&&(a.tourData=null),a.modalInstance=b.open({templateUrl:"myModalContent.html",controller:"ToursAdminController",scope:a,backdrop:"static",size:"lg",resolve:{userForm:function(){return a.userForm}}}),a.modalInstance.result.then(function(b){a.selected=b},function(){f.info("Modal dismissed at: "+new Date)})},a.cancel=function(){a.modalInstance.dismiss("cancel")},a.createUpdatetours=function(){console.log(a.tourData),a.tourData&&a.tourData.id?(console.log(a.tourData),c.post("/api/tours/update/",a.tourData).then(function(b,c){console.log(b),200==b.status&&(a.uploadFiles(a.tourData),a.modalInstance.close(),a.$parent.allTours=a.$parent.loadtoursData())})):a.tourData?(console.log(a.tourData.locations),console.log(a.tourData.hotels),c.post("/api/tours/",a.tourData).then(function(b,c){console.log(b),200==b.status&&(a.uploadFiles(b.data),a.modalInstance.close(),a.$parent.allTours=a.$parent.loadtoursData())})):console.log("Error: tours Data is invalid or Invalid tour id")};var i;a.ngModelOptionsSelected=function(a){if(!arguments.length)return i;i=a},a.modelOptions={debounce:{default:500,blur:250},getterSetter:!0}}]).filter("propsFilter",function(){return function(a,b){var c=[];if(angular.isArray(a)){var d=Object.keys(b);a.forEach(function(a){for(var e=!1,f=0;f<d.length;f++){var g=d[f],h=b[g].toLowerCase();if(-1!==a[g].toString().toLowerCase().indexOf(h)){e=!0;break}}e&&c.push(a)})}else c=a;return c}}),angular.module("clientApp").controller("LocationAdminController",["$scope","$uibModal","$http","$location","$document","$log","Upload","$timeout",function(a,b,c,d,e,f,g,h){a.locationMap=new Map,a.uploadFiles=function(b){var c=a.locationData.images;console.log(a.locationData.images),angular.forEach(c,function(c){c.upload=g.upload({url:"/api/image/",method:"POST",data:{file:c,parentobjectid:b.id,parentobjectname:"location"}}),c.upload.then(function(a){h(function(){c.result=a.data})},function(b){b.status>0&&(a.errorMsg=b.status+": "+b.data)},function(a){c.progress=Math.min(100,parseInt(100*a.loaded/a.total))})})},a.deleteFile=function(b){console.log(b);var c=a.locationData.images[b];console.log(c),c&&a.locationData.images.splice(b,1)},a.deleteUploadedFile=function(b){console.log(a.locationData.newImages[0]);var d=a.locationData.newImages[b];console.log(d),d&&d.id&&c.delete("/api/image/",{params:{id:d.id}}).then(function(c){200==c.status&&a.locationData.newImages.splice(b,1)})},a.populateLocationInstance=function(b){console.log("Calling populateLocationInstance===> "+b),a.locationData=a.locationMap.get(b),console.log(a.locationMap),console.log(a.locationData),a.locationData.newImages=[];var d=[];d.push(b),c.post("/api/image/all",{tourids:d,parentobjectname:"location"}).then(function(b){b.data.length&&angular.forEach(b.data,function(b){console.log(b),a.locationData.newImages.push(b)})}),console.log(a.locationData),a.showForm()},a.saveNew=function(){a.createUpdateLocation(),console.log(a.locationData.id),a.populateLocationInstance(a.locationData.id),console.log(a.locationData)},a.loadLocationData=function(){a.loading=!0,c.get("/api/location/all/").then(function(b){return a.allLocations=b.data,a.locationMap=new Map,angular.forEach(a.allLocations,function(b){a.locationMap.set(b.id,b)}),console.log(a.allLocations),a.loading=!1,a.allLocations},function(a){}),c.get("/api/places/all/").then(function(b){a.allPlaces=b.data}),c.get("/api/country/all/").then(function(b){return a.allCountries=b.data,a.countryMap=new Map,angular.forEach(a.allCountries,function(b){a.countryMap.set(b.id,b)}),console.log(a.allCountries),a.loading=!1,a.allCountries},function(a){}),c.get("/api/continent/all/").then(function(b){return a.allContinents=b.data,a.continentsMap=new Map,angular.forEach(a.allContinents,function(b){a.continentsMap.set(b.id,b)}),console.log(a.allContinents),a.loading=!1,a.allContinents},function(a){}),c.get("/api/region/all/").then(function(b){return a.allRegions=b.data,a.regionsMap=new Map,angular.forEach(a.allRegions,function(b){a.regionsMap.set(b.id,b)}),console.log(a.allRegions),a.loading=!1,a.allRegions},function(a){})},a.delLocation=function(b){console.log(b),b&&confirm("Are you sure you want to delete this location?")&&c.delete("/api/location/",{params:{id:b}}).then(function(b){console.log("Location deleted..."),a.loadLocationData()},function(a){})},a.showForm=function(c){a.message="Show Form Button Clicked",console.log(a.message),c&&(a.locationData=null),a.modalInstance=b.open({templateUrl:"myModalContent.html",controller:"LocationAdminController",scope:a,backdrop:"static",size:"lg",resolve:{userForm:function(){return a.userForm}}}),a.modalInstance.result.then(function(b){a.selected=b},function(){f.info("Modal dismissed at: "+new Date)})},a.cancel=function(){a.modalInstance.dismiss("cancel")},a.createUpdateLocation=function(){a.locationData&&a.locationData.id&&a.locationData.country&&a.locationData.region&&a.locationData.continent?(a.locationData.country_id=a.locationData.country.id,a.locationData.country=a.locationData.country.name,a.locationData.continent_id=a.locationData.continent.id,a.locationData.continent=a.locationData.continent.name,console.log(a.locationData.region),a.locationData.region_id=a.locationData.region.id,a.locationData.region=a.locationData.region.name,console.log(a.locationData),c.post("/api/location/update/",a.locationData).then(function(b,c){console.log(b),200==b.status&&(a.uploadFiles(a.locationData),a.modalInstance.close(),a.$parent.allLocations=a.$parent.loadLocationData())})):a.locationData&&a.locationData.country&&a.locationData.region&&a.locationData.continent?(a.locationData.country_id=a.locationData.country.id,a.locationData.country=a.locationData.country.name,a.locationData.continent_id=a.locationData.continent.id,a.locationData.continent=a.locationData.continent.name,a.locationData.region=a.locationData.region.name,a.locationData.region_id=a.locationData.region.id,console.log(a.locationData),c.post("/api/location/",a.locationData).then(function(b,c){console.log(b),200==b.status&&(a.uploadFiles(b.data),a.modalInstance.close(),a.$parent.allLocations=a.$parent.loadLocationData())})):console.log("Error: Location Data is invalid")};var i;a.ngModelOptionsSelected=function(a){if(!arguments.length)return i;i=a},a.modelOptions={debounce:{default:500,blur:250},getterSetter:!0}}]).filter("propsFilter",function(){return function(a,b){var c=[];if(angular.isArray(a)){var d=Object.keys(b);a.forEach(function(a){for(var e=!1,f=0;f<d.length;f++){var g=d[f],h=b[g].toLowerCase();if(-1!==a[g].toString().toLowerCase().indexOf(h)){e=!0;break}}e&&c.push(a)})}else c=a;return c}}),angular.module("clientApp").controller("RegionAdminController",["$scope","$uibModal","$http","$location","$document","$log","Upload","$timeout",function(a,b,c,d,e,f,g,h){a.regionMap=new Map,a.uploadFiles=function(b){var c=a.regionData.images;console.log(a.regionData.images),angular.forEach(c,function(c){c.upload=g.upload({url:"/api/image/",method:"POST",data:{file:c,parentobjectid:b.id,parentobjectname:"region"}}),c.upload.then(function(a){h(function(){c.result=a.data})},function(b){b.status>0&&(a.errorMsg=b.status+": "+b.data)},function(a){c.progress=Math.min(100,parseInt(100*a.loaded/a.total))})})},a.deleteFile=function(b){console.log(b);var c=a.regionData.images[b];console.log(c),c&&a.regionData.images.splice(b,1)},a.deleteUploadedFile=function(b){console.log(a.regionData.newImages[0]);var d=a.regionData.newImages[b];console.log(d),d&&d.id&&c.delete("/api/image/",{params:{id:d.id}}).then(function(c){200==c.status&&a.regionData.newImages.splice(b,1)})},a.populateLocationInstance=function(b){console.log("Calling populateLocationInstance===> "+b),a.regionData=a.regionMap.get(b),console.log(a.regionMap),console.log(a.regionData),a.regionData.newImages=[];var d=[];d.push(b),c.post("/api/image/all",{tourids:d,parentobjectname:"region"}).then(function(b){b.data.length&&angular.forEach(b.data,function(b){console.log(b),a.regionData.newImages.push(b)})}),console.log(a.regionData),a.showForm()},a.saveNew=function(){a.createUpdateLocation(),console.log(a.regionData.id),a.populateLocationInstance(a.regionData.id),console.log(a.regionData)},a.loadLocationData=function(){a.loading=!0,c.get("/api/region/all/").then(function(b){return a.allRegions=b.data,a.regionMap=new Map,angular.forEach(a.allRegions,function(b){a.regionMap.set(b.id,b)}),console.log(a.allRegions),a.loading=!1,a.allRegions},function(a){}),c.get("/api/country/all/").then(function(b){return a.allCountries=b.data,a.countryMap=new Map,angular.forEach(a.allCountries,function(b){a.countryMap.set(b.id,b)}),console.log(a.allCountries),a.loading=!1,a.allCountries},function(a){})},a.delLocation=function(b){console.log(b),b&&confirm("Are you sure you want to delete this region?")&&c.delete("/api/region/",{params:{id:b}}).then(function(b){console.log("region deleted..."),a.loadLocationData()},function(a){})},a.showForm=function(c){a.message="Show Form Button Clicked",console.log(a.message),c&&(a.regionData=null),a.modalInstance=b.open({templateUrl:"myModalContent.html",controller:"RegionAdminController",scope:a,backdrop:"static",size:"lg",resolve:{userForm:function(){return a.userForm}}}),a.modalInstance.result.then(function(b){a.selected=b},function(){f.info("Modal dismissed at: "+new Date)})},a.cancel=function(){a.modalInstance.dismiss("cancel")},a.createUpdateLocation=function(){a.regionData&&a.regionData.id&&a.regionData.country?(a.regionData.country_id=a.regionData.country.id,a.regionData.country=a.regionData.country.name,console.log(a.regionData),c.post("/api/region/update/",a.regionData).then(function(b,c){console.log(b),200==b.status&&(a.uploadFiles(a.regionData),a.modalInstance.close(),a.$parent.allRegions=a.$parent.loadLocationData())})):a.regionData&&a.regionData.country?(a.regionData.country_id=a.regionData.country.id,a.regionData.country=a.regionData.country.name,console.log(a.regionData),c.post("/api/region/",a.regionData).then(function(b,c){console.log(b),200==b.status&&(a.uploadFiles(b.data),a.modalInstance.close(),a.$parent.allRegions=a.$parent.loadLocationData())})):console.log("Error: region Data is invalid")};var i;a.ngModelOptionsSelected=function(a){if(!arguments.length)return i;i=a},a.modelOptions={debounce:{default:500,blur:250},getterSetter:!0}}]).filter("propsFilter",function(){return function(a,b){var c=[];if(angular.isArray(a)){var d=Object.keys(b);a.forEach(function(a){for(var e=!1,f=0;f<d.length;f++){var g=d[f],h=b[g].toLowerCase();if(-1!==a[g].toString().toLowerCase().indexOf(h)){e=!0;break}}e&&c.push(a)})}else c=a;return c}}),angular.module("clientApp").controller("CountryAdminController",["$scope","$uibModal","$http","$location","$document","$log","Upload","$timeout",function(a,b,c,d,e,f,g,h){a.locationMap=new Map,a.uploadFiles=function(b){var c=a.countryData.images;console.log(a.countryData.images),angular.forEach(c,function(c){c.upload=g.upload({url:"/api/image/",method:"POST",data:{file:c,parentobjectid:b.id,parentobjectname:"country"}}),c.upload.then(function(a){h(function(){c.result=a.data})},function(b){b.status>0&&(a.errorMsg=b.status+": "+b.data)},function(a){c.progress=Math.min(100,parseInt(100*a.loaded/a.total))})})},a.deleteFile=function(b){
console.log(b);var c=a.countryData.images[b];console.log(c),c&&a.countryData.images.splice(b,1)},a.deleteUploadedFile=function(b){console.log(a.countryData.newImages[0]);var d=a.countryData.newImages[b];console.log(d),d&&d.id&&c.delete("/api/image/",{params:{id:d.id}}).then(function(c){200==c.status&&a.countryData.newImages.splice(b,1)})},a.populateCountryInstance=function(b){console.log("Calling populateCountryInstance===> "+b),a.countryData=a.locationMap.get(b),console.log(a.locationMap),console.log(a.countryData),a.countryData.newImages=[];var d=[];d.push(b),c.post("/api/image/all",{tourids:d,parentobjectname:"country"}).then(function(b){b.data.length&&angular.forEach(b.data,function(b){console.log(b),a.countryData.newImages.push(b)})}),console.log(a.countryData),a.showForm()},a.saveNew=function(){a.createUpdateLocation(),console.log(a.countryData.id),a.populateLocationInstance(a.countryData.id),console.log(a.countryData)},a.loadcountryData=function(){a.loading=!0,c.get("/api/country/all/").then(function(b){return a.allLocations=b.data,a.locationMap=new Map,angular.forEach(a.allLocations,function(b){a.locationMap.set(b.id,b)}),console.log(a.allLocations),a.loading=!1,a.allLocations},function(a){}),c.get("/api/continent/all/").then(function(b){return a.allContinents=b.data,a.continentsMap=new Map,angular.forEach(a.allContinents,function(b){a.continentsMap.set(b.id,b)}),console.log(a.allContinents),a.loading=!1,a.allContinents},function(a){})},a.delCountry=function(b){console.log(b),b&&confirm("Are you sure you want to delete this location?")&&c.delete("/api/country/",{params:{id:b}}).then(function(b){console.log("Location deleted..."),a.loadcountryData()},function(a){})},a.showForm=function(c){a.message="Show Form Button Clicked",console.log(a.message),c&&(a.countryData=null),a.modalInstance=b.open({templateUrl:"myModalContent.html",controller:"CountryAdminController",scope:a,backdrop:"static",size:"lg",resolve:{userForm:function(){return a.userForm}}}),a.modalInstance.result.then(function(b){a.selected=b},function(){f.info("Modal dismissed at: "+new Date)})},a.cancel=function(){a.modalInstance.dismiss("cancel")},a.createUpdateCountry=function(){a.countryData&&a.countryData.id&&a.countryData.continent?(a.countryData.continent_id=a.countryData.continent.id,a.countryData.continent=a.countryData.continent.name,console.log(a.countryData),c.post("/api/country/update/",a.countryData).then(function(b,c){console.log(b),200==b.status&&(a.uploadFiles(a.countryData),a.modalInstance.close(),a.$parent.allLocations=a.$parent.loadcountryData())})):a.countryData&&a.countryData.continent?(console.log(a.countryData),a.countryData.continent_id=a.countryData.continent.id,a.countryData.continent=a.countryData.continent.name,console.log(a.countryData),c.post("/api/country/",a.countryData).then(function(b,c){console.log(b),200==b.status&&(a.uploadFiles(b.data),a.modalInstance.close(),a.$parent.allLocations=a.$parent.loadcountryData())})):console.log("Error: Location Data is invalid")};var i;a.ngModelOptionsSelected=function(a){if(!arguments.length)return i;i=a},a.modelOptions={debounce:{default:500,blur:250},getterSetter:!0}}]).filter("propsFilter",function(){return function(a,b){var c=[];if(angular.isArray(a)){var d=Object.keys(b);a.forEach(function(a){for(var e=!1,f=0;f<d.length;f++){var g=d[f],h=b[g].toLowerCase();if(-1!==a[g].toString().toLowerCase().indexOf(h)){e=!0;break}}e&&c.push(a)})}else c=a;return c}}),angular.module("clientApp").controller("ContinentAdminController",["$scope","$uibModal","$http","$location","$document","$log","Upload","$timeout",function(a,b,c,d,e,f,g,h){a.locationMap=new Map,a.uploadFiles=function(b){var c=a.continentData.images;console.log(a.continentData.images),angular.forEach(c,function(c){c.upload=g.upload({url:"/api/image/",method:"POST",data:{file:c,parentobjectid:b.id,parentobjectname:"continent"}}),c.upload.then(function(a){h(function(){c.result=a.data})},function(b){b.status>0&&(a.errorMsg=b.status+": "+b.data)},function(a){c.progress=Math.min(100,parseInt(100*a.loaded/a.total))})})},a.deleteFile=function(b){console.log(b);var c=a.continentData.images[b];console.log(c),c&&a.continentData.images.splice(b,1)},a.deleteUploadedFile=function(b){console.log(a.continentData.newImages[0]);var d=a.continentData.newImages[b];console.log(d),d&&d.id&&c.delete("/api/image/",{params:{id:d.id}}).then(function(c){200==c.status&&a.continentData.newImages.splice(b,1)})},a.populateContinentInstance=function(b){console.log("Calling populateContinentInstance===> "+b),a.continentData=a.continentMap.get(b),console.log(a.locationMap),console.log(a.continentData),a.continentData.newImages=[];var d=[];d.push(b),c.post("/api/image/all",{tourids:d,parentobjectname:"continent"}).then(function(b){b.data.length&&angular.forEach(b.data,function(b){console.log(b),a.continentData.newImages.push(b)})}),console.log(a.continentData),a.showForm()},a.saveNew=function(){a.createUpdateContinent(),console.log(a.continentData.id),a.populateLocationInstance(a.continentData.id),console.log(a.continentData)},a.loadcontinentData=function(){a.loading=!0,c.get("/api/continent/allIndex/").then(function(b){return a.allContinents=b.data,a.continentMap=new Map,angular.forEach(a.allContinents,function(b){a.continentMap.set(b.id,b)}),console.log(a.allContinents),a.loading=!1,a.allContinents},function(a){}),c.get("/api/places/all/").then(function(b){a.allPlaces=b.data})},a.delContinent=function(b){console.log(b),b&&confirm("Are you sure you want to delete this continent?")&&c.delete("/api/continent/",{params:{id:b}}).then(function(b){console.log("Continent deleted..."),a.loadcontinentData()},function(a){})},a.showForm=function(c){a.message="Show Form Button Clicked",console.log(a.message),c&&(a.continentData=null),a.modalInstance=b.open({templateUrl:"myModalContent.html",controller:"ContinentAdminController",scope:a,backdrop:"static",size:"lg",resolve:{userForm:function(){return a.userForm}}}),a.modalInstance.result.then(function(b){a.selected=b},function(){f.info("Modal dismissed at: "+new Date)})},a.cancel=function(){a.modalInstance.dismiss("cancel")},a.createUpdateContinent=function(){a.continentData&&a.continentData.id?(console.log(a.continentData),c.post("/api/continent/update/",a.continentData).then(function(b,c){console.log(b),200==b.status&&(a.uploadFiles(a.continentData),a.modalInstance.close(),a.$parent.allContinents=a.$parent.loadcontinentData())})):a.continentData?(console.log(a.continentData),c.post("/api/continent/",a.continentData).then(function(b,c){console.log(b),200==b.status&&(a.uploadFiles(b.data),a.modalInstance.close(),a.$parent.allContinents=a.$parent.loadcontinentData())})):console.log("Error: Continent data is invalid")};var i;a.ngModelOptionsSelected=function(a){if(!arguments.length)return i;i=a},a.modelOptions={debounce:{default:500,blur:250},getterSetter:!0}}]).filter("propsFilter",function(){return function(a,b){var c=[];if(angular.isArray(a)){var d=Object.keys(b);a.forEach(function(a){for(var e=!1,f=0;f<d.length;f++){var g=d[f],h=b[g].toLowerCase();if(-1!==a[g].toString().toLowerCase().indexOf(h)){e=!0;break}}e&&c.push(a)})}else c=a;return c}}),angular.module("clientApp").controller("PlacesAdminController",["$scope","$uibModal","$http","$location","$document","$log","Upload","$timeout",function(a,b,c,d,e,f,g,h){a.placeMap=new Map,a.uploadFiles=function(b){var c=a.placeData.images;console.log(a.placeData.images),angular.forEach(c,function(c){c.upload=g.upload({url:"/api/image/",method:"POST",data:{file:c,parentobjectid:b.id,parentobjectname:"place"}}),c.upload.then(function(a){h(function(){c.result=a.data})},function(b){b.status>0&&(a.errorMsg=b.status+": "+b.data)},function(a){c.progress=Math.min(100,parseInt(100*a.loaded/a.total))})})},a.deleteFile=function(b){console.log(b);var c=a.placeData.images[b];console.log(c),c&&a.placeData.images.splice(b,1)},a.deleteUploadedFile=function(b){console.log(a.placeData.newImages[0]);var d=a.placeData.newImages[b];console.log(d),d&&d.id&&c.delete("/api/image/",{params:{id:d.id}}).then(function(c){200==c.status&&a.placeData.newImages.splice(b,1)})},a.populatePlaceInstance=function(b){console.log("Calling populateLocationInstance===> "+b),a.placeData=a.placeMap.get(b),a.placeData.location=a.allLocationsMap.get(a.placeData.location_id),console.log(a.placeMap),console.log(a.placeData),a.placeData.newImages=[];var d=[];d.push(b),c.post("/api/image/all",{tourids:d,parentobjectname:"place"}).then(function(b){b.data.length&&angular.forEach(b.data,function(b){console.log(b),a.placeData.newImages.push(b)})}),a.showForm()},a.saveNew=function(){a.createUpdatePlace(),console.log(a.placeData.id),a.populatePlaceInstance(a.placeData.id),console.log(a.placeData)},a.loadPlacesData=function(){a.allLocations=void 0,a.allLocationsMap=new Map,a.loading=!0,c.get("/api/location/all/").then(function(b){return a.allLocations=b.data,angular.forEach(a.allLocations,function(b){a.allLocationsMap.set(b.id,b)}),console.log("allLocations====>"),console.log(a.allLocations),c.get("/api/places/all/").then(function(b){return a.allPlaces=b.data,console.log(a.allPlaces),angular.forEach(a.allPlaces,function(b){a.placeMap.set(b.id,b),b.locationcity=a.allLocationsMap.get(b.location_id).city}),a.loading=!1,a.allPlaces},function(a){}),a.allLocations},function(a){})},a.delPlace=function(b){console.log(b),b&&confirm("Are you sure you want to delete this place?")&&c.delete("/api/places/",{params:{id:b}}).then(function(b){console.log("Place deleted..."),a.loadPlacesData()},function(a){})},a.showForm=function(c){a.message="Show Form Button Clicked",console.log(a.message),c&&(a.placeData=null),a.modalInstance=b.open({templateUrl:"myModalContent.html",controller:"PlacesAdminController",scope:a,backdrop:"static",size:"lg",resolve:{userForm:function(){return a.userForm}}}),a.modalInstance.result.then(function(b){a.selected=b},function(){f.info("Modal dismissed at: "+new Date)})},a.cancel=function(){a.modalInstance.dismiss("cancel")},a.createUpdatePlace=function(){a.placeData&&a.placeData.id&&a.placeData.location?(a.placeData.location_id=a.placeData.location.id,c.post("/api/places/update/",a.placeData).then(function(b,c){console.log(b),200==b.status&&(a.uploadFiles(a.placeData),a.modalInstance.close(),a.$parent.allPlaces=a.$parent.loadPlacesData())})):a.placeData&&a.placeData.location?(console.log("Calling place insert===>"),a.placeData.location_id=a.placeData.location.id,c.post("/api/places/",a.placeData).then(function(b,c){console.log(b),200==b.status&&(a.uploadFiles(b.data),a.modalInstance.close(),a.$parent.allPlaces=a.$parent.loadPlacesData())})):console.log("Error: Place Data is invalid")};var i;a.ngModelOptionsSelected=function(a){if(!arguments.length)return i;i=a},a.modelOptions={debounce:{default:500,blur:250},getterSetter:!0}}]),angular.module("clientApp").controller("ImagesAdminController",["$scope","$uibModal","$http","$location","$document","$log","Upload","$timeout",function(a,b,c,d,e,f,g,h){a.imageMap=new Map,a.allImages&&(a.totalItems=a.allImages.length),a.currentPage=1,a.itemsPerPage=25,a.$watch("currentPage",function(){a.pageChanged(a.currentPage)}),a.pageChanged=function(b){var c=[];a.allImages&&(c=a.allImages.slice((b-1)*a.itemsPerPage,b*a.itemsPerPage)),a.aImages=c},a.deleteFile=function(b){console.log(b);var c=a.imageData.images[b];console.log(c),c&&a.imageData.images.splice(b,1)},a.deleteUploadedFile=function(b){console.log(a.imageData.newImages[0]);var d=a.imageData.newImages[b];console.log(d),d&&d.id&&c.delete("/api/image/",{params:{id:d.id}}).then(function(c){200==c.status&&a.imageData.newImages.splice(b,1)})},a.loadImagesData=function(){a.allImages=void 0,a.allImagesMap=new Map,a.loading=!0,c.get("/api/image/allImages/").then(function(b){a.allImages=b.data,angular.forEach(a.allImages,function(b){a.allImagesMap.set(b.id,b)}),a.totalItems=a.allImages.length,a.currentPage=1,a.pageChanged();var c=[];a.allImages&&(c=a.allImages.slice(0,a.itemsPerPage)),a.aImages=c,a.loading=!1},function(a){})},a.delImage=function(b){console.log(b),b&&confirm("Are you sure you want to delete this image?")&&c.delete("/api/image/",{params:{id:b}}).then(function(b){console.log("Image deleted..."),a.loadImagesData()},function(a){})},a.showForm=function(c){a.message="Show Form Button Clicked",console.log(a.message),c&&(a.imageData=null),a.modalInstance=b.open({templateUrl:"myModalContent.html",controller:"ImagesAdminController",scope:a,backdrop:"static",size:"lg",resolve:{userForm:function(){return a.userForm}}}),a.modalInstance.result.then(function(b){a.selected=b},function(){f.info("Modal dismissed at: "+new Date)})},a.cancel=function(){a.modalInstance.dismiss("cancel")},a.uploadFiles=function(b){var c=a.imageData.images;console.log(a.imageData.images),angular.forEach(c,function(b){b.upload=g.upload({url:"/api/image/",method:"POST",data:{file:b,parentobjectname:a.imageData.parentobjectname,description:a.imageData.description}}),b.upload.then(function(a){h(function(){b.result=a.data})},function(b){b.status>0&&(a.errorMsg=b.status+": "+b.data)},function(a){b.progress=Math.min(100,parseInt(100*a.loaded/a.total))})})},a.createUpdateImage=function(){a.imageData&&a.imageData.id&&a.imageData.location?(a.imageData.location_id=a.imageData.location.id,c.post("/api/image/update/",a.imageData).then(function(b,c){console.log(b),200==b.status&&(a.modalInstance.close(),a.$parent.allImages=a.$parent.loadImagesData())})):a.imageData&&a.imageData.images?(a.uploadFiles(a.imageData),a.modalInstance.close(),a.$parent.allImages=a.$parent.loadImagesData()):console.log("Error: Image Data is invalid")};var i;a.ngModelOptionsSelected=function(a){if(!arguments.length)return i;i=a},a.modelOptions={debounce:{default:500,blur:250},getterSetter:!0}}]),angular.module("clientApp").controller("ItineraryAdminController",["$scope","$uibModal","$http","$location","$document","$log",function(a,b,c,d,e,f){a.itineraryMap=new Map,a.itineraryData=[],a.addRow=function(){a.itnRows.push({day:"",description:""})},a.populateitineraryInstance=function(b){a.tour=a.allToursMap.get(b),a.itnRows=[],a.itnRows=a.tour.itinerary,a.showForm()},a.loaditineraryData=function(){a.allTours=void 0,a.allToursMap=new Map,a.loading=!0,c.get("/api/tours/alltourswithitineries/").then(function(b){a.allTours=b.data,console.log(a.allTours),angular.forEach(a.allTours,function(b){a.allToursMap.set(b.id,b)}),a.loading=!1},function(a){})},a.delitinerary=function(b){b&&confirm("Are you sure you want to delete this itinerary?")&&c.delete("/api/itinerary/",{params:{id:b}}).then(function(b){console.log("itinerary deleted..."),a.loaditineraryData()},function(a){})},a.saveAs=function(){angular.forEach(a.itnRows,function(b){b.id=null,b.tour_id=null,b.tour=null,b.createdAt=null,b.updatedAt=null,a.tour=null}),console.log("saveAs clicked...")},a.showForm=function(c){a.message="Show Form Button Clicked",console.log(a.message),c&&(a.itineraryData=null,a.tour=null,a.itnRows=[],a.itnRows.push({day:"",description:""})),a.modalInstance=b.open({templateUrl:"myModalContent.html",controller:"ItineraryAdminController",scope:a,backdrop:"static",size:"lg",resolve:{userForm:function(){return a.userForm}}}),a.modalInstance.result.then(function(b){a.selected=b},function(){f.info("Modal dismissed at: "+new Date)})},a.cancel=function(){a.modalInstance.dismiss("cancel")},a.createUpdateitinerary=function(){var b=[],d=[];a.tour&&(angular.forEach(a.itnRows,function(c){c.tour_id=a.tour.id,c.id?d.push(c):b.push(c)}),b.length&&c.post("/api/itinerary/bulkcreate/",b).then(function(b,c){console.log(b),200==b.status&&(a.modalInstance.close(),a.$parent.loaditineraryData())}),d.length&&c.post("/api/itinerary/bulkupdate/",d).then(function(b,c){console.log(b),200==b.status&&(a.modalInstance.close(),a.$parent.loaditineraryData())}))};var g;a.ngModelOptionsSelected=function(a){if(!arguments.length)return g;g=a},a.modelOptions={debounce:{default:500,blur:250},getterSetter:!0}}]),angular.module("clientApp").controller("HotelsAdminController",["$scope","$uibModal","$http","$location","$document","$log","Upload","$timeout",function(a,b,c,d,e,f,g,h){a.hotelMap=new Map,a.uploadFiles=function(b){var c=a.hotelData.images;console.log(a.hotelData.images),angular.forEach(c,function(c){c.upload=g.upload({url:"/api/image/",method:"POST",data:{file:c,parentobjectid:b.id,parentobjectname:"hotel"}}),c.upload.then(function(a){h(function(){c.result=a.data})},function(b){b.status>0&&(a.errorMsg=b.status+": "+b.data)},function(a){c.progress=Math.min(100,parseInt(100*a.loaded/a.total))})})},a.deleteFile=function(b){console.log(b);var c=a.hotelData.images[b];console.log(c),c&&a.hotelData.images.splice(b,1)},a.deleteUploadedFile=function(b){console.log(a.hotelData.newImages[0]);var d=a.hotelData.newImages[b];console.log(d),d&&d.id&&c.delete("/api/image/",{params:{id:d.id}}).then(function(c){200==c.status&&a.hotelData.newImages.splice(b,1)})},a.populatehotelInstance=function(b){a.hotelData=a.hotelMap.get(b),""!=a.hotelData.location_id&&(a.hotelData.location=a.allLocationsMap.get(a.hotelData.location_id)),a.hotelData.newImages=[];var d=[];d.push(b),c.post("/api/image/all",{tourids:d,parentobjectname:"hotel"}).then(function(b){b.data.length&&angular.forEach(b.data,function(b){console.log(b),a.hotelData.newImages.push(b)})}),console.log(a.hotelData),a.showForm()},a.loadhotelData=function(){a.allLocations=void 0,a.allLocationsMap=new Map,a.loading=!0,c.get("/api/location/all/").then(function(b){a.allLocations=b.data,angular.forEach(a.allLocations,function(b){a.allLocationsMap.set(b.id,b)}),c.get("/api/hotel/all/").then(function(b){return a.allHotels=b.data,angular.forEach(a.allHotels,function(b){a.hotelMap.set(b.id,b),""!=b.location_id&&a.allLocationsMap.get(b.location_id)&&a.allLocationsMap.get(b.location_id).city.length&&(b.hotelcity=a.allLocationsMap.get(b.location_id).city)}),a.loading=!1,a.allHotels},function(a){})},function(a){})},a.delhotel=function(b){console.log(b),b&&confirm("Are you sure you want to delete this hotel?")&&c.delete("/api/hotel/",{params:{id:b}}).then(function(b){console.log("hotel deleted..."),a.loadhotelData()},function(a){})},a.showForm=function(c){a.message="Show Form Button Clicked",console.log(a.message),c&&(a.hotelData=null),a.modalInstance=b.open({templateUrl:"myModalContent.html",controller:"HotelsAdminController",scope:a,backdrop:"static",size:"lg",resolve:{userForm:function(){return a.userForm}}}),a.modalInstance.result.then(function(b){a.selected=b},function(){f.info("Modal dismissed at: "+new Date)})},a.cancel=function(){a.modalInstance.dismiss("cancel")},a.createUpdatehotel=function(){a.hotelData&&a.hotelData.id&&a.hotelData.location?(a.hotelData.location_id=a.hotelData.location.id,a.hotelData.location=a.hotelData.location.city,c.post("/api/hotel/update/",a.hotelData).then(function(b,c){console.log(b),200==b.status&&(a.uploadFiles(a.hotelData),a.modalInstance.close(),a.$parent.allhotels=a.$parent.loadhotelData())})):a.hotelData&&a.hotelData.location?(a.hotelData.location_id=a.hotelData.location.id,a.hotelData.location=a.hotelData.location.city,c.post("/api/hotel/",a.hotelData).then(function(b,c){console.log(b),200==b.status&&(a.uploadFiles(b.data),a.modalInstance.close(),a.$parent.allhotels=a.$parent.loadhotelData())})):console.log("Error: hotel Data is invalid or Invalid tour id")};var i;a.ngModelOptionsSelected=function(a){if(!arguments.length)return i;i=a},a.modelOptions={debounce:{default:500,blur:250},getterSetter:!0}}]),angular.module("clientApp").controller("DepartureDateAdminController",["$scope","$uibModal","$http","$location","$document","$log",function(a,b,c,d,e,f){a.departureDatesMap=new Map,a.populatedepartureDatesInstance=function(b){a.departureDatesData=a.departureDatesMap.get(b),a.departureDatesData.tour=a.allToursMap.get(a.departureDatesData.tour_id),a.showForm()},a.loaddepartureDatesData=function(){a.allTours=void 0,a.allToursMap=new Map,a.loading=!0,c.get("/api/tours/all/").then(function(b){a.allTours=b.data,angular.forEach(a.allTours,function(b){a.allToursMap.set(b.id,b)}),c.get("/api/departuredates/all/").then(function(b){return a.alldepartureDatess=b.data,angular.forEach(a.alldepartureDatess,function(b){b.repeatendsondate=new Date(b.repeatendsondate),b.tourname=a.allToursMap.get(b.tour_id).name,b.startdate=new Date(b.startdate),b.repeatondayofweek&&(b.repeatondayofweek=b.repeatondayofweek.split(",")),b.repeatendsnever?b.repeatSelection="never":b.repeatendsondate?b.repeatSelection="on":b.repeatendsafteroccurrences&&(b.repeatSelection="after"),a.departureDatesMap.set(b.id,b)}),a.loading=!1,a.alldepartureDatess},function(a){})},function(a){})},a.deldepartureDates=function(b){b&&confirm("Are you sure you want to delete this departure date?")&&c.delete("/api/departuredates/",{params:{id:b}}).then(function(b){console.log("departureDates deleted..."),a.loaddepartureDatesData()},function(a){})},a.showForm=function(c){a.message="Show Form Button Clicked",c&&(a.departureDatesData=null),a.modalInstance=b.open({templateUrl:"myModalContent.html",controller:"DepartureDateAdminController",scope:a,backdrop:"static",size:"lg",resolve:{userForm:function(){return a.userForm}}}),a.modalInstance.result.then(function(b){a.selected=b},function(){f.info("Modal dismissed at: "+new Date)})},a.cancel=function(){a.modalInstance.dismiss("cancel")},a.createUpdatedepartureDates=function(){a.departureDatesData&&("never"==a.departureDatesData.repeatSelection?a.departureDatesData.repeatendsnever=!0:"on"==a.departureDatesData.repeatSelection?a.departureDatesData.repeatendsnever=!1:"after"==a.departureDatesData.repeatSelection&&(a.departureDatesData.repeatendsnever=!1)),a.departureDatesData&&a.departureDatesData.id&&a.departureDatesData.tour?(a.departureDatesData.tour_id=a.departureDatesData.tour.id,a.departureDatesData.repeatondayofweek&&(a.departureDatesData.repeatondayofweek=a.departureDatesData.repeatondayofweek.toString()),c.post("/api/departuredates/update/",a.departureDatesData).then(function(b,c){200==b.status&&(a.modalInstance.close(),a.$parent.alldepartureDatess=a.$parent.loaddepartureDatesData())})):a.departureDatesData&&a.departureDatesData.tour?(a.departureDatesData.tour_id=a.departureDatesData.tour.id,a.departureDatesData.repeatondayofweek&&(a.departureDatesData.repeatondayofweek=a.departureDatesData.repeatondayofweek.toString()),c.post("/api/departuredates/",a.departureDatesData).then(function(b,c){200==b.status&&(a.modalInstance.close(),a.$parent.alldepartureDatess=a.$parent.loaddepartureDatesData())})):console.log("Error: departureDates Data is invalid or Invalid tour id")};var g;a.ngModelOptionsSelected=function(a){if(!arguments.length)return g;g=a},a.modelOptions={debounce:{default:500,blur:250},getterSetter:!0}}]),angular.module("clientApp").controller("TourCostsController",["$scope","$uibModal","$http","$location","$document","$log",function(a,b,c,d,e,f){a.costsMap=new Map,a.msg={};var g=this;a.populatecostsInstance=function(b){a.tourCosts=a.costsMap.get(b),a.tourCosts.tour=a.allToursMap.get(a.tourCosts.tour_id),a.tourCosts.individualcostsjson=a.costsMap.get(b).individualcostsjson,a.myData=a.costsMap.get(b).individualcostsjson,a.showForm()},a.loadtourCosts=function(){a.allTours=void 0,a.allToursMap=new Map,a.loading=!0,c.get("/api/tours/all/").then(function(b){a.allTours=b.data,angular.forEach(a.allTours,function(b){a.allToursMap.set(b.id,b)}),c.get("/api/tourcosts/all/").then(function(b){return a.allcostss=b.data,console.log(a.allcostss),angular.forEach(a.allcostss,function(b){a.costsMap.set(b.id,b),b.tourname=a.allToursMap.get(b.tour_id).name}),a.loading=!1,a.allcostss},function(a){})},function(a){})},a.delcosts=function(b){console.log(b),b&&confirm("Are you sure you want to delete this costs?")&&c.delete("/api/tourcosts/",{params:{id:b}}).then(function(b){console.log("costs deleted..."),a.loadtourCosts()},function(a){})},a.showForm=function(c){a.message="Show Form Button Clicked",console.log(a.message),c&&(a.tourCosts=null,a.myData=[]),a.modalInstance=b.open({templateUrl:"myModalContent.html",controller:"TourCostsController",scope:a,backdrop:"static",size:"lg",resolve:{userForm:function(){return a.userForm}}}),a.modalInstance.result.then(function(b){a.selected=b},function(){f.info("Modal dismissed at: "+new Date)})},a.cancel=function(){a.modalInstance.dismiss("cancel")},a.createUpdatecosts=function(){console.log(a.myData),a.tourCosts&&a.tourCosts.id&&a.tourCosts.tour?(a.tourCosts.tour_id=a.tourCosts.tour.id,a.tourCosts.individualcostsjson=a.myData,a.tourCosts.groupcostsjson=null,c.post("/api/tourcosts/update/",a.tourCosts).then(function(b,c){console.log(b),200==b.status&&(a.modalInstance.close(),a.$parent.allcostss=a.$parent.loadtourCosts())})):a.tourCosts&&a.tourCosts.tour?(a.tourCosts.tour_id=a.tourCosts.tour.id,a.tourCosts.individualcostsjson=a.myData,a.tourCosts.groupcostsjson=null,c.post("/api/tourcosts/",a.tourCosts).then(function(b,c){console.log(b),200==b.status&&(a.modalInstance.close(),a.$parent.allcostss=a.$parent.loadtourCosts())})):console.log("Error: costs Data is invalid or Invalid tour id")};var h;a.ngModelOptionsSelected=function(a){if(!arguments.length)return h;h=a},a.modelOptions={debounce:{default:500,blur:250},getterSetter:!0},g.gridOptions={onRegisterApi:function(b){g.gridApi=b,b.edit.on.afterCellEdit(a,function(b,c,d,e){a.msg.lastCellEdited="edited row id:"+b.id+" Column:"+c.name+" newValue:"+d+" oldValue:"+e,"costcategory"===c.name&&(b.allCostOptions="Normal Cost"===d?a.normalCostOptions:"Supplement"===d?a.supplementOptions:"Additional Service Supplement"===d?a.additionalServiceSupplementOptions:a.allCostOptions),a.$apply()}),b.selection.on.rowSelectionChanged(a,function(b){a.mySelectedRows=g.gridApi.selection.getSelectedRows()}),b.selection.on.rowSelectionChangedBatch(a,function(b){a.mySelectedRows=g.gridApi.selection.getSelectedRows()})},data:"myData"},g.addData=function(){a.myData.push({id:Math.ceil(1e4*Math.random()),costcategory:"",costitem:"",budget:"",economy:"",elegant:"",deluxe:"",luxury:""})},g.removeSelectedRow=function(){console.log(a.mySelectedRows),angular.forEach(a.mySelectedRows,function(b){var c=b.id,d=a.myData.findIndex(function(a,b){return a.id===c});a.myData.splice(d,1)})},g.gridOptions.enableRowSelection=!0,g.gridOptions.enableSelectAll=!0,g.gridOptions.enableCellEditOnFocus=!0,g.gridOptions.enableColumnResizing=!0,g.gridOptions.columnDefs=[{name:"id",enableCellEdit:!1,visible:!1},{name:"costcategory",displayName:"Cost Category",enableCellEdit:!0,width:220,editableCellTemplate:"ui-grid/dropdownEditor",cellFilter:"mapCostCategories",editDropdownValueLabel:"costcategory",editDropdownOptionsArray:[{id:"Normal Cost",costcategory:"Normal Cost"},{id:"Supplement",costcategory:"Supplement"},{id:"Additional Service Supplement",costcategory:"Additional Service Supplement"}]},{name:"costitem",displayName:"Cost Per Person",enableCellEdit:!0,width:200,editableCellTemplate:"ui-grid/dropdownEditor",cellFilter:"mapCostItems",editDropdownValueLabel:"costitem",editDropdownRowEntityOptionsArrayPath:"allCostOptions"},{name:"budget",displayName:"Budget",enableCellEdit:!0},{name:"economy",displayName:"Economy",enableCellEdit:!0},{name:"elegant",displayName:"Elegant",enableCellEdit:!0},{name:"deluxe",displayName:"Deluxe",enableCellEdit:!0},{name:"luxury",displayName:"Luxury",enableCellEdit:!0}],a.allCostOptions=[{id:"Minimum 02 Persons",costitem:"Minimum 02 Persons"},{id:"Single Supplement",costitem:"Single Supplement"},{id:"Domestic Airfare",costitem:"Domestic Airfare"},{id:"High Season Supplement",costitem:"High Season Supplement"},{id:"High Season Supplement 2",costitem:"High Season Supplement 2"},{id:"Festival Season Supplement",costitem:"Festival Season Supplement"},{id:"Early Bird Discount",costitem:"Early Bird Discount"},{id:"Single Person",costitem:"Single Person"},{id:"International Airfare",costitem:"International Airfare"},{id:"Visa Charges",costitem:"Visa Charges"},{id:"Accompanying Guide",costitem:"Accompanying Guide"},{id:"Breakfast",costitem:"Breakfast"},{id:"Half Board",costitem:"Half Board"},{id:"Full Board",costitem:"Full Board"},{id:"Extra Nights Arrival City",costitem:"Extra Nights Arrival City"},{id:"Extra Nights Departure City",costitem:"Extra Nights Departure City"},{id:"Note",costitem:"Note"}],a.normalCostOptions=[{id:"Minimum 02 Persons",costitem:"Minimum 02 Persons"},{id:"Single Supplement",costitem:"Single Supplement"},{id:"Domestic Airfare",costitem:"Domestic Airfare"},{id:"Note",costitem:"Note"}],a.supplementOptions=[{id:"High Season Supplement",costitem:"High Season Supplement"},{id:"High Season Supplement 2",costitem:"High Season Supplement 2"},{id:"Festival Season Supplement",costitem:"Festival Season Supplement"},{id:"Early Bird Discount",costitem:"Early Bird Discount"},{id:"Note",costitem:"Note"}],a.additionalServiceSupplementOptions=[{id:"Single Person",costitem:"Single Person"},{id:"International Airfare",costitem:"International Airfare"},{id:"Visa Charges",costitem:"Visa Charges"},{id:"Accompanying Guide",costitem:"Accompanying Guide"},{id:"Breakfast",costitem:"Breakfast"},{id:"Half Board",costitem:"Half Board"},{id:"Full Board",costitem:"Full Board"},{id:"Extra Nights Arrival City",costitem:"Extra Nights Arrival City"},{id:"Extra Nights Departure City",costitem:"Extra Nights Departure City"},{id:"Note",costitem:"Note"}]}]).filter("mapCostItems",function(){var a={"Single Person":"Single Person","Minimum 02 Persons":"Minimum 02 Persons","Single Supplement":"Single Supplement","Domestic Airfare":"Domestic Airfare","High Season Supplement":"High Season Supplement","High Season Supplement 2":"High Season Supplement 2","Festival Season Supplement":"Festival Season Supplement","Early Bird Discount":"Early Bird Discount","International Airfare":"International Airfare","Visa Charges":"Visa Charges","Accompanying Guide":"Accompanying Guide",Breakfast:"Breakfast","Half Board":"Half Board","Full Board":"Full Board","Extra Nights Arrival City":"Extra Nights Arrival City","Extra Nights Departure City":"Extra Nights Departure City",Note:"Note"};return function(b){return b?a[b]:""}}).filter("mapCostCategories",function(){var a={"Normal Cost":"Normal Cost",Supplement:"Supplement","Additional Service Supplement":"Additional Service Supplement"};return function(b){return b?a[b]:""}}),angular.module("clientApp").controller("TourNotesController",["$scope","$uibModal","$http","$location","$document","$log",function(a,b,c,d,e,f){a.notesMap=new Map,a.populateNotesInstance=function(b){a.tourNotes=a.notesMap.get(b),a.tourNotes.tour=a.allToursMap.get(a.tourNotes.tour_id),a.showForm()},a.loadtourNotes=function(){a.allTours=void 0,a.allToursMap=new Map,a.loading=!0,c.get("/api/tours/all/").then(function(b){a.allTours=b.data,angular.forEach(a.allTours,function(b){a.allToursMap.set(b.id,b)}),c.get("/api/tournotes/all/").then(function(b){return a.allNotes=b.data,angular.forEach(a.allNotes,function(b){a.notesMap.set(b.id,b)}),a.loading=!1,a.allNotes},function(a){})},function(a){})},a.delNotes=function(b){console.log(b),b&&confirm("Are you sure you want to delete this note?")&&c.delete("/api/tournotes/",{params:{id:b}}).then(function(b){console.log("Note deleted..."),a.loadtourNotes()},function(a){})},a.showForm=function(c){a.message="Show Form Button Clicked",console.log(a.message),c&&(a.tourNotes=null),a.modalInstance=b.open({templateUrl:"myModalContent.html",controller:"TourNotesController",scope:a,backdrop:"static",size:"lg",resolve:{userForm:function(){return a.userForm}}}),a.modalInstance.result.then(function(b){a.selected=b},function(){f.info("Modal dismissed at: "+new Date)})},a.cancel=function(){a.modalInstance.dismiss("cancel")},a.createUpdatecosts=function(){a.tourNotes&&a.tourNotes.id?c.post("/api/tournotes/update/",a.tourNotes).then(function(b,c){console.log(b),200==b.status&&(a.modalInstance.close(),a.$parent.allNotes=a.$parent.loadtourNotes())}):a.tourNotes?c.post("/api/tournotes/",a.tourNotes).then(function(b,c){console.log(b),
200==b.status&&(a.modalInstance.close(),a.$parent.allNotes=a.$parent.loadtourNotes())}):console.log("Error: costs Data is invalid or Invalid tour id")};var g;a.ngModelOptionsSelected=function(a){if(!arguments.length)return g;g=a},a.modelOptions={debounce:{default:500,blur:250},getterSetter:!0}}]),angular.module("clientApp").controller("TourViewController",["$uibModal","$http","$location","$state","$rootScope","$scope","$stateParams","uiGridGroupingConstants","currency","$document","$log","$timeout",function(a,b,c,d,e,f,g,h,i,j,k,l,m){e.$state=d;var n=g.id;f.tourWithAllRelated=[];var o=new Map,p=this;p.calendarView="month",p.viewDate=moment().toDate(),p.cellIsOpen=!0,p.events=[],p.viewChangeClicked=function(a){if("day"===a)return!1},b.get("/api/conversionrates").then(function(a){if("undefined"!=typeof fx&&fx.rates)fx.rates=a.data.rates,fx.base=a.data.base;else{a.data.rates,a.data.base}}),console.log(e.currency);var q={};f.$on("currency.name",function(a,b){console.log(e.currency),f.currency=j.name.newValue,q={from:j.name.oldValue,to:j.name.newValue},null!=tourWithAllRelated[0].price&&(tourWithAllRelated[0].price=accounting.unformat(tourWithAllRelated[0].price),tourWithAllRelated[0].price=accounting.formatMoney(fx.convert(tourWithAllRelated[0].price,q),{symbol:j.name.newValue,format:"%v %s"})),null!=tourWithAllRelated[0].offerprice&&(tourWithAllRelated[0].offerprice=accounting.unformat(tourWithAllRelated[0].offerprice),tourWithAllRelated[0].offerprice=accounting.formatMoney(fx.convert(tourWithAllRelated[0].offerprice,q),{symbol:j.name.newValue,format:"%v %s"}))}),f.showEnquiryForm=function(){f.showForm()},f.showForm=function(b){f.message="Show Form Button Clicked",console.log(f.message),console.log(a),f.modalInstance=a.open({templateUrl:"myModalContent.html",controller:"ContactusController",scope:f,backdrop:"static",size:"md",resolve:{userForm:function(){return f.userForm}}}),f.modalInstance.result.then(function(a){f.selected=a},function(){console.log("Modal dismissed at: "+new Date)})},f.cancel=function(){f.modalInstance.dismiss("cancel")};var r;f.ngModelOptionsSelected=function(a){if(!arguments.length)return r;r=a},f.modelOptions={debounce:{default:500,blur:250},getterSetter:!0},f.getTourDetailsWithRelatedModels=function(){f.loading=!0,b.get("/api/tours/tourdetailswithrelatedmodels/",{params:{id:n}}).then(function(a){f.tourWithAllRelated=JSON.parse(a.data),f.allHotels=f.tourWithAllRelated[0].accomodationHotel,f.hotelsjson=[],angular.forEach(f.allHotels,function(a){f.hotelsjson.push({hotelid:a.id,city:a.location,location_id:a.location_id,budget:"Budget"==a.type?[{name:a.name,hotelid:a.id}]:[],economy:"Economy"==a.type?[{name:a.name,hotelid:a.id}]:[],elegant:"Elegant"==a.type?[{name:a.name,hotelid:a.id}]:[],deluxe:"Deluxe"==a.type?[{name:a.name,hotelid:a.id}]:[],luxury:"Luxury"==a.type?[{name:a.name,hotelid:a.id}]:[]})}),f.hotelsjson.sort(function(a,b){var c=a.city.toLowerCase(),d=b.city.toLowerCase();return c<d?-1:c>d?1:0});var c=[];f.hotelsjson.forEach(function(a){var b=c.filter(function(b,c){return b.city==a.city});if(b.length){var d=c.indexOf(b[0]);console.log(c[d].deluxe),c[d].budget=c[d].budget.concat(a.budget),c[d].economy=c[d].economy.concat(a.economy),c[d].elegant=c[d].elegant.concat(a.elegant),c[d].deluxe=c[d].deluxe.concat(a.deluxe),c[d].luxury=c[d].luxury.concat(a.luxury)}else c.push(a)}),f.output=c,console.log(f.output);var d=[];f.allHotels.forEach(function(a){d.push(a.id)}),b.post("/api/image/all",{tourids:d,parentobjectname:"hotel"}).then(function(a){console.log(a),angular.forEach(d,function(b){var c=[];angular.forEach(a.data,function(a){"hotel"==a.parentobjectname&&a.parentobjectid==b&&c.push(a)}),o.set(b,c),angular.forEach(f.allHotels,function(a){a.images=o.get(a.id)})})}),console.log(f.tourWithAllRelated),f.additionalservicesupplements=[],angular.forEach(f.tourWithAllRelated[0].tourcost,function(a){!0===a.additionalservicesupplement&&f.additionalservicesupplements.push(a)}),f._events=[],angular.forEach(f.tourWithAllRelated[0].departuredates,function(a){console.log(moment(a.startdate).toDate());var b=[];"Week"==a.repeatfrequency&&(console.log(a.repeatondayofweek),angular.forEach(a.repeatondayofweek.split(","),function(a){b.push(a.substring(0,2).toUpperCase())}));var c=rrulestr("RRULE:BYDAY="+b.toString());f._events.push({title:a.title,color:{primary:"#1e90ff",secondary:"#d1e8ff"},rrule:{freq:"Week"==a.repeatfrequency?RRule.WEEKLY:"Month"==a.repeatfrequency?RRule.MONTHLY:"Year"==a.repeatfrequency?RRule.YEARLY:"Day"==a.repeatfrequency?RRule.DAILY:RRule.WEEKLY,bymonthday:"Month"==a.repeatfrequency?a.repeatondayofmonth:null,count:a.repeatendsafteroccurrences,dtstart:moment(a.startdate).toDate(),interval:a.repeatfor,byweekday:"Week"==a.repeatfrequency?c.origOptions.byweekday:null}})}),s(),f.loading=!1},function(a){})};var s=function(){p.events=[],f._events&&f._events.length&&f._events.forEach(function(a){new RRule(angular.extend({},a.rrule,{dtstart:moment(p.viewDate).startOf(p.calendarView).toDate(),until:moment(p.viewDate).endOf(p.calendarView).toDate()})).all().forEach(function(b){var c=moment(b).format("YYYY-MM-DD")+"T"+moment(a.rrule.dtstart).format("HH:mm");p.events.push(angular.extend({},a,{startsAt:moment(c).toDate()}))})})};f.$watchGroup(["vm.calendarView","vm.viewDate"],s),p.eventClicked=function(a){console.log(a)},p.timespanClicked=function(a,b){console.log("Timespan clicked....."),"month"===p.calendarView?p.cellIsOpen&&moment(a).startOf("day").isSame(moment(p.viewDate).startOf("day"))||0===b.events.length||!b.inMonth?p.cellIsOpen=!1:(p.cellIsOpen=!0,p.viewDate=a):"year"===p.calendarView&&(p.cellIsOpen&&moment(a).startOf("month").isSame(moment(p.viewDate).startOf("month"))||0===b.events.length?p.cellIsOpen=!1:(p.cellIsOpen=!0,p.viewDate=a))},f.oneAtATime=!0,f.status={isCustomHeaderOpen:!1,isFirstOpen:!0,isFirstDisabled:!1},f.gridOptions={onRegisterApi:function(a){f.gridApi=a,f.gridApi.treeBase.state="expanded",f.gridApi.grid.registerDataChangeCallback(function(){f.gridApi.treeBase.expandAllRows()})}},f.gridOptions.enableColumnResizing=!0,f.msg={},f.gridOptions.columnDefs=[{name:"costcategory",displayName:"Cost Category",grouping:{groupPriority:0},sort:{priority:0,direction:"asc"},width:250,state:"expanded",cellTemplate:'<div><div ng-if="!col.grouping || col.grouping.groupPriority === undefined || col.grouping.groupPriority === null || ( row.groupHeader && col.grouping.groupPriority === row.treeLevel )" class="ui-grid-cell-contents" title="TOOLTIP">{{COL_FIELD CUSTOM_FILTERS}}</div></div>'},{name:"costitem",displayName:"Cost Per Person",width:200},{name:"budget",displayName:"Budget"},{name:"economy",displayName:"Economy"},{name:"elegant",displayName:"Elegant"},{name:"deluxe",displayName:"Deluxe"},{name:"luxury",displayName:"Luxury"}],f.gridOptions.data=f.myData}]).filter("filternotes",function(){return function(a,b){var c=[];return angular.forEach(a,function(a){"cost"===b&&("Tour Cost Includes"!==a.type&&"Tour Cost Not Includes"!==a.type||c.push(a)),"important"===b&&"Tour Cost Includes"!==a.type&&"Tour Cost Not Includes"!==a.type&&c.push(a)}),c}}),angular.module("clientApp").controller("DestinationViewController",["$http","$state","$rootScope","$scope","$stateParams",function(a,b,c,d,e){c.$state=b;var f=e.id;d.name=e.name,d.destination=[],d.getContinentDetails=function(){a.get("/api/continent/",{params:{id:f}}).then(function(b){var c=b.data.Countries,e=[];angular.forEach(c,function(a){e.push(a.id)}),a.post("/api/image/all/",{tourids:e,parentobjectname:"country"}).then(function(a){var b=new Map;angular.forEach(a.data,function(a){var c=[];b.has(a.parentobjectid)?(c=b.get(a.parentobjectid),c.push(a)):c.push(a),b.set(a.parentobjectid,c)}),angular.forEach(c,function(a){a.images=[],a.images.push(b.get(JSON.stringify(a.id)))}),d.countries=c})},function(a){})}}]),angular.module("clientApp").controller("CityViewController",["$http","$state","$rootScope","$scope","$stateParams",function(a,b,c,d,e){c.$state=b;var f=e.id;d.name=e.name,d.destination=[],d.getCityDetails=function(){a.get("/api/location/",{params:{id:f}}).then(function(b){d.destination=b.data,console.log(d.destination);var c=[];c.push(f),a.post("/api/image/all/",{tourids:c,parentobjectname:"location"}).then(function(a){console.log(a),d.destination.images=a})},function(a){})}}]),angular.module("clientApp").controller("CountryViewController",["$http","$state","$rootScope","$scope","$stateParams",function(a,b,c,d,e){c.$state=b;var f=e.id;d.name=e.name,d.countryData=[],d.getCountryDetails=function(){a.get("/api/country/",{params:{id:f}}).then(function(b){console.log(b.data);var c=b.data.Regions,e=[];d.countryData=b.data,c.forEach(function(a){e.push(c.id)});new Map;a.post("/api/image/all/",{tourids:e,parentobjectname:"region"}).then(function(a){var e=new Map;angular.forEach(a.data,function(a){var b=[];e.has(a.parentobjectid)?(b=e.get(a.parentobjectid),b.push(a)):b.push(a),e.set(a.parentobjectid,b)}),angular.forEach(c,function(a){a.images=[],a.images.push(e.get(JSON.stringify(a.id)))}),d.countryData.regions=c,d.countryData.locations=b.data.Locations,console.log(d.countryData.locations),console.log(d.countryData.regions)})},function(a){}),a.get("/api/country/tours",{params:{id:f}}).then(function(a){d.popularItineraries=a.data[0]},function(a){})}}]),angular.module("clientApp").controller("RegionViewController",["$http","$state","$rootScope","$scope","$stateParams",function(a,b,c,d,e){c.$state=b;var f=e.countryid,g=e.id;d.name=e.name,console.log(e),d.destination=[],d.getCountryDetails=function(){a.get("/api/country/toursforregion",{params:{id:f,regionid:g}}).then(function(a){d.popularItineraries=a.data[0],console.log(a.data[0])},function(a){})}}]),angular.module("clientApp").controller("LeadsAdminController",["$scope","$uibModal","$http","$location","$document","$log",function(a,b,c,d,e,f){a.loadLeadData=function(){a.loading=!0,c.get("/api/contactus/").then(function(b){return a.allLeads=b.data,a.loading=!1,a.allLeads},function(a){})},a.delLocation=function(b){console.log(b),b&&confirm("Are you sure you want to delete this location?")&&c.delete("/api/location/",{params:{id:b}}).then(function(b){console.log("Location deleted..."),a.loadLocationData()},function(a){})},a.showForm=function(c){a.message="Show Form Button Clicked",console.log(a.message),c&&(a.locationData=null),a.modalInstance=b.open({templateUrl:"myModalContent.html",controller:"LocationAdminController",scope:a,backdrop:"static",size:"lg",resolve:{userForm:function(){return a.userForm}}}),a.modalInstance.result.then(function(b){a.selected=b},function(){f.info("Modal dismissed at: "+new Date)})},a.cancel=function(){a.modalInstance.dismiss("cancel")},a.createUpdateLocation=function(){a.locationData&&a.locationData.id?c.post("/api/location/update/",a.locationData).then(function(b,c){console.log(b),200==b.status&&(a.modalInstance.close(),a.$parent.allLocations=a.$parent.loadLocationData())}):a.locationData?c.post("/api/location/",a.locationData).then(function(b,c){console.log(b),200==b.status&&(a.modalInstance.close(),a.$parent.allLocations=a.$parent.loadLocationData())}):console.log("Error: Location Data is invalid")};var g;a.ngModelOptionsSelected=function(a){if(!arguments.length)return g;g=a},a.modelOptions={debounce:{default:500,blur:250},getterSetter:!0}}]),angular.module("clientApp").controller("UsersAdminController",["$scope","$uibModal","$http","$location","$document","$log",function(a,b,c,d,e,f){a.userMap=new Map,a.loadUsersData=function(){console.log("Calling loadUsersData====>"),a.loading=!0,c.get("/api/regusers/").then(function(b,c){a.allUsers=b.data,a.userMap=new Map,angular.forEach(a.allUsers,function(b){a.userMap.set(b.id,b)}),a.loading=!1})},a.populateUserInstance=function(b){console.log("Calling populateUserInstance===> "+b),a.userData=a.userMap.get(b),console.log(a.userMap),console.log(a.userData),a.showForm()},a.createUpdateUser=function(){console.log(a.userData),a.userData&&a.userData.id?c.post("/api/users/update/",a.userData).then(function(b,c){console.log(b),200==b.status&&(a.modalInstance.close(),a.$parent.allUsers=a.$parent.loadUsersData())}):a.userData?c.post("/api/users/",a.userData).then(function(b,c){console.log(b),200==b.status&&(a.modalInstance.close(),a.$parent.allUsers=a.$parent.loadUsersData())}):console.log("Error: User Data is invalid")},a.delLocation=function(b){console.log(b),b&&confirm("Are you sure you want to delete this user?")&&c.delete("/api/users/",{params:{id:b}}).then(function(b){console.log("User deleted..."),a.loadUsersData()},function(a){})},a.showForm=function(c){a.message="Show Form Button Clicked",console.log(a.message),c&&(a.userData=null),a.modalInstance=b.open({templateUrl:"myModalContent.html",controller:"UsersAdminController",scope:a,backdrop:"static",size:"lg",resolve:{userForm:function(){return a.userForm}}}),a.modalInstance.result.then(function(b){a.selected=b},function(){f.info("Modal dismissed at: "+new Date)})},a.cancel=function(){a.modalInstance.dismiss("cancel")};var g;a.ngModelOptionsSelected=function(a){if(!arguments.length)return g;g=a},a.modelOptions={debounce:{default:500,blur:250},getterSetter:!0}}]),angular.module("clientApp").controller("UserProfileController",["$scope","$uibModal","$http","$location","$document","$log",function(a,b,c,d,e,f){a.loadUserData=function(){c.get("/api/isAuthenticated/").then(function(b){b.data.isLoggedIn?(a.isLoggedIn=!0,b.data.user&&(a.loggedInUser=b.data.user)):console.log("User not logged in====>")},function(b){a.isLoggedIn=!1})}}]),angular.module("clientApp").controller("ApplicationController",["$scope","$http","$location","$rootScope","$window","currency",function(a,b,c,d,e,f){console.log("In Application controller");var g=this;g.goToSearch=function(){a.key&&(e.location.href="/search?key="+a.key)},b.get("/api/isAuthenticated/").then(function(a){a.data.isLoggedIn?(g.isLoggedIn=!0,a.data.user&&"Admin"===a.data.user.type&&(g.isAdminLoggedIn=!0)):g.isAdminLoggedIn=!1,console.log(g.isAdminLoggedIn)},function(a){g.isLoggedIn=!1}),g.currencyCodes=["INR","EUR","GBP","USD"],g.selected="USD",a.$watch("vm.selected",function(a,b){f.name={newValue:a,oldValue:b},d.$broadcast("currency.name")})}]).factory("currency",function(){var a={oldValue:"",newValue:""};return a.get=function(){return a},a}),angular.module("clientApp").controller("DestinationsController",["$http","$state","$rootScope","$scope",function(a,b,c,d){var e=new Map;d.allDestinations=function(){d.loading=!0,a.get("/api/continent/all").then(function(b){console.log(b.data),d.allContinents=b.data;var c=[];d.allContinents.forEach(function(a){c.push(a.id)}),console.log(c),a.post("/api/image/all",{tourids:c,parentobjectname:"continent"}).then(function(a){angular.forEach(c,function(b){var c=[];angular.forEach(a.data,function(a){"continent"==a.parentobjectname&&a.parentobjectid==b&&c.push(a)}),e.set(b,c),angular.forEach(d.allContinents,function(a){a.images=e.get(a.id)})}),d.loading=!1,console.log(e)})},function(a){})}}]),angular.module("clientApp").controller("SubHeaderController",["$http","$state","$rootScope","$scope","$window",function(a,b,c,d,e){d.allImagesForBanner=function(){console.log("Calling subheader controller=====>"),d.bannerImages=[];var b=[];a.post("/api/image/all",{tourids:b,parentobjectname:"homepagebanner"}).then(function(a){a.data.length&&angular.forEach(a.data,function(a){d.bannerImages.push(a)})})},d.goToSearch=function(){d.key&&(e.location.href="/search?key="+d.key)}}]),angular.module("clientApp").controller("TourHeaderController",["$http","$state","$rootScope","$scope",function(a,b,c,d){d.allImagesForBanner=function(){console.log("Calling subheader controller=====>"),d.bannerImages=[];var b=[];a.post("/api/image/all",{tourids:b,parentobjectname:"homepagebanner"}).then(function(a){a.data.length&&(console.log(a.data),angular.forEach(a.data,function(a){console.log(a),d.bannerImages.push(a)}))})}}]),angular.module("clientApp").controller("ParentToursAdminController",["$scope","$uibModal","$http","$location","$document","$log","Upload","$timeout",function(a,b,c,d,e,f,g,h){a.toursMap=new Map,a.populateParentToursInstance=function(b){a.parentTourData=a.parentToursMap.get(b),a.parentTourData.tours=a.parentTourData.childTours,a.parentTourData.newImages=[];var d=[];d.push(b),c.post("/api/image/all",{tourids:d,parentobjectname:"parenttour"}).then(function(b){b.data.length&&angular.forEach(b.data,function(b){console.log(b),a.parentTourData.newImages.push(b)})}),console.log(a.parentTourData),a.showForm()},a.deleteFile=function(b){console.log(b);var c=a.parentTourData.images[b];console.log(c),c&&a.parentTourData.images.splice(b,1)},a.deleteUploadedFile=function(b){console.log(a.parentTourData.newImages[0]);var d=a.parentTourData.newImages[b];console.log(d),d&&d.id&&c.delete("/api/image/",{params:{id:d.id}}).then(function(c){200==c.status&&a.parentTourData.newImages.splice(b,1)})},a.uploadFiles=function(b){var c=a.parentTourData.images;console.log(a.parentTourData.images),angular.forEach(c,function(c){c.upload=g.upload({url:"/api/image/",method:"POST",data:{file:c,parentobjectid:b.id,parentobjectname:"parenttour"}}),c.upload.then(function(a){h(function(){c.result=a.data})},function(b){b.status>0&&(a.errorMsg=b.status+": "+b.data)},function(a){c.progress=Math.min(100,parseInt(100*a.loaded/a.total))})})},a.loadParentToursData=function(){a.allParentTours=void 0,a.parentToursMap=new Map,a.loading=!0,a.allTours=void 0,c.get("/api/tours/all/").then(function(b){a.allTours=b.data}),c.get("/api/parenttours/all/").then(function(b){a.allParentTours=b.data,angular.forEach(a.allParentTours,function(b){a.parentToursMap.set(b.id,b)}),a.loading=!1},function(a){})},a.delparenttours=function(b){console.log(b),b&&confirm("Are you sure you want to delete this parent tour?")&&c.delete("/api/parenttours/",{params:{id:b}}).then(function(b){console.log("parent tour deleted..."),a.loadParentToursData()},function(a){})},a.showForm=function(c){a.message="Show Form Button Clicked",console.log(a.message),c&&(a.parentTourData=null),a.modalInstance=b.open({templateUrl:"myModalContent.html",controller:"ParentToursAdminController",scope:a,backdrop:"static",size:"lg",resolve:{userForm:function(){return a.userForm}}}),a.modalInstance.result.then(function(b){a.selected=b},function(){f.info("Modal dismissed at: "+new Date)})},a.cancel=function(){a.modalInstance.dismiss("cancel")},a.createUpdateParentTour=function(){a.parentTourData&&a.parentTourData.id?(console.log(a.parentTourData),c.post("/api/parenttours/update/",a.parentTourData).then(function(b,c){console.log(b),200==b.status&&(a.uploadFiles(a.parentTourData),a.modalInstance.close(),a.$parent.allParentTours=a.$parent.loadParentToursData())})):a.parentTourData?(console.log(a.parentTourData.tours),c.post("/api/parenttours/",a.parentTourData).then(function(b,c){console.log(b),200==b.status&&(a.uploadFiles(b.data),a.modalInstance.close(),a.$parent.allParentTours=a.$parent.loadParentToursData())})):console.log("Error: tours Data is invalid or Invalid tour id")};var i;a.ngModelOptionsSelected=function(a){if(!arguments.length)return i;i=a},a.modelOptions={debounce:{default:500,blur:250},getterSetter:!0}}]).filter("propsFilter",function(){return function(a,b){var c=[];if(angular.isArray(a)){var d=Object.keys(b);a.forEach(function(a){for(var e=!1,f=0;f<d.length;f++){var g=d[f],h=b[g].toLowerCase();if(-1!==a[g].toString().toLowerCase().indexOf(h)){e=!0;break}}e&&c.push(a)})}else c=a;return c}}),angular.module("clientApp").controller("TripsController",["$http","$state","$rootScope","$scope",function(a,b,c,d){c.$state=b,d.rate=7,d.max=5,d.isReadonly=!1,d.hoveringOver=function(a){d.overStar=a,d.percent=a/d.max*100},d.ratingStates=[{stateOn:"glyphicon-ok-sign",stateOff:"glyphicon-ok-circle"},{stateOn:"glyphicon-star",stateOff:"glyphicon-star-empty"},{stateOn:"glyphicon-heart",stateOff:"glyphicon-ban-circle"},{stateOn:"glyphicon-heart"},{stateOff:"glyphicon-off"}];var e=new Map;d.allParentToursWithTours=function(){console.log("Calling allToursWithLocations on ng-change===> "+JSON.stringify(d.searchTour)),d.loading=!0,a.get("/api/parenttours/allTripsByOrder").then(function(b){d.allTours=b.data;var c=[];d.allTours.forEach(function(a){c.push(a.id)}),console.log(c),a.post("/api/image/all",{tourids:c,parentobjectname:"parenttour"}).then(function(a){angular.forEach(c,function(b){var c=[];angular.forEach(a.data,function(a){"parenttour"==a.parentobjectname&&a.parentobjectid==b&&c.push(a)}),e.set(b,c),angular.forEach(d.allTours,function(a){a.images=e.get(a.id)})}),d.loading=!1,console.log(e)})},function(a){})}}]),angular.module("clientApp").controller("TripViewController",["$http","$state","$rootScope","$scope","$stateParams",function(a,b,c,d,e){c.$state=b;var f=e.id,g=new Map;d.allParentToursWithTours=function(){d.loading=!0,a.get("/api/parenttours/viewtrip",{params:{id:f}}).then(function(b){d.allTours=b.data,d.childTours=d.allTours.childTours;var c=[];d.allTours.childTours.forEach(function(a){c.push(a.id)}),a.post("/api/image/all",{tourids:c,parentobjectname:"tour"}).then(function(a){angular.forEach(c,function(b){var c=[];angular.forEach(a.data,function(a){"tour"==a.parentobjectname&&a.parentobjectid==b&&c.push(a)}),g.set(b,c),angular.forEach(d.allTours.childTours,function(a){a.images=g.get(a.id)})}),d.loading=!1})},function(a){})}}]),angular.module("clientApp").controller("HotelsController",["$http","$state","$rootScope","$scope",function(a,b,c,d){var e=new Map;d.allDestinations=function(){d.loading=!0,a.get("/api/hotel/all").then(function(b){d.allHotels=b.data;var c=[];d.allHotels.forEach(function(a){c.push(a.id)}),a.post("/api/image/all",{tourids:c,parentobjectname:"hotel"}).then(function(a){angular.forEach(c,function(b){var c=[];angular.forEach(a.data,function(a){"hotel"==a.parentobjectname&&a.parentobjectid==b&&c.push(a)}),e.set(b,c),angular.forEach(d.allHotels,function(a){a.images=e.get(a.id)})}),d.loading=!1,console.log(e)})},function(a){})}}]),angular.module("clientApp").controller("HotelViewController",["$http","$state","$rootScope","$scope","$stateParams",function(a,b,c,d,e){c.$state=b;var f=e.id;d.hotel=[],d.getHotelDetails=function(){a.get("/api/hotel/",{params:{id:f}}).then(function(b){d.hotel=b.data;var c=[];c.push(f),a.post("/api/image/all/",{tourids:c,parentobjectname:"hotel"}).then(function(a){d.hotel.images=a})},function(a){})}}]),angular.module("clientApp").controller("VerifyLinkController",["$http","$state","$rootScope","$scope","$stateParams","uiGridGroupingConstants",function(a,b,c,d,e,f,g){console.log("In VerifyLinkController===>"),d.verificationSuccess=!1,d.linkExpired=!1,d.invaliduser=!1,d.newverificationemailsent=!1,d.newforgorpasswordlinksent=!1,d.passwordchangedsuccess=!1;var h=e.link,i=e.id;d.verifyLink=function(){var b={headers:{"Content-Type":"application/x-www-form-urlencoded"}},c=$.param({id:i,verifylink:h});a.post("/api/users/verify",c,b).then(function(a){console.log(a),a.data&&"success"==a.data.result?d.verificationSuccess=!0:a.data&&"Link expired"==a.data.error?(d.verificationSuccess=!1,d.linkExpired=!0):(d.invaliduser=!0,d.linkExpired=!0)})},d.updatePassword=function(){var b={headers:{"Content-Type":"application/x-www-form-urlencoded"}},c=$.param({id:i,password:d.password});a.post("/api/users/updatepassword",c,b).then(function(a){console.log(a),a.data&&1==a.data?(d.passwordchangedsuccess=!0,d.verificationSuccess=!1):d.invaliduser=!0})},d.verifyForgotPasswordLink=function(){var b={headers:{"Content-Type":"application/x-www-form-urlencoded"}},c=$.param({id:i,verifylink:h});a.post("/api/users/verify",c,b).then(function(a){console.log(a),a.data&&"success"==a.data.result?(d.verificationSuccess=!0,d.userfirstname=a.data.name):a.data&&"Link expired"==a.data.error?(d.verificationSuccess=!1,d.linkExpired=!0):(d.invaliduser=!0,d.linkExpired=!0)})},d.sendNewVerifyLink=function(){var b={headers:{"Content-Type":"application/x-www-form-urlencoded"}},c=$.param({email:d.useremail});a.post("/api/users/newverifylink",c,b).then(function(a){console.log(a),a.data&&1==a.data?d.newverificationemailsent=a.data:d.invaliduser=!0})},d.sendNewForgotPassWordLink=function(){var b={headers:{"Content-Type":"application/x-www-form-urlencoded"}},c=$.param({email:d.useremail});a.post("/api/users/forgotpassword/",c,b).then(function(a){console.log(a),a.data&&1==a.data?d.newforgorpasswordlinksent=!0:d.invaliduser=!0})}}]),angular.module("clientApp").controller("CheckoutController",["$sce","$scope","$uibModal","$http","$location","$document","$log","Upload","$timeout",function(a,b,c,d,e,f,g,h,i){b.toggleShowForm=function(){return!0},b.submitForm=function(){var c={merchant_id:"187180",order_id:"8751262825",redirect_url:"http://127.0.0.1:9000/api/ccavResponseHandler",cancel_url:"http://127.0.0.1:9000/api/ccavResponseHandler",amount:"1.00"};d.post("/api/ccavRequestHandler",c).then(function(c,d){console.log(c.data.encReq),console.log(c.data.accessCode),200==c.status&&(console.log(c.data),b.ccavenueForm=a.trustAsHtml(c.data))})},b.message="Please use the form below to pay:",b.showDropinContainer=!0,b.isError=!1,b.isPaid=!1,b.myform=[];b.getToken=function(){d({method:"POST",url:"/api/v1/token"}).then(function(a){b.clientToken=a.data.client_token})},b.pd={key:"rjQUPktU",txnid:Math.floor(1e4*Math.random()+1).toString(),amount:100.56,firstname:"Sankalp",email:"sankalp.jhingran@gmail.com",phone:14157709291,productinfo:"Taste of India",surl:"/book",furl:"/book",hash:""};var j={txnid:b.pd.txnid,email:b.pd.email,amount:b.pd.amount,productinfo:b.pd.productinfo,firstname:b.pd.firstname};b.getHashFromPayU=function(){console.log(j),d({method:"POST",url:"/api/payment",data:JSON.stringify(j)}).then(function(a){console.log(a),b.pd.hash=a.data.hash})},b.redirectToPayU=function(a){console.log(bolt),console.log("Launching payU bolt====>"),console.log(a),bolt.launch(a,{responseHandler:function(a){console.log(a),d({method:"POST",url:"/api/payment/response",headers:{Accept:"application/json","Content-Type":"application/json"},data:JSON.stringify(a.response)}).then(function(a){return a.json()}).then(function(a){console.log(a)})},catchException:function(a){console.log("Exception====>"),console.log(a.message)}})}}]),angular.module("clientApp").controller("SearchController",["$http","$state","$rootScope","$scope","$stateParams",function(a,b,c,d,e){var f=e.key;d.results=[];var g=new Map;d.searchTours=function(){d.loading=!0,console.log("In searchTours function...."),a.get("/api/search/",{params:{key:f}}).then(function(b){if(b.data.length){var c=[];angular.forEach(b.data,function(a){d.results.push(a),c.push(a.id)}),a.post("/api/image/all",{tourids:c,parentobjectname:"tour"}).then(function(a){angular.forEach(c,function(b){var c=[];angular.forEach(a.data,function(a){"tour"==a.parentobjectname&&a.parentobjectid==b&&c.push(a)}),g.set(b,c),angular.forEach(d.results,function(a){a.images=g.get(a.id)})}),d.loading=!1})}})}}]),angular.module("clientApp").controller("BookingController",["$scope","$uibModal","$http","$location","$document","$log","Upload","$timeout","$state","$rootScope","$stateParams",function(a,b,c,d,e,f,g,h,i,j,k){j.$state=i;var l=k.id;console.log(l),c.get("/api/tours/tourdetailswithrelatedmodels/",{params:{id:l}}).then(function(b){a.tourWithAllRelated=b.data,a.tourWithAllRelated[0].location=[],a.tourWithAllRelated[0].siteLocation.forEach(function(b){a.tourWithAllRelated[0].location.push(b.city)}),console.log(a.tourWithAllRelated)},function(a){});var m=this;a.max=5,m.currentStep=1,m.steps=[{step:1,name:"Passenger Details",template:"views/main/form-travellers.html"},{step:2,name:"Tour Info",template:"views/main/form-tourdetails.html"},{step:3,name:"Other Details",template:"views/main/form-otherdetails.html"},{step:4,name:"Review",template:"views/main/form-review.html"},{step:5,name:"Payment",template:"views/main/checkout.html"}],m.user={},m.formData={},m.formData.travellers=[],m.formData.travellers.push({firstname:"",lastname:"",countryandcode:"",passport:"",phone:"",gender:""}),m.addTraveller=function(){m.formData.travellers.push({firstname:"",lastname:"",countryandcode:"",passportnumber:"",phone:""})},m.deleteTraveller=function(a){console.log("Calling delete traveller====>"),console.log(a),m.formData.travellers.splice(a,1),console.log(m.formData.travellers)},m.gotoStep=function(a){m.currentStep=a,m.progress()},m.getStepTemplate=function(){for(var a=0;a<m.steps.length;a++)if(m.currentStep==m.steps[a].step)return m.steps[a].template},m.save=function(){console.log(m.formData)},m.progress=function(b,c){console.log("Calling in progress===>");a.dynamic=m.currentStep},c.get("/api/countrycodes").then(function(a){m.countrycodes=a.data})}]),angular.module("clientApp").controller("AdminSideSectionController",["$scope","$uibModal","$http","$location","$document","$log","Upload","$timeout",function(a,b,c,d,e,f,g,h){a.navigateToAdminPage=function(a){d.path="/"+a}}]),angular.module("clientApp").controller("BlogController",["$http","$state","$rootScope","$scope",function(a,b,c,d){}]),angular.module("clientApp").run(["$templateCache",function(a){a.put("views/404.html",'<style>.error-template {padding: 40px 15px;text-align: center;}\n.error-actions {margin-top:15px;margin-bottom:15px;}\n.error-actions .btn { margin-right:10px; }</style> <div class="row"> <div class="col-sm-12"> <div class="error-template"> <h1> Oops!</h1> <h2> Page not found</h2> <div class="error-details"> We apologize, but we cannot find the page you’re looking for. <br>Please start your search from Indiortour\'s homepage. </div> </div> </div> </div>'),a.put("views/admin/adminsidesction.html",'<ul class="nav nav-pills nav-stacked" style="margin-top:10px"> <li><a ng-href="/parenttours" class="active">Tour Types</a></li> <li><a ng-href="/toursadmin">Tours</a></li> <li uib-dropdown> <a uib-dropdown-toggle href=""> Locations <span class="caret"></span> </a> <ul uib-dropdown-menu> <li><a ng-href="/locationadmin" role="button"><i class="fas fa-building"></i> Cities</a></li> <li><a ng-href="/regionsadmin" role="button"><i class="fas fa-map"></i> Regions</a></li> <li><a ng-href="/countriesadmin"><i class="fas fa-home"></i> Countries</a></li> <li><a ng-href="/continentsadmin"><i class="fas fa-globe"></i> Continents</a></li> </ul> </li> <li><a ng-href="/placeadmin">Places</a></li> <li><a ng-href="/hotelsadmin">Hotels</a></li> <li><a ng-href="/itineraryadmin">Itineraries</a></li> <li><a ng-href="/departuredateadmin">Departure Dates</a></li> <li><a ng-href="/tourcostsadmin">Costs</a></li> <li><a ng-href="/tournotesadmin">Notes</a></li> <li><a ng-href="/leadsadmin">Leads</a></li> <li><a ng-href="/usersadmin">Users</a></li> <li><a ng-href="/imageadmin">Images</a></li> </ul>'),
a.put("views/admin/continentsadmin.html",'<div id="allContinents" ng-init="loadcontinentData()"> <div class="row align-items-center"> <div class="col-sm-6 col-auto mr-auto"> <h3 class="align-middle">Continents</h3> </div> <div class="col-sm-6 col-auto"> <div class="text-right align-middle"> <button type="button" class="btn btn-primary" style="margin-bottom:10px; margin-top:10px; margin-left:10px; margin-right:0px" ng-click="showForm(\'new\')">New</button> </div> </div> </div> <div class="form-group"> <div class="input-group"> <div class="input-group-addon"><i class="glyphicon glyphicon-search"></i></div> <input type="text" class="form-control" placeholder="Search continents..." ng-model="search"> </div> </div> <div ng-class="{\'loader\': loading, \'notLoading\': !loading}" id="loadingSpinner">Loading...</div> <div ng-show="!(loading)"> <table class="table table-hover table-bordered" ng-show="!(error)"> <th class="fixedWidthTableCol">Action</th> <th>Id</th> <th>Name</th> <th>Active</th> <th>Description</th> <th>Created Date</th> <th>Updated Date</th> <tr ng-repeat="x in allContinents | filter:search"> <td><a href="" tourid="{{x.tour_id}}" locid="{{x.id}}" ng-click="populateContinentInstance(x.id)">Edit</a> | <a href="" locid="{{x.id}}" ng-click="delContinent(x.id)">Del</a></td> <td>{{ x["id"] }}</td> <td>{{ x["name"] }}</td> <td>{{ x["isactive"] }}</td> <td style="white-space: pre-wrap">{{ x["description"] | truncate : 110 : \'...\' : false }}</td> <td>{{ x["createdAt"] | date: "short" }}</td> <td>{{ x["updatedAt"] | date: "short" }}</td> </tr> </table> </div> </div>  <div class="modal-demo"> <script type="text/ng-template" id="myModalContent.html"><div class="modal-header">\n            <h3 class="modal-title" id="modal-title">Create/Edit Continent</h3>\n        </div>\n        <form role="form" method="POST" ng-submit="createUpdateContinent();">\n          <div class="modal-body" id="modal-body">\n                  <div class="form-group" >\n                    <label for="city">Name</label>\n                    <input type="text" class="form-control input-sm" ng-model="continentData.name" id="name" placeholder="Name">\n                  </div>\n                  <div class="form-group">\n                    <label for="latitude">Latitude</label>\n                    <input type="text" class="form-control input-sm" ng-model="continentData.latitude" id="latitude" placeholder="Latitude">\n                  </div>\n                  <div class="form-group">\n                    <label for="longitude">Longitude</label>\n                    <input type="text" class="form-control input-sm" ng-model="continentData.longitude" id="longitude" placeholder="Longitude">\n                  </div>\n                  <div class="form-group">\n                    <label for="elevation">Elevation</label>\n                    <input type="text" class="form-control input-sm" ng-model="continentData.elevation" id="elevation" placeholder="Elevation">\n                  </div>\n                  <div class="form-group">\n                    <label for="active">Active?\n                      <input ng-model="continentData.isactive" type="checkbox" id="isactive">\n                    </label>\n                  </div>\n                  <div class="form-group">\n                    <label for="description">Description</label>\n                    <textarea class="form-control input-sm" rows="5" ng-model="continentData.description" id="description" placeholder="Description"></textarea>\n                  </div>\n                  <div class="form-group">\n                    <div  class="btn btn-default"\n                          ngf-select\n                          ng-model="continentData.images"\n                          ngf-multiple="true"\n                          accept="image/*"\n                          ngf-max-height="2000"\n                          ngf-max-size="10MB"\n                          ngf-keep="distinct"\n                          ngf-capture="camera"\n                          ngf-max-files="5">Select Images (max:5)\n                    </div>\n                    <br><br>\n                    <div>\n                        <label>New Images</label>\n                        <div class="img-row">\n                            <div class="img-column" ng-repeat="f in continentData.images" ng-show="continentData.images && continentData.images.length">\n                              <img ngf-thumbnail="f || \'/thumb.jpg\'" class="thumb scaleMain">\n                                {{f.$errorParam}}\n                              </img>\n                              <a href="" style="display:block;" ng-click="deleteFile($index)">Remove</a>\n                            </div>\n                        </div>\n                    </div>\n                    <div>\n                        <label>Uploaded Images</label>\n                        <div class="img-row">\n                          <div class="img-column" ng-repeat="f in continentData.newImages" ng-show="continentData.newImages && continentData.newImages.length">\n                            <img ng-src="/images/{{f.filename}}" class="thumb scaleMain"></img>\n                            <a href="" style="display:block;" ng-click="deleteUploadedFile($index)">Remove</a>\n                          </div>\n                        </div>\n                    </div>\n                  </div>\n          </div>\n          <div class="modal-footer">\n            <div class="btn-group" role="group" aria-label="footer buttons">\n              <button type="submit" class="btn btn-primary">Save</button>\n              <button type="button" class="btn btn-primary" ng-click="saveNew()">Save As</button>\n              <button type="button" class="btn btn-default" ng-click="cancel()">Cancel</button>\n            </div>\n          </div>\n        </form><\/script> <div class="modal-parent"> </div> </div> '),a.put("views/admin/countriesadmin.html",'<div id="allLocations" ng-init="loadcountryData()"> <div class="row align-items-center"> <div class="col-sm-6 col-auto mr-auto"> <h3 class="align-middle">Countries</h3> </div> <div class="col-sm-6 col-auto"> <div class="text-right align-middle"> <button type="button" class="btn btn-primary" style="margin-bottom:10px; margin-top:10px; margin-left:10px; margin-right:0px" ng-click="showForm(\'new\')">New</button> </div> </div> </div> <div class="form-group"> <div class="input-group"> <div class="input-group-addon"><i class="glyphicon glyphicon-search"></i></div> <input type="text" class="form-control" placeholder="Search countries..." ng-model="search"> </div> </div> <div ng-class="{\'loader\': loading, \'notLoading\': !loading}" id="loadingSpinner">Loading...</div> <div ng-show="!(loading)"> <table class="table table-hover table-bordered" ng-show="!(error)"> <th class="fixedWidthTableCol">Action</th> <th>Id</th> <th>Name</th> <th>Continent</th> <th>Description</th> <th>Created Date</th> <th>Updated Date</th> <tr ng-repeat="x in allLocations | filter:search"> <td><a href="" tourid="{{x.tour_id}}" locid="{{x.id}}" ng-click="populateCountryInstance(x.id)">Edit</a> | <a href="" locid="{{x.id}}" ng-click="delCountry(x.id)">Del</a></td> <td>{{ x["id"] }}</td> <td>{{ x["name"] }}</td> <td>{{ x.continent }}</td> <td style="white-space: pre-wrap">{{ x["description"] | truncate : 110 : \'...\' : false }}</td> <td>{{ x["createdAt"] | date: "short" }}</td> <td>{{ x["updatedAt"] | date: "short" }}</td> </tr> </table> </div> </div>  <div class="modal-demo"> <script type="text/ng-template" id="myModalContent.html"><div class="modal-header">\n            <h3 class="modal-title" id="modal-title">Create/Edit Country</h3>\n        </div>\n        <form role="form" method="POST" ng-submit="createUpdateCountry();">\n          <div class="modal-body" id="modal-body">\n                  <div class="form-group" >\n                    <label for="city">Name</label>\n                    <input type="text" class="form-control input-sm" ng-model="countryData.name" id="city" placeholder="Name">\n                  </div>\n                  <div class="form-group">\n                    <div id="remote">\n                      <label for="continent">Continent</label>\n                      <input type="text"  ng-model="countryData.continent"\n                                          placeholder="Search continent by name..."\n                                          uib-typeahead="continent as continent.name for continent in allContinents | filter: {name:$viewValue}"\n                                          typeahead-wait-ms="1000"\n                                          typeahead-min-length="3"\n                                          typeahead-loading="loadingContinents"\n                                          typeahead-no-results="noResults"\n                                          typeahead-editable=false\n                                          class="form-control"\n                                          value="countryData.continent_id"\n                                          id="location.continent">\n                      <i ng-show="loadingContinents" class="glyphicon glyphicon-refresh"></i>\n                      <div ng-show="noResults">\n                        <i class="glyphicon glyphicon-remove"></i> No Results Found\n                      </div>\n                    </div>\n                  </div>\n                  <div class="form-group">\n                    <label for="latitude">Latitude</label>\n                    <input type="text" class="form-control input-sm" ng-model="countryData.latitude" id="latitude" placeholder="Latitude">\n                  </div>\n                  <div class="form-group">\n                    <label for="longitude">Longitude</label>\n                    <input type="text" class="form-control input-sm" ng-model="countryData.longitude" id="longitude" placeholder="Longitude">\n                  </div>\n                  <div class="form-group">\n                    <label for="elevation">Elevation</label>\n                    <input type="text" class="form-control input-sm" ng-model="countryData.elevation" id="elevation" placeholder="Elevation">\n                  </div>\n                  <div class="form-group">\n                    <label for="description">Description</label>\n                    <textarea class="form-control input-sm" rows="5" ng-model="countryData.description" id="description" placeholder="Description"></textarea>\n                  </div>\n                  <div class="form-group">\n                    <div  class="btn btn-default"\n                          ngf-select\n                          ng-model="countryData.images"\n                          ngf-multiple="true"\n                          accept="image/*"\n                          ngf-max-height="2000"\n                          ngf-max-size="10MB"\n                          ngf-keep="distinct"\n                          ngf-capture="camera"\n                          ngf-max-files="5">Select Images (max:5)\n                    </div>\n                    <br><br>\n                    <div>\n                        <label>New Images</label>\n                        <div class="img-row">\n                            <div class="img-column" ng-repeat="f in countryData.images" ng-show="countryData.images && countryData.images.length">\n                              <img ngf-thumbnail="f || \'/thumb.jpg\'" class="thumb scaleMain">\n                                {{f.$errorParam}}\n                              </img>\n                              <a href="" style="display:block;" ng-click="deleteFile($index)">Remove</a>\n                            </div>\n                        </div>\n                    </div>\n                    <div>\n                        <label>Uploaded Images</label>\n                        <div class="img-row">\n                          <div class="img-column" ng-repeat="f in countryData.newImages" ng-show="countryData.newImages && countryData.newImages.length">\n                            <img ng-src="/images/{{f.filename}}" class="thumb scaleMain"></img>\n                            <a href="" style="display:block;" ng-click="deleteUploadedFile($index)">Remove</a>\n                          </div>\n                        </div>\n                    </div>\n                  </div>\n          </div>\n          <div class="modal-footer">\n            <div class="btn-group" role="group" aria-label="footer buttons">\n              <button type="submit" class="btn btn-primary">Save</button>\n              <button type="button" class="btn btn-primary" ng-click="saveNew()">Save As</button>\n              <button type="button" class="btn btn-default" ng-click="cancel()">Cancel</button>\n            </div>\n          </div>\n        </form><\/script> <div class="modal-parent"> </div> </div> '),a.put("views/admin/departuredateadmin.html",'<div id="allDates" ng-init="loaddepartureDatesData()"> <div class="row align-items-center"> <div class="col-sm-6 col-auto mr-auto"> <h3 class="align-middle">Departure Dates</h3> </div> <div class="col-sm-6 col-auto"> <div class="text-right align-middle"> <button type="button" class="btn btn-primary" style="margin-bottom:10px; margin-top:10px; margin-left:10px; margin-right:0px" ng-click="showForm(\'new\')">New</button> </div> </div> </div> <div class="form-group"> <div class="input-group"> <div class="input-group-addon"><i class="glyphicon glyphicon-search"></i></div> <input type="text" class="form-control" placeholder="Search Departure Dates..." ng-model="search"> </div> </div> <div ng-class="{\'loader\': loading, \'notLoading\': !loading}" id="loadingSpinner">Loading...</div> <div ng-show="!(loading)"> <table class="table table-hover table-bordered" ng-show="!(error)"> <th class="fixedWidthTableCol">Action</th> <th>Id</th> <th>Tour Name</th> <th>Title</th> <th>Created Date</th> <th>Updated Date</th> <tr ng-repeat="x in alldepartureDatess | filter:search"> <td><a href="" tourid="{{x.tour_id}}" locid="{{x.id}}" ng-click="populatedepartureDatesInstance(x.id)">Edit</a> | <a href="" locid="{{x.id}}" ng-click="deldepartureDates(x.id)">Del</a></td> <td>{{ x["id"] }}</td> <td>{{ x["tourname"] }}</td> <td>{{ x["title"] }}</td> <td>{{ x["createdAt"] | date: "short" }}</td> <td>{{ x["updatedAt"] | date: "short" }}</td> </tr> </table> </div> </div>  <div class="modal-demo"> <script type="text/ng-template" id="myModalContent.html"><div class="modal-header">\n            <h3 class="modal-title" id="modal-title">Create/Edit Departure Dates</h3>\n        </div>\n        <form role="form" method="POST" ng-submit="createUpdatedepartureDates();">\n          <div class="modal-body" id="modal-body">\n                  <div class="form-group">\n                    <div id="remote">\n                      <label for="tourid">Tour</label>\n                      \x3c!-- uib-typeahead="tour.name for tour in getToursByName($viewValue)" --\x3e\n                      <input type="text"  ng-model="departureDatesData.tour"\n                                          placeholder="Search Tours By Name..."\n                                          uib-typeahead="tour as tour.name for tour in allTours | filter: {name:$viewValue}"\n                                          typeahead-wait-ms="1000"\n                                          typeahead-min-length="3"\n                                          typeahead-loading="loadingLocations"\n                                          typeahead-no-results="noResults"\n                                          typeahead-editable=false\n                                          class="form-control"\n                                          value="tour.name">\n                      <i ng-show="loadingLocations" class="glyphicon glyphicon-refresh"></i>\n                      <div ng-show="noResults">\n                        <i class="glyphicon glyphicon-remove"></i> No Results Found\n                      </div>\n                    </div>\n                  </div>\n                  <div class="form-group">\n                    <label for="title">Title</label>\n                    <input type="text" class="form-control input-sm" ng-model="departureDatesData.title" id="title" placeholder="Title">\n                  </div>\n                  <div class="form-group">\n                    <label for="startat">Start Date/Time</label>\n                    <input type="datetime-local" class="form-control input-sm" ng-model="departureDatesData.startdate" id="startat">\n                  </div>\n                  <div class="form-group">\n                    <label for="repeatevery">Repeat every</label>\n                    <input class="form-control" name="repeatevery" type="number" ng-model="departureDatesData.repeatfor" ng-pattern="/^[0-9]{1,7}$/">\n                    <select class="form-control" ng-model="departureDatesData.repeatfrequency">\n                      <option value="Day">Day</option>\n                      <option value="Week">Week</option>\n                      <option value="Month">Month</option>\n                      <option value="Year">Year</option>\n                    </select>\n                  </div>\n                  <div class="form-group" ng-show="departureDatesData.repeatfrequency == \'Month\'">\n                    <label for="repeatfrequency">Repeat on day of the month</label>\n                    <input type="number" name="repeatfrequency" ng-model="departureDatesData.repeatondayofmonth" ng-pattern="/^[0-9]{1,7}$/">\n                  </div>\n                  <div class="form-group" ng-show="departureDatesData.repeatfrequency == \'Week\'">\n                    <label for="repeatondayofweek">Repeat on day of the week</label>\n                    <select multiple class="form-control" name="repeatondayofweek" ng-model="departureDatesData.repeatondayofweek">\n                      <option value="sunday">Sunday</option>\n                      <option value="monday">Monday</option>\n                      <option value="tuesday">Tuesday</option>\n                      <option value="wednesday">Wednesday</option>\n                      <option value="thursday">Thursday</option>\n                      <option value="friday">Friday</option>\n                      <option value="saturday">Saturday</option>\n                    </select>\n                  </div>\n                  <div class="form-group">\n                    <label>Repeat Ends</label>\n                    <div class="radio">\n                      <label><input type="radio" ng-model="departureDatesData.repeatSelection" ng-value="\'never\'">Never</label>\n                    </div>\n                    <div class="radio">\n                      <label><input type="radio" ng-model="departureDatesData.repeatSelection" ng-value="\'on\'">On</label>\n                      <input type="date" ng-model="departureDatesData.repeatendsondate" ng-disabled="departureDatesData.repeatSelection != \'on\'" />\n                    </div>\n                    <div class="radio">\n                      <label for="repeatendsafteroccurrences"><input type="radio" ng-model="departureDatesData.repeatSelection" ng-value="\'after\'">After</label>\n                      <input type="number" name="repeatendsafteroccurrences" ng-model="departureDatesData.repeatendsafteroccurrences" ng-pattern="/^[0-9]{1,7}$/" ng-disabled="departureDatesData.repeatSelection != \'after\'">\n                    </div>\n                  </div>\n          </div>\n          <div class="modal-footer">\n            <div class="btn-group" role="group" aria-label="footer buttons">\n              <button type="submit" class="btn btn-primary">Save</button>\n              <button type="button" class="btn btn-primary">Save As</button>\n              <button type="button" class="btn btn-default" ng-click="cancel()">Cancel</button>\n            </div>\n          </div>\n        </form><\/script> <div class="modal-parent"> </div> </div> '),a.put("views/admin/hotelsadmin.html",'<div id="allHotels" ng-init="loadhotelData()"> <div class="row align-items-center"> <div class="col-sm-6 col-auto mr-auto"> <h3 class="align-middle">Hotels</h3> </div> <div class="col-sm-6 col-auto"> <div class="text-right align-middle"> <button type="button" class="btn btn-primary" style="margin-bottom:10px; margin-top:10px; margin-left:10px; margin-right:0px" ng-click="showForm(\'new\')">New</button> </div> </div> </div> <div class="form-group"> <div class="input-group"> <div class="input-group-addon"><i class="glyphicon glyphicon-search"></i></div> <input type="text" class="form-control" placeholder="Search Hotels..." ng-model="search"> </div> </div> <div ng-class="{\'loader\': loading, \'notLoading\': !loading}" id="loadingSpinner">Loading...</div> <div ng-show="!(loading)"> <table class="table table-hover table-bordered" ng-show="!(error)"> <th class="fixedWidthTableCol">Action</th> <th>Id</th> <th>Name</th> <th>Location</th> <th>Hotel Type</th> <th>Description</th> <th>Created Date</th> <th>Updated Date</th> <tr ng-repeat="x in allHotels | filter:search"> <td><a href="" ng-click="populatehotelInstance(x.id)">Edit</a> | <a href="" ng-click="delhotel(x.id)">Del</a></td> <td>{{ x["id"] }}</td> <td>{{ x["name"] }}</td> <td>{{ x["hotelcity"] }}</td> <td>{{ x["type"] }}</td> <td style="white-space: pre-wrap">{{ x["description"] | truncate : 110 : \'...\' : false }}</td> <td>{{ x["createdAt"] | date: "short" }}</td> <td>{{ x["updatedAt"] | date: "short" }}</td> </tr> </table> </div> </div>  <div class="modal-demo"> <script type="text/ng-template" id="myModalContent.html"><div class="modal-header">\n            <h3 class="modal-title" id="modal-title">Create/Edit Hotel</h3>\n        </div>\n        <form role="form" method="POST" ng-submit="createUpdatehotel();">\n          <div class="modal-body" id="modal-body">\n            <div class="form-group">\n              <div id="remote">\n                <label for="locationid">Location</label>\n                \x3c!-- uib-typeahead="tour.name for tour in getToursByName($viewValue)" --\x3e\n                <input type="text"  ng-model="hotelData.location"\n                                    placeholder="Search Locations By Name..."\n                                    uib-typeahead="location as location.city for location in allLocations | filter: {city:$viewValue}"\n                                    typeahead-wait-ms="1000"\n                                    typeahead-min-length="3"\n                                    typeahead-loading="loadingLocations"\n                                    typeahead-no-results="noResults"\n                                    typeahead-editable=false\n                                    class="form-control"\n                                    value="hotelData.hotelcity"\n                                    id="location.city">\n                <i ng-show="loadingLocations" class="glyphicon glyphicon-refresh"></i>\n                <div ng-show="noResults">\n                  <i class="glyphicon glyphicon-remove"></i> No Results Found\n                </div>\n              </div>\n            </div>\n            <div class="form-group">\n              <label for="name">Name</label>\n              <input type="text" class="form-control input-sm" ng-model="hotelData.name" id="name" placeholder="Name">\n            </div>\n            <div class="form-group">\n              <label for="hoteltype">Hotel Type</label>\n              <select class="form-control input-sm" id="hoteltype" ng-model="hotelData.type" placeholder="Hotel Type">\n                <option>Budget</option>\n                <option>Economy</option>\n                <option>Elegant</option>\n                <option>Deluxe</option>\n                <option>Luxury</option>\n              </select>\n            </div>\n            <div class="form-group">\n              <label for="description">Description</label>\n              <textarea class="form-control input-sm" rows="5" ng-model="hotelData.description" id="description" placeholder="Description"></textarea>\n            </div>\n            <div class="form-group">\n              <div  class="btn btn-default"\n                    ngf-select\n                    ng-model="hotelData.images"\n                    ngf-multiple="true"\n                    accept="image/*"\n                    ngf-max-height="2000"\n                    ngf-max-size="10MB"\n                    ngf-keep="distinct"\n                    ngf-capture="camera"\n                    ngf-max-files="5">Select Images (max:5)\n              </div>\n              <br><br>\n              <div>\n                  <label>New Images</label>\n                  <div class="img-row">\n                      <div class="img-column" ng-repeat="f in hotelData.images" ng-show="hotelData.images && hotelData.images.length">\n                        <img ngf-thumbnail="f || \'/thumb.jpg\'" class="thumb scaleMain">\n                          {{f.$errorParam}}\n                        </img>\n                        <a href="" style="display:block;" ng-click="deleteFile($index)">Remove</a>\n                      </div>\n                  </div>\n              </div>\n              <div>\n                  <label>Uploaded Images</label>\n                  <div class="img-row">\n                    <div class="img-column" ng-repeat="f in hotelData.newImages" ng-show="hotelData.newImages && hotelData.newImages.length">\n                      <img ng-src="/images/{{f.filename}}" class="thumb scaleMain"></img>\n                      <a href="" style="display:block;" ng-click="deleteUploadedFile($index)">Remove</a>\n                    </div>\n                  </div>\n              </div>\n            </div>\n          </div>\n          <div class="modal-footer">\n            <div class="btn-group" role="group" aria-label="footer buttons">\n              <button type="submit" class="btn btn-primary">Save</button>\n              <button type="button" class="btn btn-primary">Save As</button>\n              <button type="button" class="btn btn-default" ng-click="cancel()">Cancel</button>\n            </div>\n          </div>\n        </form><\/script> <div class="modal-parent"> </div> </div> '),a.put("views/admin/imagesadmin.html",'<div id="allPlaces" ng-init="loadImagesData()"> <div class="row align-items-center"> <div class="col-sm-6 col-auto mr-auto"> <h3 class="align-middle">Images</h3> </div> <div class="col-sm-6 col-auto"> <div class="text-right align-middle"> <button type="button" class="btn btn-primary" style="margin-bottom:10px; margin-top:10px; margin-left:10px; margin-right:0px" ng-click="showForm(\'new\')">New</button> </div> </div> </div> <div class="form-group"> <div class="input-group"> <div class="input-group-addon"><i class="glyphicon glyphicon-search"></i></div> <input type="text" class="form-control" placeholder="Search Images..." ng-model="search"> </div> </div> <div ng-class="{\'loader\': loading, \'notLoading\': !loading}" id="loadingSpinner">Loading...</div> <div ng-show="!(loading)"> <table class="table table-hover table-bordered table-condensed" ng-show="!(error)"> <th class="fixedWidthTableCol">Action</th> <th>Id</th> <th>Name</th> <th>Parent Name</th> <th>Parent Id</th> <th>Preview</th> <th>Created Date</th> <th>Updated Date</th> <tr ng-repeat="x in aImages | filter:search"> <td><a href="" locid="{{x.id}}" ng-click="delImage(x.id)">Del</a></td> <td>{{ x["id"] }}</td> <td>{{ x["filename"] | truncate : 50 : \'...\' : false }}</td> <td>{{ x["parentobjectname"] }}</td> <td>{{ x["parentobjectid"] }}</td> <td> <img ng-src="/images/{{x.filename}}" class="thumb scaleMain">  </td> <td>{{ x["createdAt"] | date: "short" }}</td> <td>{{ x["updatedAt"] | date: "short" }}</td> </tr> </table> <div style="text-align:center"> <ul uib-pagination total-items="totalItems" ng-model="currentPage" items-per-page="itemsPerPage" ng-change="pageChanged()" max-size="maxSize" class="pagination-md" boundary-links="true" num-pages="numPages"></ul> </div> </div> </div>  <div class="modal-demo"> <script type="text/ng-template" id="myModalContent.html"><div class="modal-header">\n            <h3 class="modal-title" id="modal-title">Create Image</h3>\n        </div>\n        <form role="form" method="POST" ng-submit="createUpdateImage();">\n          <div class="modal-body" id="modal-body">\n                  <div class="form-group" >\n                    <label for="name">Name</label>\n                    <input type="text" class="form-control input-sm" ng-model="imageData.filename" id="name" placeholder="Name">\n                  </div>\n                  <div class="form-group" >\n                    <label for="parentobjectname">Parent Object Name</label>\n                    <input type="text" class="form-control input-sm" ng-model="imageData.parentobjectname" id="pname" placeholder="Parent Object Name">\n                  </div>\n                  <div class="form-group">\n                    <label for="description">Description</label>\n                    <textarea class="form-control input-sm" rows="5" ng-model="imageData.description" id="description" placeholder="Description"></textarea>\n                  </div>\n                  <div class="form-group">\n                    <div  class="btn btn-default"\n                          ngf-select\n                          ng-model="imageData.images"\n                          ngf-multiple="true"\n                          accept="image/*"\n                          ngf-max-height="2000"\n                          ngf-max-size="10MB"\n                          ngf-keep="distinct"\n                          ngf-capture="camera"\n                          ngf-max-files="5">Select Images (max:5)\n                    </div>\n                    <br><br>\n                    <div>\n                        <label>New Images</label>\n                        <span ng-repeat="f in imageData.images" ng-show="imageData.images && imageData.images.length">\n                            <img ngf-thumbnail="f || \'/thumb.jpg\'" class="thumb scaleMain">\n                              {{f.$errorParam}}\n                            </img>\n                            <a href="" style="display:block;" ng-click="deleteFile($index)">Remove</a>\n                        </span>\n                    </div>\n                    <div>\n                        <label>Uploaded Images</label>\n                        <span ng-repeat="f in imageData.newImages" ng-show="imageData.newImages && imageData.newImages.length">\n                            <img ng-src="/images/{{f.filename}}" class="thumb scaleMain">\n                              {{f.$errorParam}}\n                            </img>\n                            <a href="" style="display:block;" ng-click="deleteUploadedFile($index)">Remove</a>\n                        </span>\n                    </div>\n          </div>\n          <div class="modal-footer">\n            <div class="btn-group" role="group" aria-label="footer buttons">\n              <button type="submit" class="btn btn-primary">Save</button>\n              <button type="button" class="btn btn-primary" ng-click="saveNew()">Save As</button>\n              <button type="button" class="btn btn-default" ng-click="cancel()">Cancel</button>\n            </div>\n          </div>\n        </form><\/script> <div class="modal-parent"> </div> </div> '),
a.put("views/admin/itineraryadmin.html",'<div id="allItineraries" ng-init="loaditineraryData()"> <div class="row align-items-center"> <div class="col-sm-6 col-auto mr-auto"> <h3 class="align-middle">Itineraries</h3> </div> <div class="col-sm-6 col-auto"> <div class="text-right align-middle"> <button type="button" class="btn btn-primary" style="margin-bottom:10px; margin-top:10px; margin-left:10px; margin-right:0px" ng-click="showForm(\'new\')">New</button> </div> </div> </div> <div class="form-group"> <div class="input-group"> <div class="input-group-addon"><i class="glyphicon glyphicon-search"></i></div> <input type="text" class="form-control" placeholder="Search Itineraries..." ng-model="search"> </div> </div> <div ng-class="{\'loader\': loading, \'notLoading\': !loading}" id="loadingSpinner">Loading...</div> <div ng-show="!(loading)"> <table class="table table-hover table-bordered" ng-show="!(error)"> <th class="fixedWidthTableCol">Action</th> <th>Id</th> <th>Tour Name</th> <th>Created Date</th> <th>Updated Date</th> <tr ng-repeat="x in allTours | filter:search"> <td><a href="" tourid="{{x.tour_id}}" locid="{{x.id}}" ng-click="populateitineraryInstance(x.id, false)">Edit</a> | <a href="" locid="{{x.id}}" ng-click="delitinerary(x.id)">Del</a></td> <td>{{ x["id"] }}</td> <td>{{ x["name"] }}</td> <td>{{ x["createdAt"] | date: "short" }}</td> <td>{{ x["updatedAt"] | date: "short" }}</td> </tr> </table> </div> </div>  <div class="modal-demo"> <script type="text/ng-template" id="myModalContent.html"><div class="modal-header">\n            <h3 class="modal-title" id="modal-title">Create/Edit Itinerary</h3>\n        </div>\n        <form role="form" method="POST" ng-submit="createUpdateitinerary();">\n          <div class="modal-body" id="modal-body">\n                  <div class="form-group">\n                    <div id="remote">\n                      <label for="tourid">Tour</label>\n                      \x3c!-- uib-typeahead="tour.name for tour in getToursByName($viewValue)" --\x3e\n                      <input type="text"  ng-model="tour"\n                                          placeholder="Search Tours By Name..."\n                                          uib-typeahead="tour as tour.name for tour in allTours | filter: {name:$viewValue}"\n                                          typeahead-wait-ms="1000"\n                                          typeahead-min-length="3"\n                                          typeahead-loading="loadingTours"\n                                          typeahead-no-results="noResults"\n                                          typeahead-editable=false\n                                          class="form-control"\n                                          value="tour.name">\n                      <i ng-show="loadingTours" class="glyphicon glyphicon-refresh"></i>\n                      <div ng-show="noResults">\n                        <i class="glyphicon glyphicon-remove"></i> No Results Found\n                      </div>\n                    </div>\n                  </div>\n                  <div ng-repeat="row in itnRows">\n                    <div class="form-group">\n                      <label for="itday">Day</label>\n                      <input type="text" class="form-control input-sm" ng-model="row.day" id="itday" placeholder="Day">\n                    </div>\n                    <div class="form-group">\n                      <label for="itdescription">Description</label>\n                      <textarea class="form-control input-sm" rows="5" ng-model="row.description" id="itdescription" placeholder="Description"></textarea>\n                    </div>\n                  </div>\n                  <button type="button" class="btn btn-primary" ng-click="addRow()">Add Day</button>\n          </div>\n          <div class="modal-footer">\n            <div class="btn-group" role="group" aria-label="footer buttons">\n              <button type="submit" class="btn btn-primary">Save</button>\n              <button type="button" class="btn btn-primary" ng-click="saveAs()">Save As</button>\n              <button type="button" class="btn btn-default" ng-click="cancel()">Cancel</button>\n            </div>\n          </div>\n        </form><\/script> <div class="modal-parent"> </div> </div> '),a.put("views/admin/leadsadmin.html",'<div id="allLocations" ng-init="loadLeadData()"> <div class="row align-items-center"> <div class="col-sm-6 col-auto mr-auto"> <h3 class="align-middle">Leads</h3> </div> </div> <div class="form-group"> <div class="input-group"> <div class="input-group-addon"><i class="glyphicon glyphicon-search"></i></div> <input type="text" class="form-control" placeholder="Search Leads..." ng-model="search"> </div> </div> <div ng-class="{\'loader\': loading, \'notLoading\': !loading}" id="loadingSpinner">Loading...</div> <div ng-show="!(loading)"> <table class="table table-hover table-bordered" ng-show="!(error)"> <th>Id</th> <th>Name</th> <th>Related To</th> <th>Related To ID</th> <th>Email</th> <th>Phone</th> <th>Planned Arrival</th> <th>Num. of Days</th> <th>Preferred Hotel</th> <th>Message</th> <th>Created Date</th> <tr ng-repeat="x in allLeads | filter:search"> <td>{{ x["id"] }}</td> <td>{{ x["name"] }}</td> <td>{{ x["relatedtotype"] }}</td> <td>{{ x["relatedtoid"] }}</td> <td>{{ x["email"] }}</td> <td>{{ x["phone"] }}</td> <td>{{ x["plannedarrival"] }}</td> <td>{{ x["numdays"] }}</td> <td>{{ x["preferredhoteltype"] }}</td> <td>{{ x["message"] }}</td> <td>{{ x["createdAt"] | date:"yyyy-MM-dd" }}</td> </tr> </table> </div> </div>  <div class="modal-demo"> <script type="text/ng-template" id="myModalContent.html"><div class="modal-header">\n            <h3 class="modal-title" id="modal-title">Create/Edit Location</h3>\n        </div>\n        <form role="form" method="POST" ng-submit="createUpdateLocation();">\n          <div class="modal-body" id="modal-body">\n                  <div class="form-group" >\n                    <label for="city">City</label>\n                    <input type="text" class="form-control input-sm" ng-model="locationData.city" id="city" placeholder="City">\n                  </div>\n                  <div class="form-group">\n                    <label for="country">Country</label>\n                    <input type="text" class="form-control input-sm" ng-model="locationData.country" id="country" placeholder="Country">\n                  </div>\n                  <div class="form-group">\n                    <label for="continent">Continent</label>\n                    <input type="text" class="form-control input-sm" ng-model="locationData.continent" id="continent" placeholder="Continent">\n                  </div>\n                  <div class="form-group">\n                    <label for="subcontinent">Sub Continent</label>\n                    <input type="text" class="form-control input-sm" ng-model="locationData.subcontinent" id="subcontinent" placeholder="Sub Continent">\n                  </div>\n                  <div class="form-group">\n                    <label for="description">Description</label>\n                    <textarea class="form-control input-sm" rows="5" ng-model="locationData.description" id="description" placeholder="Description"></textarea>\n                  </div>\n          </div>\n          <div class="modal-footer">\n            <div class="btn-group" role="group" aria-label="footer buttons">\n              <button type="submit" class="btn btn-primary">Save</button>\n              <button type="button" class="btn btn-primary" ng-click="saveNew()">Save As</button>\n              <button type="button" class="btn btn-default" ng-click="cancel()">Cancel</button>\n            </div>\n          </div>\n        </form><\/script> <div class="modal-parent"> </div> </div> '),a.put("views/admin/locationadmin.html",'<div id="allLocations" ng-init="loadLocationData()"> <div class="row align-items-center"> <div class="col-sm-6 col-auto mr-auto"> <h3 class="align-middle">Cities</h3> </div> <div class="col-sm-6 col-auto"> <div class="text-right align-middle"> <button type="button" class="btn btn-primary" style="margin-bottom:10px; margin-top:10px; margin-left:10px; margin-right:0px" ng-click="showForm(\'new\')">New</button> </div> </div> </div> <div class="form-group"> <div class="input-group"> <div class="input-group-addon"><i class="glyphicon glyphicon-search"></i></div> <input type="text" class="form-control" placeholder="Search cities..." ng-model="search"> </div> </div> <div ng-class="{\'loader\': loading, \'notLoading\': !loading}" id="loadingSpinner">Loading...</div> <div ng-show="!(loading)"> <table class="table table-hover table-bordered" ng-show="!(error)"> <th class="fixedWidthTableCol">Action</th> <th>Id</th> <th>City</th> <th>State</th> <th>Region</th> <th>Country</th> <th>Continent</th> <th>Description</th> <th>Created Date</th> <th>Updated Date</th> <tr ng-repeat="x in allLocations | filter:search"> <td><a href="" tourid="{{x.tour_id}}" locid="{{x.id}}" ng-click="populateLocationInstance(x.id)">Edit</a> | <a href="" locid="{{x.id}}" ng-click="delLocation(x.id)">Del</a></td> <td>{{ x["id"] }}</td> <td>{{ x["city"] }}</td> <td>{{ x["state"] }}</td> <td>{{ x["region"] }}</td> <td>{{ x.country }}</td> <td>{{ x.continent }}</td> <td style="white-space: pre-wrap">{{ x["description"] | truncate : 110 : \'...\' : false }}</td> <td>{{ x["createdAt"] | date: "short" }}</td> <td>{{ x["updatedAt"] | date: "short" }}</td> </tr> </table> </div> </div>  <div class="modal-demo"> <script type="text/ng-template" id="myModalContent.html"><div class="modal-header">\n            <h3 class="modal-title" id="modal-title">Create/Edit Location</h3>\n        </div>\n        <form role="form" method="POST" ng-submit="createUpdateLocation();">\n          <div class="modal-body" id="modal-body">\n                  <div class="form-group" >\n                    <label for="city">City</label>\n                    <input type="text" class="form-control input-sm" ng-model="locationData.city" id="city" placeholder="City">\n                  </div>\n                  <div class="form-group" >\n                    <label for="state">State</label>\n                    <input type="text" class="form-control input-sm" ng-model="locationData.state" id="state" placeholder="State">\n                  </div>\n                  <div class="form-group">\n                    <div id="remote">\n                      <label for="country">Country</label>\n                      <input type="text"  ng-model="locationData.country"\n                                          placeholder="Search countries by name..."\n                                          uib-typeahead="country as country.name for country in allCountries | filter: {name:$viewValue}"\n                                          typeahead-wait-ms="1000"\n                                          typeahead-min-length="3"\n                                          typeahead-loading="loadingCountries"\n                                          typeahead-no-results="noResults"\n                                          typeahead-editable=false\n                                          class="form-control"\n                                          value="locationData.country_id"\n                                          id="location.country">\n                      <i ng-show="loadingCountries" class="glyphicon glyphicon-refresh"></i>\n                      <div ng-show="noResults">\n                        <i class="glyphicon glyphicon-remove"></i> No Results Found\n                      </div>\n                    </div>\n                  </div>\n                  <div class="form-group">\n                    <div id="remote">\n                      <label for="country">Region</label>\n                      <input type="text"  ng-model="locationData.region"\n                                          placeholder="Search regions by name..."\n                                          uib-typeahead="country as country.name for country in allRegions | filter: {name:$viewValue}"\n                                          typeahead-wait-ms="1000"\n                                          typeahead-min-length="3"\n                                          typeahead-loading="loadingRegions"\n                                          typeahead-no-results="noResults"\n                                          typeahead-editable=false\n                                          class="form-control"\n                                          value="locationData.region_id"\n                                          id="location.country">\n                      <i ng-show="loadingCountries" class="glyphicon glyphicon-refresh"></i>\n                      <div ng-show="noResults">\n                        <i class="glyphicon glyphicon-remove"></i> No Results Found\n                      </div>\n                    </div>\n                  </div>\n                  <div class="form-group">\n                    <div id="remote">\n                      <label for="continent">Continent</label>\n                      <input type="text"  ng-model="locationData.continent"\n                                          placeholder="Search continent by name..."\n                                          uib-typeahead="continent as continent.name for continent in allContinents | filter: {name:$viewValue}"\n                                          typeahead-wait-ms="1000"\n                                          typeahead-min-length="3"\n                                          typeahead-loading="loadingContinents"\n                                          typeahead-no-results="noResults"\n                                          typeahead-editable=false\n                                          class="form-control"\n                                          value="locationData.continent_id"\n                                          id="location.continent">\n                      <i ng-show="loadingContinents" class="glyphicon glyphicon-refresh"></i>\n                      <div ng-show="noResults">\n                        <i class="glyphicon glyphicon-remove"></i> No Results Found\n                      </div>\n                    </div>\n                  </div>\n                  <div class="form-group">\n                    <label for="latitude">Latitude</label>\n                    <input type="text" class="form-control input-sm" ng-model="locationData.latitude" id="latitude" placeholder="Latitude">\n                  </div>\n                  <div class="form-group">\n                    <label for="longitude">Longitude</label>\n                    <input type="text" class="form-control input-sm" ng-model="locationData.longitude" id="longitude" placeholder="Longitude">\n                  </div>\n                  <div class="form-group">\n                    <label for="elevation">Elevation</label>\n                    <input type="text" class="form-control input-sm" ng-model="locationData.elevation" id="elevation" placeholder="Elevation">\n                  </div>\n                  <div class="form-group">\n                    <label for="description">Description</label>\n                    <textarea class="form-control input-sm" rows="5" ng-model="locationData.description" id="description" placeholder="Description"></textarea>\n                  </div>\n                  <div class="form-group">\n                    <label for="micetour">Visible\n                      <input ng-model="locationData.visible" type="checkbox" id="showonhomepage">\n                    </label>\n                  </div>\n                  <div class="form-group">\n                    <div  class="btn btn-default"\n                          ngf-select\n                          ng-model="locationData.images"\n                          ngf-multiple="true"\n                          accept="image/*"\n                          ngf-max-height="2000"\n                          ngf-max-size="10MB"\n                          ngf-keep="distinct"\n                          ngf-capture="camera"\n                          ngf-max-files="5">Select Images (max:5)\n                    </div>\n                    <br><br>\n                    <div>\n                        <label>New Images</label>\n                        <div class="img-row">\n                            <div class="img-column" ng-repeat="f in locationData.images" ng-show="locationData.images && locationData.images.length">\n                              <img ngf-thumbnail="f || \'/thumb.jpg\'" class="thumb scaleMain">\n                                {{f.$errorParam}}\n                              </img>\n                              <a href="" style="display:block;" ng-click="deleteFile($index)">Remove</a>\n                            </div>\n                        </div>\n                    </div>\n                    <div>\n                        <label>Uploaded Images</label>\n                        <div class="img-row">\n                          <div class="img-column" ng-repeat="f in locationData.newImages" ng-show="locationData.newImages && locationData.newImages.length">\n                            <img ng-src="/images/{{f.filename}}" class="thumb scaleMain"></img>\n                            <a href="" style="display:block;" ng-click="deleteUploadedFile($index)">Remove</a>\n                          </div>\n                        </div>\n                    </div>\n                  </div>\n          </div>\n          <div class="modal-footer">\n            <div class="btn-group" role="group" aria-label="footer buttons">\n              <button type="submit" class="btn btn-primary">Save</button>\n              <button type="button" class="btn btn-primary" ng-click="saveNew()">Save As</button>\n              <button type="button" class="btn btn-default" ng-click="cancel()">Cancel</button>\n            </div>\n          </div>\n        </form><\/script> <div class="modal-parent"> </div> </div> '),a.put("views/admin/parenttoursadmin.html",'<div id="allTours" ng-init="loadParentToursData()"> <div class="row align-items-center"> <div class="col-sm-6 col-auto mr-auto"> <h3 class="align-middle">Tour Types</h3> </div> <div class="col-sm-6 col-auto"> <div class="text-right align-middle"> <button type="button" class="btn btn-primary" style="margin-bottom:10px; margin-top:10px; margin-left:10px; margin-right:0px" ng-click="showForm(\'new\')">New</button> </div> </div> </div> <div class="form-group"> <div class="input-group"> <div class="input-group-addon"><i class="glyphicon glyphicon-search"></i></div> <input type="text" class="form-control" placeholder="Search Trips..." ng-model="search"> </div> </div> <div ng-class="{\'loader\': loading, \'notLoading\': !loading}" id="loadingSpinner">Loading...</div> <div ng-show="!(loading)"> <table class="table table-hover table-bordered" ng-show="!(error)"> <th class="fixedWidthTableCol">Action</th> <th>Id</th> <th>Name</th> <th>Order</th> <th>Active</th> <th>Description</th> <th>Created Date</th> <th>Updated Date</th> <tr ng-repeat="x in allParentTours | filter:search"> <td><a href="" locid="{{x.id}}" ng-click="populateParentToursInstance(x.id)">Edit</a> | <a href="" locid="{{x.id}}" ng-click="delparenttours(x.id)">Del</a></td> <td>{{ x["id"] }}</td> <td>{{ x["name"] }}</td> <td>{{ x["order"] }}</td> <td>{{ x["isactive"] }}</td> <td style="white-space: pre-wrap">{{ x["description"] | truncate : 110 : \'...\' : false }}</td> <td>{{ x["createdAt"] | date: "short" }}</td> <td>{{ x["updatedAt"] | date: "short" }}</td> </tr> </table> </div> </div>  <div class="modal-demo"> <script type="text/ng-template" id="myModalContent.html"><div class="modal-header">\n            <h3 class="modal-title" id="modal-title">Create/Edit Trip</h3>\n        </div>\n        <form role="form" method="POST" ng-submit="createUpdateParentTour();">\n          <div class="modal-body" id="modal-body">\n            <div class="form-group">\n              <label for="name">Name</label>\n              <input ng-model="parentTourData.name" type="text" class="form-control input-sm" id="name" placeholder="Name">\n            </div>\n            <div class="form-group">\n              <label for="order">Order of Display\n                <input ng-model="parentTourData.order" type="number" class="form-control input-sm" id="order">\n              </label>\n            </div>\n            <div class="form-group">\n              <label for="isactive">Active\n                <input ng-model="parentTourData.isactive" type="checkbox" id="isactive">\n              </label>\n            </div>\n            <div class="form-group">\n              <label for="description">Description</label>\n              <textarea ng-model="parentTourData.description" class="form-control input-sm" rows="5" id="description" placeholder="Description"></textarea>\n            </div>\n            <div class="form-group">\n              <div id="remote">\n                  <label for="parenttourids">Tours</label>\n                  \x3c!-- New locations multi select --\x3e\n                  <ui-select id="parenttourids" multiple ng-model="parentTourData.tours" theme="bootstrap" close-on-select="false"  title="Select Tours...">\n                  <ui-select-match placeholder="Select Tours...">{{$item.name}}</ui-select-match>\n                  <ui-select-choices repeat="tour in allTours | propsFilter: {name: $select.search}">\n                    <div ng-bind-html="tour.name | highlight: $select.search"></div>\n                  </ui-select-choices>\n              </ui-select>\n              </div>\n            </div>\n            <div class="form-group">\n              <div  class="btn btn-default"\n                    ngf-select\n                    ng-model="parentTourData.images"\n                    ngf-multiple="true"\n                    accept="image/*"\n                    ngf-max-height="2000"\n                    ngf-max-size="10MB"\n                    ngf-keep="distinct"\n                    ngf-capture="camera"\n                    ngf-max-files="5">Select Images (max:5)</div>\n              <br><br>\n              <div>\n                  <label>New Images</label>\n                  <div class="img-row">\n                      <div class="img-column" ng-repeat="f in parentTourData.images" ng-show="parentTourData.images && parentTourData.images.length">\n                        <img ngf-thumbnail="f || \'/thumb.jpg\'" class="thumb scaleMain">\n                          {{f.$errorParam}}\n                        </img>\n                        <a href="" style="display:block;" ng-click="deleteFile($index)">Remove</a>\n                      </div>\n                  </div>\n              </div>\n              <div>\n                  <label>Uploaded Images</label>\n                  <div class="img-row">\n                    <div class="img-column" ng-repeat="f in parentTourData.newImages" ng-show="parentTourData.newImages && parentTourData.newImages.length">\n                      <img ng-src="/images/{{f.filename}}" class="thumb scaleMain"></img>\n                      <a href="" style="display:block;" ng-click="deleteUploadedFile($index)">Remove</a>\n                    </div>\n                  </div>\n              </div>\n\n              \x3c!-- Modal body ends --\x3e\n            </div>\n          </div>\n          <div class="modal-footer">\n            <div class="btn-group" role="group" aria-label="footer buttons">\n              <button type="submit" class="btn btn-primary">Save</button>\n              \x3c!-- <button type="button" class="btn btn-primary">Save As</button> --\x3e\n              <button type="button" class="btn btn-default" ng-click="cancel()">Cancel</button>\n            </div>\n          </div>\n        </form><\/script> <div class="modal-parent"> </div> </div> '),
a.put("views/admin/placesadmin.html",'<div id="allPlaces" ng-init="loadPlacesData()"> <div class="row align-items-center"> <div class="col-sm-6 col-auto mr-auto"> <h3 class="align-middle">Places</h3> </div> <div class="col-sm-6 col-auto"> <div class="text-right align-middle"> <button type="button" class="btn btn-primary" style="margin-bottom:10px; margin-top:10px; margin-left:10px; margin-right:0px" ng-click="showForm(\'new\')">New</button> </div> </div> </div> <div class="form-group"> <div class="input-group"> <div class="input-group-addon"><i class="glyphicon glyphicon-search"></i></div> <input type="text" class="form-control" placeholder="Search Places..." ng-model="search"> </div> </div> <div ng-class="{\'loader\': loading, \'notLoading\': !loading}" id="loadingSpinner">Loading...</div> <div ng-show="!(loading)"> <table class="table table-hover table-bordered" ng-show="!(error)"> <th class="fixedWidthTableCol">Action</th> <th>Id</th> <th>Name</th> <th>Type</th> <th>Location</th> <th>Description</th> <th>Created Date</th> <th>Updated Date</th> <tr ng-repeat="x in allPlaces | filter:search"> <td><a href="" tourid="{{x.tour_id}}" locid="{{x.id}}" ng-click="populatePlaceInstance(x.id)">Edit</a> | <a href="" locid="{{x.id}}" ng-click="delPlace(x.id)">Del</a></td> <td>{{ x["id"] }}</td> <td>{{ x["name"] }}</td> <td>{{ x["type"] }}</td> <td>{{ x["locationcity"] }}</td> <td style="white-space: pre-wrap">{{ x["description"] | truncate : 110 : \'...\' : false }}</td> <td>{{ x["createdAt"] | date: "short" }}</td> <td>{{ x["updatedAt"] | date: "short" }}</td> </tr> </table> </div> </div>  <div class="modal-demo"> <script type="text/ng-template" id="myModalContent.html"><div class="modal-header">\n            <h3 class="modal-title" id="modal-title">Create/Edit Place</h3>\n        </div>\n        <form role="form" method="POST" ng-submit="createUpdatePlace();">\n          <div class="modal-body" id="modal-body">\n          <div class="form-group" >\n            <label for="name">Name</label>\n            <input type="text" class="form-control input-sm" ng-model="placeData.name" id="name" placeholder="Name">\n          </div>\n          <div class="form-group">\n              <label for="type">Type</label>\n              <select class="form-control" id="type" ng-model="placeData.type">\n                <option>Amusement Park</option>\n                <option>Aquarium</option>\n                <option>Archaeological Site</option>\n                <option>Architecture</option>\n                <option>Area</option>\n                <option>Arts Centre</option>\n                <option>Arts/Crafts Centre</option>\n                <option>Ashram</option>\n                <option>Beach</option>\n                <option>Bird Sanctuary</option>\n                <option>Bridge</option>\n                <option>Buddhist Monastery</option>\n                <option>Buddhist Monument</option>\n                <option>Buddhist Sculpture</option>\n                <option>Buddhist Site</option>\n                <option>Buddhist Statue</option>\n                <option>Buddhist Stupa</option>\n                <option>Buddhist Temple</option>\n                <option>Cable Car</option>\n                <option>Castle</option>\n                <option>Cathedral</option>\n                <option>Cave</option>\n                <option>Cemetery</option>\n                <option>Chapel</option>\n                <option>Church</option>\n                <option>Convent</option>\n                <option>Cultural Centre</option>\n                <option>Factory</option>\n                <option>Farm</option>\n                <option>Film Location</option>\n                <option>Forest</option>\n                <option>Fort</option>\n                <option>Fortress</option>\n                <option>Fountain</option>\n                <option>Gallery</option>\n                <option>Gardens</option>\n                <option>Gate</option>\n                <option>Ghat</option>\n                <option>Handicrafts Workshop</option>\n                <option>Harbour</option>\n                <option>Hill</option>\n                <option>Hindu Monument</option>\n                <option>Hindu Shrine</option>\n                <option>Hindu Site</option>\n                <option>Hindu Temple</option>\n                <option>Historic Building</option>\n                <option>Historic Site</option>\n                <option>Hot Springs</option>\n                <option>Islamic Palace</option>\n                <option>Islamic Shrine</option>\n                <option>Islamic Site</option>\n                <option>Islamic Tomb</option>\n                <option>Island</option>\n                <option>Jain Site</option>\n                <option>Jain Temple</option>\n                <option>Lake</option>\n                <option>Landmark</option>\n                <option>Library</option>\n                <option>Lighthouse</option>\n                <option>Market</option>\n                <option>Mausoleum</option>\n                <option>Meadow</option>\n                <option>Memorial</option>\n                <option>Monastery</option>\n                <option>Monument</option>\n                <option>Mosque</option>\n                <option>Mountain</option>\n                <option>Museum</option>\n                <option>National Park</option>\n                <option>Nature Reserve</option>\n                <option>Notable Building</option>\n                <option>Palace</option>\n                <option>Park</option>\n                <option>Pass</option>\n                <option>Picnic Area</option>\n                <option>Pier</option>\n                <option>Planetarium</option>\n                <option>Plantation</option>\n                <option>Religious Site</option>\n                <option>River</option>\n                <option>Rock</option>\n                <option>Ruins</option>\n                <option>Shrine</option>\n                <option>Sikh Site</option>\n                <option>Sikh Temple</option>\n                <option>Square</option>\n                <option>Statue</option>\n                <option>Synagogue</option>\n                <option>Tea Estate</option>\n                <option>Temple</option>\n                <option>Tomb</option>\n                <option>Tower</option>\n                <option>Viewpoint</option>\n                <option>Village</option>\n                <option>Waterfall</option>\n                <option>Waterfront</option>\n                <option>Wildlife Reserve</option>\n                <option>Winery</option>\n                <option>Workshop</option>\n                <option>Zoo</option>\n              </select>\n            </div>\n          <div class="form-group">\n            <div id="remote">\n              <label for="location_id">Location</label>\n              <input type="text"  ng-model="placeData.location"\n                                  placeholder="Search Locations By City..."\n                                  uib-typeahead="location as location.city for location in allLocations | filter: {city:$viewValue}"\n                                  typeahead-wait-ms="1000"\n                                  typeahead-min-length="3"\n                                  typeahead-loading="loadingLocations"\n                                  typeahead-no-results="noResults"\n                                  typeahead-editable=false\n                                  class="form-control"\n                                  value="location.city">\n              <i ng-show="loadingLocations" class="glyphicon glyphicon-refresh"></i>\n              <div ng-show="noResults">\n                <i class="glyphicon glyphicon-remove"></i> No Results Found\n              </div>\n            </div>\n          </div>\n          <div class="form-group">\n            <label for="latitude">Latitude</label>\n            <input type="text" class="form-control input-sm" ng-model="placeData.latitude" id="latitude" placeholder="Latitude">\n          </div>\n          <div class="form-group">\n            <label for="longitude">Longitude</label>\n            <input type="text" class="form-control input-sm" ng-model="placeData.longitude" id="longitude" placeholder="Longitude">\n          </div>\n          <div class="form-group">\n            <label for="elevation">Elevation</label>\n            <input type="text" class="form-control input-sm" ng-model="placeData.elevation" id="elevation" placeholder="Elevation">\n          </div>\n          <div class="form-group">\n            <label for="description">Description</label>\n            <textarea class="form-control input-sm" rows="5" ng-model="placeData.description" id="description" placeholder="Description"></textarea>\n          </div>\n          <div class="form-group">\n            <div  class="btn btn-default"\n                  ngf-select\n                  ng-model="placeData.images"\n                  ngf-multiple="true"\n                  accept="image/*"\n                  ngf-max-height="2000"\n                  ngf-max-size="10MB"\n                  ngf-keep="distinct"\n                  ngf-capture="camera"\n                  ngf-max-files="5">Select Images (max:5)\n            </div>\n            <br><br>\n            <div>\n                <label>New Images</label>\n                <div class="img-row">\n                    <div class="img-column" ng-repeat="f in placeData.images" ng-show="placeData.images && placeData.images.length">\n                      <img ngf-thumbnail="f || \'/thumb.jpg\'" class="thumb scaleMain">\n                        {{f.$errorParam}}\n                      </img>\n                      <a href="" style="display:block;" ng-click="deleteFile($index)">Remove</a>\n                    </div>\n                </div>\n            </div>\n            <div>\n                <label>Uploaded Images</label>\n                <div class="img-row">\n                  <div class="img-column" ng-repeat="f in placeData.newImages" ng-show="placeData.newImages && placeData.newImages.length">\n                    <img ng-src="/images/{{f.filename}}" class="thumb scaleMain"></img>\n                    <a href="" style="display:block;" ng-click="deleteUploadedFile($index)">Remove</a>\n                  </div>\n                </div>\n            </div>\n          </div>\n          <div class="modal-footer">\n            <div class="btn-group" role="group" aria-label="footer buttons">\n              <button type="submit" class="btn btn-primary">Save</button>\n              <button type="button" class="btn btn-primary" ng-click="saveNew()">Save As</button>\n              <button type="button" class="btn btn-default" ng-click="cancel()">Cancel</button>\n            </div>\n          </div>\n        </form><\/script> <div class="modal-parent"> </div> </div> '),a.put("views/admin/regionsadmin.html",'<div id="allRegions" ng-init="loadLocationData()"> <div class="row align-items-center"> <div class="col-sm-6 col-auto mr-auto"> <h3 class="align-middle">Regions</h3> </div> <div class="col-sm-6 col-auto"> <div class="text-right align-middle"> <button type="button" class="btn btn-primary" style="margin-bottom:10px; margin-top:10px; margin-left:10px; margin-right:0px" ng-click="showForm(\'new\')">New</button> </div> </div> </div> <div class="form-group"> <div class="input-group"> <div class="input-group-addon"><i class="glyphicon glyphicon-search"></i></div> <input type="text" class="form-control" placeholder="Search regions..." ng-model="search"> </div> </div> <div ng-class="{\'loader\': loading, \'notLoading\': !loading}" id="loadingSpinner">Loading...</div> <div ng-show="!(loading)"> <table class="table table-hover table-bordered" ng-show="!(error)"> <th class="fixedWidthTableCol">Action</th> <th>Id</th> <th>Name</th> <th>Country</th> <th>Description</th> <th>Created Date</th> <th>Updated Date</th> <tr ng-repeat="x in allRegions | filter:search"> <td><a href="" tourid="{{x.tour_id}}" locid="{{x.id}}" ng-click="populateLocationInstance(x.id)">Edit</a> | <a href="" locid="{{x.id}}" ng-click="delLocation(x.id)">Del</a></td> <td>{{ x["id"] }}</td> <td>{{ x["name"] }}</td> <td>{{ x.country }}</td> <td style="white-space: pre-wrap">{{ x["description"] | truncate : 110 : \'...\' : false }}</td> <td>{{ x["createdAt"] | date: "short" }}</td> <td>{{ x["updatedAt"] | date: "short" }}</td> </tr> </table> </div> </div>  <div class="modal-demo"> <script type="text/ng-template" id="myModalContent.html"><div class="modal-header">\n            <h3 class="modal-title" id="modal-title">Create/Edit Region</h3>\n        </div>\n        <form role="form" method="POST" ng-submit="createUpdateLocation();">\n          <div class="modal-body" id="modal-body">\n                  <div class="form-group" >\n                    <label for="city">Name</label>\n                    <input type="text" class="form-control input-sm" ng-model="regionData.name" id="name" placeholder="Name">\n                  </div>\n                  <div class="form-group">\n                    <div id="remote">\n                      <label for="country">Country</label>\n                      <input type="text"  ng-model="regionData.country"\n                                          placeholder="Search countries by name..."\n                                          uib-typeahead="country as country.name for country in allCountries | filter: {name:$viewValue}"\n                                          typeahead-wait-ms="1000"\n                                          typeahead-min-length="3"\n                                          typeahead-loading="loadingCountries"\n                                          typeahead-no-results="noResults"\n                                          typeahead-editable=false\n                                          class="form-control"\n                                          value="regionData.country_id"\n                                          id="location.country">\n                      <i ng-show="loadingCountries" class="glyphicon glyphicon-refresh"></i>\n                      <div ng-show="noResults">\n                        <i class="glyphicon glyphicon-remove"></i> No Results Found\n                      </div>\n                    </div>\n                  </div>\n                  <div class="form-group">\n                    <label for="description">Description</label>\n                    <textarea class="form-control input-sm" rows="5" ng-model="regionData.description" id="description" placeholder="Description"></textarea>\n                  </div>\n                  <div class="form-group">\n                    <label for="micetour">Visible\n                      <input ng-model="regionData.visible" type="checkbox" id="showonhomepage">\n                    </label>\n                  </div>\n                  <div class="form-group">\n                    <div  class="btn btn-default"\n                          ngf-select\n                          ng-model="regionData.images"\n                          ngf-multiple="true"\n                          accept="image/*"\n                          ngf-max-height="2000"\n                          ngf-max-size="10MB"\n                          ngf-keep="distinct"\n                          ngf-capture="camera"\n                          ngf-max-files="5">Select Images (max:5)\n                    </div>\n                    <br><br>\n                    <div>\n                        <label>New Images</label>\n                        <div class="img-row">\n                            <div class="img-column" ng-repeat="f in regionData.images" ng-show="regionData.images && regionData.images.length">\n                              <img ngf-thumbnail="f || \'/thumb.jpg\'" class="thumb scaleMain">\n                                {{f.$errorParam}}\n                              </img>\n                              <a href="" style="display:block;" ng-click="deleteFile($index)">Remove</a>\n                            </div>\n                        </div>\n                    </div>\n                    <div>\n                        <label>Uploaded Images</label>\n                        <div class="img-row">\n                          <div class="img-column" ng-repeat="f in regionData.newImages" ng-show="regionData.newImages && regionData.newImages.length">\n                            <img ng-src="/images/{{f.filename}}" class="thumb scaleMain"></img>\n                            <a href="" style="display:block;" ng-click="deleteUploadedFile($index)">Remove</a>\n                          </div>\n                        </div>\n                    </div>\n                  </div>\n          </div>\n          <div class="modal-footer">\n            <div class="btn-group" role="group" aria-label="footer buttons">\n              <button type="submit" class="btn btn-primary">Save</button>\n              <button type="button" class="btn btn-primary" ng-click="saveNew()">Save As</button>\n              <button type="button" class="btn btn-default" ng-click="cancel()">Cancel</button>\n            </div>\n          </div>\n        </form><\/script> <div class="modal-parent"> </div> </div> '),a.put("views/admin/tourcostsadmin.html",'<div id="allTourCosts" ng-init="loadtourCosts()"> <div class="row align-items-center"> <div class="col-sm-6 col-auto mr-auto"> <h3 class="align-middle">Tour Costs</h3> </div> <div class="col-sm-6 col-auto"> <div class="text-right align-middle"> <button type="button" class="btn btn-primary" style="margin-bottom:10px; margin-top:10px; margin-left:10px; margin-right:0px" ng-click="showForm(\'new\')">New</button> </div> </div> </div> <div class="form-group"> <div class="input-group"> <div class="input-group-addon"><i class="glyphicon glyphicon-search"></i></div> <input type="text" class="form-control" placeholder="Search Tour Costs..." ng-model="search"> </div> </div> <div ng-class="{\'loader\': loading, \'notLoading\': !loading}" id="loadingSpinner">Loading...</div> <div ng-show="!(loading)"> <table class="table table-hover table-bordered" ng-show="!(error)"> <th class="fixedWidthTableCol">Action</th> <th>Id</th> <th>Tour Name</th> <th>Created Date</th> <th>Updated Date</th> <tr ng-repeat="x in allcostss | filter:search"> <td><a href="" tourid="{{x.tour_id}}" locid="{{x.id}}" ng-click="populatecostsInstance(x.id)">Edit</a> | <a href="" locid="{{x.id}}" ng-click="delcosts(x.id)">Del</a></td> <td>{{ x["id"] }}</td> <td>{{ x["tourname"] }}</td> <td>{{ x["createdAt"] | date: "short" }}</td> <td>{{ x["updatedAt"] | date: "short" }}</td> </tr> </table> </div> </div>  <div class="modal-demo"> <script type="text/ng-template" id="myModalContent.html"><div class="modal-header">\n            <h3 class="modal-title" id="modal-title">Create/Edit Tour Cost</h3>\n        </div>\n        <form role="form" method="POST" ng-submit="createUpdatecosts();">\n          <div class="modal-body" id="modal-body">\n                  <div class="form-group">\n                    <div id="remote">\n                      <label for="tourid">Tour</label>\n                      \x3c!-- uib-typeahead="tour.name for tour in getToursByName($viewValue)" --\x3e\n                      <input type="text"  ng-model="tourCosts.tour"\n                                          placeholder="Search Tours By Name..."\n                                          uib-typeahead="tour as tour.name for tour in allTours | filter: {name:$viewValue}"\n                                          typeahead-wait-ms="1000"\n                                          typeahead-min-length="3"\n                                          typeahead-loading="loadingLocations"\n                                          typeahead-no-results="noResults"\n                                          typeahead-editable=false\n                                          class="form-control"\n                                          value="tour.name">\n                      <i ng-show="loadingLocations" class="glyphicon glyphicon-refresh"></i>\n                      <div ng-show="noResults">\n                        <i class="glyphicon glyphicon-remove"></i> No Results Found\n                      </div>\n                    </div>\n                  </div>\n                <div ng-controller="TourCostsController as $ctrl">\n                  <div>\n                    <button class="btn btn-default" type="button" ng-click="$ctrl.addData();">Add Row</button>\n                    <button class="btn btn-default" type="button" ng-click="$ctrl.removeSelectedRow();">Remove Selected Row(s)</button>\n                    <div style="margin-top:5px; margin-bottom:5px;" ng-model="tourCosts.individualcostsjson" ui-grid="$ctrl.gridOptions" ui-grid-edit ui-grid-selection ui-grid-cellnav ui-grid-resize-columns class="grid"></div>\n                  </div>\n                </div>\n          </div>\n          <div class="modal-footer">\n            <div class="btn-group" role="group" aria-label="footer buttons">\n              <button type="submit" class="btn btn-primary">Save</button>\n              <button type="button" class="btn btn-primary">Save As</button>\n              <button type="button" class="btn btn-default" ng-click="cancel()">Cancel</button>\n            </div>\n          </div>\n        </form><\/script> <div class="modal-parent"> </div> </div> '),a.put("views/admin/tournotesadmin.html",'<div id="alltourNotes" ng-init="loadtourNotes()"> <div class="row align-items-center"> <div class="col-sm-6 col-auto mr-auto"> <h3 class="align-middle">Tour Notes</h3> </div> <div class="col-sm-6 col-auto"> <div class="text-right align-middle"> <button type="button" class="btn btn-primary" style="margin-bottom:10px; margin-top:10px; margin-left:10px; margin-right:0px" ng-click="showForm(\'new\')">New</button> </div> </div> </div> <div class="form-group"> <div class="input-group"> <div class="input-group-addon"><i class="glyphicon glyphicon-search"></i></div> <input type="text" class="form-control" placeholder="Search Tour Notes..." ng-model="search"> </div> </div> <div ng-class="{\'loader\': loading, \'notLoading\': !loading}" id="loadingSpinner">Loading...</div> <div ng-show="!(loading)"> <table class="table table-hover table-bordered" ng-show="!(error)"> <th class="fixedWidthTableCol">Action</th> <th>Id</th> <th>Name</th> <th>Type</th> <th>Description</th> <th>Created Date</th> <th>Updated Date</th> <tr ng-repeat="x in allNotes | filter:search"> <td><a href="" tourid="{{x.tour_id}}" locid="{{x.id}}" ng-click="populateNotesInstance(x.id)">Edit</a> | <a href="" locid="{{x.id}}" ng-click="delNotes(x.id)">Del</a></td> <td>{{ x["id"] }}</td> <td>{{ x["name"] }}</td> <td>{{ x["type"] }}</td> <td> <div ng-bind-html="x.description | truncate : 110 : \'...\' : false"></div> </td> <td>{{ x["createdAt"] | date: "short" }}</td> <td>{{ x["updatedAt"] | date: "short" }}</td> </tr> </table> </div> </div>  <div class="modal-demo"> <script type="text/ng-template" id="myModalContent.html"><div class="modal-header">\n            <h3 class="modal-title" id="modal-title">Create/Edit Tour Note</h3>\n        </div>\n        <form role="form" method="POST" ng-submit="createUpdatecosts();">\n          <div class="modal-body" id="modal-body">\n                  <div class="form-group">\n                    <label for="name">Name</label>\n                    <input type="text" class="form-control input-sm" ng-model="tourNotes.name" id="name" placeholder="Name">\n                  </div>\n                  <div class="form-group">\n                    <label for="notetype">Note Type</label>\n                    <select class="form-control input-sm" id="notetype" ng-model="tourNotes.type" placeholder="Note Type">\n                      <option>Tips</option>\n                      <option>Cancellation</option>\n                      <option>Price and Conditions</option>\n                      <option>Suggested Clothing</option>\n                      <option>Activities</option>\n                      <option>Festivals</option>\n                      <option>Insurance</option>\n                      <option>Baggage</option>\n                      <option>Air</option>\n                      <option>Road Travel</option>\n                      <option>Meals</option>\n                      <option>Hotels</option>\n                      <option>Do\'s and Dont\'s</option>\n                      <option>Important Notes</option>\n                      <option>Tour Cost Includes</option>\n                      <option>Tour Cost Not Includes</option>\n                    </select>\n                  </div>\n                  <div class="form-group">\n                    <label for="description">Description</label>\n                    \x3c!--\n                    <textarea class="form-control input-sm" rows="5" ng-model="tourNotes.description" id="description" placeholder="Notes Description"></textarea>\n                    --\x3e\n                    <text-angular ng-model="tourNotes.description" id="description"></text-angular>\n                  </div>\n          </div>\n          <div class="modal-footer">\n            <div class="btn-group" role="group" aria-label="footer buttons">\n              <button type="submit" class="btn btn-primary">Save</button>\n              <button type="button" class="btn btn-primary">Save As</button>\n              <button type="button" class="btn btn-default" ng-click="cancel()">Cancel</button>\n            </div>\n          </div>\n        </form><\/script> <div class="modal-parent"> </div> </div> '),
a.put("views/admin/toursadmin.html",'<div id="allTours" ng-init="loadtoursData()"> <div class="row"> <div class="col-sm-12 col-auto"> <div class="pull-left align-middle"> <h3 class="align-middle">Tours</h3> </div> <div class="pull-right align-middle"> <button type="button" class="btn btn-primary" style="margin-bottom:10px; margin-top:14px" ng-click="showForm(\'new\')">New</button> </div> </div> </div> <div class="form-group"> <div class="input-group"> <div class="input-group-addon"><i class="glyphicon glyphicon-search"></i></div> <input type="text" class="form-control" placeholder="Search Tours..." ng-model="search"> </div> </div> <div ng-class="{\'loader\': loading, \'notLoading\': !loading}" id="loadingSpinner">Loading...</div> <div ng-show="!(loading)"> <table class="table table-hover table-bordered" ng-show="!(error)"> <th class="fixedWidthTableCol">Action</th> <th ng-click="sort(\'id\')">Id <span class="glyphicon sort-icon" ng-show="sortKey==\'id\'" ng-class="{\'glyphicon-chevron-up\':reverse,\'glyphicon-chevron-down\':!reverse}"></span> </th> <th ng-click="sort(\'order\')">Order <span class="glyphicon sort-icon" ng-show="sortKey==\'order\'" ng-class="{\'glyphicon-chevron-up\':reverse,\'glyphicon-chevron-down\':!reverse}"></span> </th> <th>Name</th> <th>Days</th> <th>Nights</th> <th>Price</th> <th>Tour Type</th> <th>Active</th> <th>Created Date</th> <th>Updated Date</th> <tr ng-repeat="x in allTours | orderBy:sortKey:reverse | filter:search"> <td><a href="" locid="{{x.id}}" ng-click="populatetoursInstance(x.id)">Edit</a> | <a href="" locid="{{x.id}}" ng-click="deltours(x.id)">Del</a></td> <td>{{ x["id"] }}</td> <td>{{ x["order"] }}</td> <td>{{ x["name"] }}</td> <td>{{ x["days"] }}</td> <td>{{ x["nights"] }}</td> <td>{{ x["price"] | currency }}</td> <td>{{ x["tourtype"] }}</td> <td>{{ x["isactive"] }}</td> <td>{{ x["createdAt"] | date: "short" }}</td> <td>{{ x["updatedAt"] | date: "short" }}</td> </tr> </table> </div> </div>  <div class="modal-demo"> <script type="text/ng-template" id="myModalContent.html"><div class="modal-header">\n            <h3 class="modal-title" id="modal-title">Create/Edit Tour</h3>\n        </div>\n        <form role="form" method="POST" ng-submit="createUpdatetours();">\n          <div class="modal-body" id="modal-body">\n            <div class="form-group">\n              <label for="name">Name</label>\n              <input ng-model="tourData.name" type="text" class="form-control input-sm" id="name" placeholder="Name">\n            </div>\n            <div class="form-group">\n              <label for="description">Description</label>\n              <textarea ng-model="tourData.description" class="form-control input-sm" rows="5" id="description" placeholder="Description"></textarea>\n            </div>\n            <div class="form-group">\n              <label for="isactive">Active\n                <input ng-model="tourData.isactive" type="checkbox" id="isactive">\n              </label>\n            </div>\n            <div class="form-group">\n              <label for="isactive">Popular Itinerary\n                <input ng-model="tourData.popularitinerary" type="checkbox" id="popularitinerary">\n              </label>\n            </div>\n            <div class="form-group">\n              <label for="tourtype">Tour Type</label>\n              <select class="form-control" id="tourtype" ng-model="tourData.tourtype">\n                <option>Regular</option>\n                <option>Group</option>\n                <option>Individual</option>\n              </select>\n            </div>\n            <div class="form-group">\n              <label for="days">Days</label>\n              <input ng-model="tourData.days" type="text" class="form-control input-sm" id="days" placeholder="Number of Days">\n            </div>\n            <div class="form-group">\n              <label for="nights">Nights</label>\n              <input ng-model="tourData.nights" type="text" class="form-control input-sm" id="nights" placeholder="Number of Nights">\n            </div>\n            <div class="form-group">\n              <label for="price">Price</label>\n              <div class="input-group">\n                <span class="input-group-addon">$</span>\n                <input ng-model="tourData.price" type="text" class="form-control input-sm" id="price" placeholder="Price">\n                <span class="input-group-addon">.00</span>\n              </div>\n            </div>\n            <div class="form-group">\n              <label for="offerprice">Offer Price</label>\n              <div class="input-group">\n                <span class="input-group-addon">$</span>\n                <input ng-model="tourData.offerprice" type="text" class="form-control input-sm" id="offerprice" placeholder="Offer Price">\n                <span class="input-group-addon">.00</span>\n              </div>\n            </div>\n            <div class="form-group">\n              <div id="remote">\n                  <label for="locationids">Locations</label>\n                  \x3c!-- New locations multi select --\x3e\n                  <ui-select multiple ng-model="tourData.locations" theme="bootstrap" close-on-select="false"  title="Select Locations...">\n                  <ui-select-match placeholder="Select Locations...">{{$item.city}}, {{$item.country}}</ui-select-match>\n                  <ui-select-choices repeat="location in allLocation | propsFilter: {city: $select.search}">\n                    <div ng-bind-html="location.city | highlight: $select.search"></div>\n                    <small>\n                      City: {{location.city}},\n                      State: {{ location.state }},\n                      Country: <span ng-bind-html="\'\'+location.country | highlight: $select.search"></span>\n                    </small>\n                  </ui-select-choices>\n              </ui-select>\n              </div>\n            </div>\n\n            <div class="form-group">\n              <div id="remote">\n                  <label for="tourhotels">Hotels</label>\n                  \x3c!-- New locations multi select --\x3e\n                  <ui-select multiple ng-model="tourData.hotels" theme="bootstrap" close-on-select="false"  title="Select Hotels...">\n                    <ui-select-match placeholder="Select Hotels...">{{$item.name}}</ui-select-match>\n                    <ui-select-choices repeat="hotel in allHotels | propsFilter: {name: $select.search}">\n                      <div ng-bind-html="hotel.name | highlight: $select.search"></div>\n                      <small>\n                        Name: {{hotel.name}}\n                        Type: <span ng-bind-html="\'\'+hotel.type | highlight: $select.search"></span>\n                      </small>\n                    </ui-select-choices>\n                  </ui-select>\n              </div>\n            </div>\n            <div class="form-group">\n              <div id="remote">\n                  <label for="tourhotels">Notes</label>\n                  \x3c!-- New locations multi select --\x3e\n                  <ui-select multiple ng-model="tourData.notes" theme="bootstrap" close-on-select="false"  title="Select Notes...">\n                  <ui-select-match placeholder="Select Notes...">{{$item.name}}</ui-select-match>\n                  <ui-select-choices repeat="note in allNotes | propsFilter: {name: $select.search}">\n                    <div ng-bind-html="note.name | highlight: $select.search"></div>\n                    <small>\n                      Name: {{note.name}}\n                      Type: <span ng-bind-html="\'\'+note.type | highlight: $select.search"></span>\n                    </small>\n                  </ui-select-choices>\n              </ui-select>\n              </div>\n            </div>\n            <div class="form-group">\n              <div id="remote">\n                  <label for="tourtags">Tags</label>\n                  <ui-select multiple tagging tagging-label="false" ng-model="tourData.tags" theme="bootstrap" sortable="true" title="Select Tags...">\n                    <ui-select-match placeholder="Select Tags...">{{$item.name || $item}}</ui-select-match>\n                    <ui-select-choices repeat="tag in allTags | filter:$select.search">\n                      <div ng-bind-html="tag.name | highlight: $select.search"></div>\n                    </ui-select-choices>\n                  </ui-select>\n              </div>\n            </div>\n            <div class="form-group">\n              <label for="micetour">Show on home page\n                <input ng-model="tourData.showonhomepage" type="checkbox" id="showonhomepage">\n              </label>\n            </div>\n            <div class="form-group">\n              <label for="micetour">Is this a MICE Tour?\n                <input ng-model="tourData.ismicetour" type="checkbox" id="micetour">\n              </label>\n            </div>\n            <div class="form-group">\n              <label for="order">Order of Display\n                <input ng-model="tourData.order" type="number" class="form-control input-sm" id="order">\n              </label>\n            </div>\n            <div class="form-group">\n              <label for="micecategory">MICE Category</label>\n              <select class="form-control" id="micecategory" ng-model="tourData.micecategory" ng-disabled="!tourData.ismicetour">\n                <option>Meetings</option>\n                <option>Incentive Tours</option>\n                <option>Business Meetings</option>\n                <option>Corporate Meetings</option>\n                <option>Thematic Meetings</option>\n                <option>Conferences</option>\n                <option>Conventions</option>\n                <option>Exhibitions and Trade Shows</option>\n                <option>Events Management</option>\n              </select>\n            </div>\n            <div class="form-group">\n              <div  class="btn btn-default"\n                    ngf-select\n                    ng-model="tourData.images"\n                    ngf-multiple="true"\n                    accept="image/*"\n                    ngf-max-height="2000"\n                    ngf-max-size="10MB"\n                    ngf-keep="distinct"\n                    ngf-capture="camera"\n                    ngf-max-files="5">Select Images (max:5)</div>\n              <br><br>\n              <div>\n                  <label>New Images</label>\n                  <div class="img-row">\n                      <div class="img-column" ng-repeat="f in tourData.images" ng-show="tourData.images && tourData.images.length">\n                        <img ngf-thumbnail="f || \'/thumb.jpg\'" class="thumb scaleMain">\n                          {{f.$errorParam}}\n                        </img>\n                        <a href="" style="display:block;" ng-click="deleteFile($index)">Remove</a>\n                      </div>\n                  </div>\n              </div>\n              <div>\n                  <label>Uploaded Images</label>\n                  <div class="img-row">\n                    <div class="img-column" ng-repeat="f in tourData.newImages" ng-show="tourData.newImages && tourData.newImages.length">\n                      <img ng-src="/images/{{f.filename}}" class="thumb scaleMain"></img>\n                      <a href="" style="display:block;" ng-click="deleteUploadedFile($index)">Remove</a>\n                    </div>\n                  </div>\n              </div>\n\n              \x3c!-- Modal body ends --\x3e\n            </div>\n          </div>\n          <div class="modal-footer">\n            <div class="btn-group" role="group" aria-label="footer buttons">\n              <button type="submit" class="btn btn-primary">Save</button>\n              \x3c!-- <button type="button" class="btn btn-primary">Save As</button> --\x3e\n              <button type="button" class="btn btn-default" ng-click="cancel()">Cancel</button>\n            </div>\n          </div>\n        </form><\/script> <div class="modal-parent"> </div> </div> '),a.put("views/admin/usersadmin.html",'<div id="allLocations" ng-init="loadUsersData()"> <div class="row align-items-center"> <div class="col-sm-6 col-auto mr-auto"> <h3 class="align-middle">Users</h3> </div> <div class="col-sm-6 col-auto"> <div class="text-right align-middle"> <button type="button" class="btn btn-primary" style="margin-bottom:10px; margin-top:10px; margin-left:10px; margin-right:0px" ng-click="showForm(\'new\')">New</button> </div> </div> </div> <div class="form-group"> <div class="input-group"> <div class="input-group-addon"><i class="glyphicon glyphicon-search"></i></div> <input type="text" class="form-control" placeholder="Search Users..." ng-model="search"> </div> </div> <div ng-class="{\'loader\': loading, \'notLoading\': !loading}" id="loadingSpinner">Loading...</div> <div ng-show="!(loading)"> <table class="table table-hover table-bordered" ng-show="!(error)"> <th>Action</th> <th>Id</th> <th>First Name</th> <th>Last Name</th> <th>Phone</th> <th>Email</th> <th>Type</th> <th>Status</th> <th>Created Date</th> <th>Updated Date</th> <tr ng-repeat="x in allUsers | filter:search"> <td><a href="" locid="{{x.id}}" ng-click="populateUserInstance(x.id)">Edit</a> | <a href="" locid="{{x.id}}" ng-click="delLocation(x.id)">Del</a></td> <td>{{ x["id"] }}</td> <td>{{ x["firstname"] }}</td> <td>{{ x["lastname"] }}</td> <td>{{ x["phone"] }}</td> <td>{{ x["email"] }}</td> <td>{{ x["type"] }}</td> <td>{{ x["status"] }}</td> <td>{{ x["createdAt"] | date : "short" }}</td> <td>{{ x["updatedAt"] | date : "short" }}</td> </tr> </table> </div> </div>  <div class="modal-demo"> <script type="text/ng-template" id="myModalContent.html"><div class="modal-header">\n            <h3 class="modal-title" id="modal-title">Create/Edit User</h3>\n        </div>\n        <form role="form" method="POST" ng-submit="createUpdateUser();">\n          <div class="modal-body" id="modal-body">\n                  <div class="form-group">\n                    <label for="fname">First Name</label>\n                    <input type="text" class="form-control input-sm" ng-model="userData.firstname" id="fname" placeholder="First Name">\n                  </div>\n                  <div class="form-group">\n                    <label for="lname">Last Name</label>\n                    <input type="text" class="form-control input-sm" ng-model="userData.lastname" id="lname" placeholder="Last Name">\n                  </div>\n                  <div class="form-group">\n                    <label for="phone">Phone</label>\n                    <input type="text" class="form-control input-sm" ng-model="userData.phone" id="phone" placeholder="Phone">\n                  </div>\n                  <div class="form-group">\n                    <label for="email">Email</label>\n                    <input type="text" class="form-control input-sm" ng-model="userData.email" id="email" placeholder="Email">\n                  </div>\n                  <div class="form-group">\n                    <label for="type">Type</label>\n                    <select class="form-control form-control input-sm" id="type" ng-model="userData.type">\n                    <option>Admin</option>\n                    <option>Direct Customer</option>\n                    </select>\n                  </div>\n          </div>\n          <div class="modal-footer">\n            <div class="btn-group" role="group" aria-label="footer buttons">\n              <button type="submit" class="btn btn-primary">Save</button>\n              <button type="button" class="btn btn-primary" ng-click="saveNew()">Save As</button>\n              <button type="button" class="btn btn-default" ng-click="cancel()">Cancel</button>\n            </div>\n          </div>\n        </form><\/script> <div class="modal-parent"> </div> </div> '),a.put("views/footer.html",'<div class="container" style="font-family: \'Open Sans\', sans-serif"> <div class="row" style="margin:0px"> <div class="col-md-3 pull-left" style="padding-top: 10px"> <ul class="footer-links" style="list-style-type:none"> <li><a ng-href="/about">About Us</a></li> <li><a href="#">Indior Exclusive Tours</a></li> <li><a href="#">Dating and Honeymoons</a></li> <li><a href="#">Travel in Luxury</a></li> <li><a href="#">Exotic Beaches and Islands</a></li> <li><a href="#">Travelling with Children</a></li> <li><a href="#">Fly &amp; Drive</a></li> </ul> </div> <div class="col-md-3" style="padding-top: 10px"> <ul class="footer-links" style="list-style-type: none"> <li><a href="#">Gay Friendly</a></li> <li><a href="#">Cruises</a></li> <li><a href="#">Luxury Train of India</a></li> <li><a href="#">Helicoptor Tours</a></li> <li><a href="#">Round the World</a></li> <li><a href="#">Indian Urban Tours</a></li> </ul> </div> <div class="col-md-3" style="padding-top: 10px"> <ul class="footer-links" style="list-style-type: none"> <li><a href="#">Music Tours</a></li> <li><a href="#">Sporting Events</a></li> <li><a href="#">Ski in Winter</a></li> <li><a href="#">Deep Sea Diving</a></li> <li><a href="#">Tribal Tours</a></li> <li><a href="#">Golf Tours</a></li> </ul> </div> <div class="col-md-3" style="padding-top: 10px"> <ul class="footer-links" style="list-style-type: none"> <li><a href="#">Shopping Tours</a></li> <li><a href="#">Yoga and Meditation</a></li> <li><a href="#">Inland Cruise Tours</a></li> <li><a href="#">Early Bird Discount</a></li> </ul> </div> </div> <div class="row"> <div class="col-md-2"> <img class="pull-right" src="/images/Department-of-Tourism-Government-of-India.e0f14ad3.png" style="overflow: hidden; width:75%"> </div> <div class="text-center col-md-8" style="color: white"> <span style="text-align:center">Copyright @2017-2018 Indior Tours Pvt. Ltd. All Rights Reserved</span><br> <span style="text-align:center">Recognized by Ministry of Tourism, Government of India</span><br> <span style="text-align:center">Website developed and maintained by Indior Tours Pvt Ltd</span> </div> <div class="col-md-2"> <img class="pull-left" src="/images/Indian Association of Tour Operators.41969875.jpeg" style="overflow: hidden; width:50%"> </div> </div> </div>  <script>!function(A,n,g,u,l,a,r){A.GoogleAnalyticsObject=l,A[l]=A[l]||function(){\n   (A[l].q=A[l].q||[]).push(arguments)},A[l].l=+new Date,a=n.createElement(g),\n   r=n.getElementsByTagName(g)[0],a.src=u,r.parentNode.insertBefore(a,r)\n'+"   }(window,document,'script','https://www.google-analytics.com/analytics.js','ga');\n\n   ga('create', 'UA-XXXXX-X');\n   ga('send', 'pageview');<\/script>"),a.put("views/header.html",'<style>.navbar-nav > li > a {padding-top:5px !important; padding-bottom:5px !important;}\n.navbar {min-height:32px !important; border-radius: 0px !important;}\n.navbar-collapse {\n      padding-left: 0px;\n}</style> <div class="header" ng-controller="ApplicationController as vm"> <nav class="navbar navbar"> <div class="container"> <div class="row"> <div style="float: left; width:350px;height:9rem;margin-top: -7px;padding-left: 15px"> <div class="page-header" style="margin-top:auto; border-bottom:none"> <div class="logo-img" style="width: 111.5px; height: 94.5px; overflow: hidden;float:left"> <a href="/"><img src="/images/indior_transperent cropped.ae58292c.png" style="overflow: hidden; width:100%"></a> </div> <div style="color: rgb(255, 255, 255)"> <h4 class="display-2" style="font-size: 15px;padding-top:30px;font-weight: 100">The World is Our Family</h4> <span class="glyphicon"></span> </div> </div> </div> <div style="float:right"> <ul class="nav navbar-nav collapse navbar-collapse"> <li><a href="https://api.whatsapp.com/send?phone=919311463467" target="_blank" class="pull-right" style="color:white"><i class="fab fa-whatsapp" style="font-size:22px"></i></a></li> <li><a href="tel:+919311463467" class="phone pull-right" style="color:white"><i class="fas fa-phone"></i> +91 9311-INDIOR</a></li> <li><a ng-href="/contactus" style="color:#ffffff">Contact Us</a></li> <li><a ng-show="vm.isAdminLoggedIn" ng-href="/toursadmin" style="color:#ffffff">Admin</a></li> <li> <ui-select ng-model="vm.selected" theme="bootstrap" search-enabled="false"> <ui-select-match>{{$select.selected}}</ui-select-match> <ui-select-choices repeat="item in vm.currencyCodes"> <div ng-bind-html="item"></div> </ui-select-choices> </ui-select> </li> <li uib-dropdown class="nav-item dropdown"> <a uib-dropdown-toggle style="color:#ffffff" class="nav-link dropdown-toggle" href="http://example.com" id="dropdown09" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false"> <span class="flag-icon flag-icon-us"> </span> English <span class="caret"></span> </a> <ul uib-dropdown-menu class="dropdown-menu" aria-labelledby="dropdown09"> <li><a class="dropdown-item" href="#ar"><span class="flag-icon flag-icon-ar"> </span> اللغة</a></li> <li><a class="dropdown-item" href="#cn"><span class="flag-icon flag-icon-cn"> </span> 简体中文</a></li> <li><a class="dropdown-item" href="#de"><span class="flag-icon flag-icon-de"> </span> Deutsch</a></li> <li><a class="dropdown-item" href="http://translate.google.com/translate?langpair=en|fr&u=http://www.indior.tours"><span class="flag-icon flag-icon-fr"> </span> French</a></li> <li><a class="dropdown-item" href="#it"><span class="flag-icon flag-icon-it"> </span> Italian</a></li> <li><a class="dropdown-item" href="#jp"><span class="flag-icon flag-icon-jp"> </span> 日本語</a></li> <li><a class="dropdown-item" href="#pt"><span class="flag-icon flag-icon-pt"> </span> Portuguese</a></li> <li><a class="dropdown-item" href="#sp"><span class="flag-icon flag-icon-ru"> </span> русский</a></li> <li><a class="dropdown-item" href="#es"><span class="flag-icon flag-icon-es"> </span> Español</a></li> </ul> </li>  <li uib-dropdown> <a uib-dropdown-toggle href="" style="color:#ffffff"> My Account <span class="caret"></span> </a> <ul uib-dropdown-menu> <li><a ng-href="/myprofile" role="button"><span class="glyphicon glyphicon-user"></span> My Account</a></li> <li><a ng-href="/signup"><span class="glyphicon glyphicon-log-in"></span> Sign In</a></li> <li><a ng-href="/" role="button" ng-click="logout();"><span class="glyphicon glyphicon-log-out"></span> Logout</a></li> </ul> </li> </ul> </div> </div> </div> </nav>  <nav class="navbar navbar-default" style="margin-top:0px;margin-bottom:auto"> <div class="container"> <div class="navbar-header"> <button type="button" class="navbar-toggle" data-toggle="collapse" data-target="#myNavbar"> <span class="icon-bar"></span> <span class="icon-bar"></span> <span class="icon-bar"></span> </button> </div> <div class="collapse navbar-collapse" id="myNavbar"> <ul class="nav navbar-nav"> <li class="active hidden-xs hidden-md"><a href="/" style="font-weight:bold">HOME <span class="sr-only">(current)</span></a></li> <li class="hidden-xs"><a href="/destinations" style="font-weight:bold">DESTINATIONS</a></li> <li class="hidden-xs"><a href="/trips" style="font-weight:bold">TYPES OF TRIPS</a></li> <li class="hidden-xs"><a href="/mice" style="font-weight:bold">MICE</a></li>  <li class="hidden-xs"><a href="/hotels" style="font-weight:bold">ACCOMMODATION</a></li>   <li class="hidden-md hidden-sm hidden-xs"><a href="/blog" style="font-weight:bold">BLOG</a></li> <li> </li> </ul> <ul class="nav navbar-nav navbar-right visible-xs visible-md"> <li><a ng-href="/contactus">Contact Us</a></li> <li><a ng-show="isAdminLoggedIn" ng-href="/toursadmin" style="color:#ffffff">Admin</a></li> <li><a href="/destinations">Destinations</a></li> <li><a href="/trips">Types of Trips</a></li> <li><a href="/mice">M.I.C.E</a></li> <li><a href="/hotels">Accommodation</a></li> <li class="dropdown"> <a class="dropdown-toggle" data-toggle="dropdown" href="#">My Account <span class="caret"></span></a> <ul class="dropdown-menu navbar-right"> <li><a ng-href="" role="button"><span class="glyphicon glyphicon-user"></span> My Profile</a></li> <li><a ng-href="/signup"><span class="glyphicon glyphicon-log-in"></span> Sign In</a></li> <li><a ng-href="/" role="button"><span class="glyphicon glyphicon-log-out"></span> Logout</a></li> </ul> </li> </ul> </div> </div> </nav> </div>'),a.put("views/headernew.html",'<style>.banner {\n  background: #fff;\n  font-family: Lato, sans-serif;\n}\n.navbar-nav-primary {\n  text-transform: uppercase;\n}\n\n.navbar-form-search {\n  position: relative;\n  .form-control {\n    width: 250px;\n  }\n  .btn {\n    border: 0;\n    background: transparent;\n    font-size: 18px;\n    &:active,\n    &:hover,\n    &:focus {\n      color: #000;\n      outline: none;\n      box-shadow: none;\n    }\n  }\n\n  .search-form-container {\n    text-align: right;\n    position: absolute;\n    width: 300px;\n    overflow: hidden;\n    background: #fff;\n    right: 60px;\n    top: 0;\n    z-index: 9;\n    transition: all .3s ease-in-out;\n    &.hdn {\n      width: 0;\n    }\n\n    .search-input-group {\n      width: 300px;\n    }\n  }\n}</style> <nav class="navbar navbar-default banner"> <div class="container">  <div class="navbar-header"> <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#bs-example-navbar-collapse-1" aria-expanded="false"> <span class="sr-only">Toggle navigation</span> <span class="icon-bar"></span> <span class="icon-bar"></span> <span class="icon-bar"></span> </button> <a class="navbar-brand" href="#"> <div class="logo-img" style="width: 111.5px; height: 94.5px; overflow: hidden;float:left"> <a href="/"><img src="/images/indior_transperent cropped.ae58292c.png" style="overflow: hidden; width:100%"></a> </div> <div style="color: rgb(255, 255, 255)"> <h4 class="display-2" style="font-size: 15px;padding-top:30px;font-weight: 100">The World is Our Family</h4> <span class="glyphicon"></span> </div> </a> </div>  <div class="collapse navbar-collapse" id="bs-example-navbar-collapse-1"> <form class="navbar-form navbar-right navbar-form-search" role="search"> <div class="search-form-container hdn" id="search-input-container"> <div class="search-input-group"> <button type="button" class="btn btn-default" id="hide-search-input-container"><span class="glyphicon glyphicon-option-horizontal" aria-hidden="true"></span></button> <div class="form-group"> <input type="text" class="form-control" placeholder="Search for..."> </div> </div> </div> <button type="submit" class="btn btn-default" id="search-button"><span class="glyphicon glyphicon-search" aria-hidden="true"></span></button> </form> <ul class="nav navbar-nav navbar-right navbar-nav-primary"> <li><a href="#">Home</a></li> <li><a href="#">Project</a></li> <li><a href="#">Gallery</a></li> <li><a href="#">Publication</a></li> <li><a href="#">Events</a></li> <li><a href="#">News</a></li> </ul> </div> </div> </nav> <script>(function($) {\n\n'+"$('#search-button').on('click', function(e) {\n  if($('#search-input-container').hasClass('hdn')) {\n    e.preventDefault();\n    $('#search-input-container').removeClass('hdn')\n    return false;\n  }\n});\n\n$('#hide-search-input-container').on('click', function(e) {\n  e.preventDefault();\n  $('#search-input-container').addClass('hdn')\n  return false;\n});\n\n})(jQuery);<\/script>"),
a.put("views/main/MICE.html",'<style>p{\n  text-align:justify;\n}\n\nimg {\n    float: left;\n    margin: 2px 10px 10px 2px;\n    border-radius: 4px;\n}</style> <h3>M.I.C.E.</h3> <h4>Incredible India – A credible destination for MICE</h4> <p> Indior Tours has played a pivotal role in the growth of the M.I.C.E. industry in India. With its vast expertise, experience, team of skilled professionals, and excellent relationships with hospitality leaders across the world, Indior Tours has assisted industrialists, professional bodies, corporations and autonomous bodies in making their conferences, trade fairs, exhibitions, product launches, symposiums, meetings, conventions, and all related events grand successes. Let us plan to make your conferences, trade fairs, exhibitions, product launches, meetings, and related events a momentous successes. </p> <h4>Meetings</h4> <p> <img class="img-responsive scaleDestinationImg" style="height:140px" ng-src="/images/mice-meetings.jpg"> Every meeting hosted and planned by IndiorTours is an opportunity to benchmark an occasion of impeccable standards, remarkable insights, and progressive outlook. IndiorTours has its own experienced team of meeting planners and unique classification of Meetings which is programmed to accommodate any discerning requirement and transform it into a winning proposition. Meetings for IndiorTours are the most perfect platform to communicate one business idea to avoid seekers in an environment that is ideal, refreshing and stimulating. The IndiorTours think tank programs a customized pedestal of facilities and important tools with such professional consistency and finesse that it infuses that rare conviction in Meetings which is so often cherished in corporate corridors and strategy reports. We are organizing meetings in different parts of the world with the help of our international meeting planners </p> <h4>Business Meetings</h4> <p> <img class="img-responsive scaleDestinationImg" style="height:140px" ng-src="/images/business-meeting.jpg"> Every business, regardless of number of employees, has meetings as a regular part of getting things done. Although employees can communicate with one another in an organization in many different ways, business meetings — if they are conducted the right way — can be incredibly effective and efficient. We at IndiorTours design meetings’ formats not only to provide the meeting platform as one of the means to communicate but also to open the path of all the individuals empower them with innumerable solution. This helps them to not only become effective themselves and to improve the efficiency of all the team members. To get your next business meeting organised in the most efficient way, click here. </p> <h4>Corporate Meetings</h4> <p> <img class="img-responsive scaleDestinationImg" style="height:140px" ng-src="/images/corporate-meeting1.jpg"> Clearly defined process at Indior Tours is always complemented by our par excellence personal service to ensure streamlined planning and flawless execution. Any corporate meeting starts by clearly defining the goals. We at Indior Tours help you identify achievable and quantifiable goals and will help you rack your expertise to decide on the appropriate tactics and budget needed to achieve your objectives. Once the goal is set, you leave the rest to us. From Site selection, negotiations, planning the minutest details to taking care of your marketing and registration, all can be handled one umbrella – Indior Tours. To get your next meeting organized strictly as per your requirements, click here. </p> <h4>Corporate Meetings</h4> <p> <img class="img-responsive scaleDestinationImg" style="height:140px" ng-src="/images/corporatemeetings-indior-tours.jpg"> Indior Tours provides access to education, experience and resources targeting the needs of financial services and insurance meeting planners from across India. Indior Tours offers first-rate conferences, regional meetings, virtual networking and state-of-the-art strategic sourcing tools to assist the development of high-caliber financial meeting planning professionals. With associates of Indior Tours spread around Indian sub-continent and Europe, Indior Tours boasts a community of very friendly and wise meeting planners and hospitality partners not only in Indian sub-continent but also in innumerable destinations across the globe including countries like Germany, UK, Italy, Georgia, Vietnam, Singapore, Thailand, etc. To plan your financial meeting, click here. </p> <h4>Thematic Meetings</h4> <p> <img class="img-responsive scaleDestinationImg" style="height:140px" ng-src="/images/mice-holi.jpg"> A carefully selected theme for your meeting will help to unify everyone’s focus and efforts. A well-chosen theme provides an “umbrella” concept, under which your agenda, speakers, all related materials and activities are made more effective. Our product team always takes up a chal­lenge to every time come up with new yet great meeting themes. We at Indior Tours have compiled a list of some of the ideas of thematic meetings that we have successfully executed over the years for you. Please try to put forth a new challenge for us and contact us to help you find that yet another unique idea for your next meeting, click here. </p> <h4>Conferences</h4> <p> <img class="img-responsive scaleDestinationImg" style="height:140px" ng-src="/images/grand_sala_conference_hall_in_goa_india.jpg"> There exists a very thin line between conferences and conventions. When we cross over to the realm of conventions, a new set of rules and yardsticks take centre stage. The ambit of conventions pertains to a smaller sky than a conference. While a conference is a celebration of performance, a convention is more of a thought provoking and reflective session. Indior Tours is at home in managing and organizing conventions as they should be. The venues are chosen to complement the nature of the convention. The dignity and the decorum of a convention is ideated after one to one interactions until the mission of the convention and the vision of Indior Tours become one. click here. </p> <h4>Conventions</h4> <p> <img class="img-responsive scaleDestinationImg" style="height:140px" ng-src="/images/international_association_of_convention_centres.jpg"> Conferences are a whole new world at Indior Tours. We not only understand the true merits of each conference, we leave no stone unturned to ensure that it is perceived, conceived and received in ways it should; in ways which are truly beyond the ordinary. To conference event management, being at home with knowledge of corporate manners, business affairs and industry trends is much more than simply essential. Over the years, conferences have evolved as purely stimulating occasions than intimidating sessions. The fresh the conference, the bigger success it becomes. Ensuring freshness as the key element needs expertise. Indior Tours corporate Conferences are a leaf from these chapters. The venues, the cuisine, the arrangements, the stylers, the conceptual leaps…really makes a conference come alive. Conference corporate event management is the life of the corporate culture…Indior Tours fully respect it and is absolutely in sync with all elements, finer points and the toppings to ensure your conference is a roaring success. Conferences are life of the corporate culture…Indior Tours fully respect it and is absolutely in sync with all elements, finer points and the toppings to ensure your conference is a roaring success. click here. </p> <h4>Incentives</h4> <p> <img class="img-responsive scaleDestinationImg" style="height:140px" ng-src="/images/incentives-u61737-fr.jpg"> Incentives are a vital link between a fruitful and profitable bonding between employee and employer. The earnestness and ingenuity in choosing the ideal incentives package goes a long way in cementing this bonding. Indior Tours specializes in understanding the true significance of the term Incentives. Every Incentives Package at Indior Tours is the culmination of out of box thinking and refreshing ideas. The real significance of Incentives is in the inherent surprise element and the adrenaline quotient. The quotient in question has its own dimensions at Indior Tours. For example if given an opportunity, won’t plucking a full grown apple from a tree pump up your adrenaline, it will. Won’t standing in the midst of thousands and feel gods descending at the Haridwar Aarti give your adrenaline a rush won’t watching dolphins beat you in 100 metres dash in the pacific charge your soaked soul to unknown limits won’t having a date with biggest Bollywood stars fire you up won’t discovering and patenting an ancient Indian martial art in your name excite you beyond comprehension won’t seeing the clouds embracing the mountains and melting in front of you will make you feel humble. Won’t sitting atop at the biggest sand table Down Under elevate you to the heavens… There are infinite ways at Indior Tours for you to discover the true meaning of Incentives when you strive 365 days for it. Try knowing all and then see your own self inspiring your senses to achieve beyond. Indior Tours has its own ways to ensure what you get in an envelope as your Incentives Package amazes you completely. Psychological analysis of your personality and analysis of employee-employer relationship in the most unassuming manner is the real key with which Indior Tours opens your Pandora Box which you yourself are absolutely unaware of. click here. </p> <h4>Exhibitions and Trade Shows</h4> <p> <img class="img-responsive scaleDestinationImg" style="height:140px" ng-src="/images/exhibitions-trade-shows.jpg"> When an exhibit becomes the definition of excellence, an exhibition of highest standards, hands on expertise and credible pedestals is showcased. An exhibition is one of the most exacting platforms which tests the bastions of precision in design and demands only impeccable solutions to every need, meticulous answers to every question. Exhibitions and Trade Shows are one of the most exacting platforms of workmanship. Top notch organizing skills and managing skills are the most vital pre requisites needed to excel on these platforms. Indior Tours has its network of designers and planners and fabricators in place to spring to life at the snap of fingers. The assembly line is well attuned to pack entire pavilions and install efficiently. The technical know how of latest technologies and ‘Come Alive’ methodologies separates Indior Tours from the crowd. click here. </p> <h4>Events Management</h4> <p> <img class="img-responsive scaleDestinationImg" style="height:140px" ng-src="/images/eventsmanagement_hindumarriage-indior-tours-u61741-fr.jpg"> Sun rises…it is an event. Birds chirp…it is an event. A new leaf is born…it is an event. Peacock dance…rain enthralls…hope smiles…stars shines…someone wins…love binds…celebrations preside…every moment is an event…Life is an Event…Life at Indior Tours is an Event. That’s right. When it comes to hosting any event under the sun to perfection, Indior Tours draws inspiration from Life itself. Like when it comes to Life, everything seems so organized. So perfect, so spontaneous, so well orchestrated. Be it a celebrity evening or a product launch. Be it a fashion show or a music concert. Be it a wedding or any other occasion…an Indior Tours Event always becomes an integral part of the larger picture effortlessly…Life itself… We always try to achieve the standard of our client with the help of advance technology. Our dedicated planners and management team apply the innovative and creative ideas to enhance the qualities of corporate events. The success depends on the corporate events planning and management. That is why, we also do home work to organize the events to achieve success and deliver the best positive results for the growth of business click here. </p>'),a.put("views/main/about.html","<style>p{\n  text-align:justify;\n}</style> <h1>About Us</h1> <p> Wherever you choose to travel with Indior Tours, you can travel with confidence. The clarity of our brochures and website; the expertise and experience of our Tour Consultants and the knowledge and enthusiasm of our guides and local representatives on the ground, all enable you to be fully informed before you book and carefree when you travel. Here are just some of the benefits of choosing Indior Tours. Our regional specialists have all travelled extensively in their regions meaning you can be reassured that your hotels, excursions and journeys have been fully considered by an expert. </p> <p> Our buying power and long-standing relationships in the travel industry generated over many years by the network of associated Indior Tours companies worldwide enables us to contract flights, hotels and ground services at highly competitive rates. </p> <p> ​ Our regional specialists have all travelled extensively in their regions meaning you can be reassured that your hotels, excursions and journeys have been fully considered by an expert. </p> <p> Other benefits of travelling with Indior Tours include complimentary travel accessories, free subscription to our in-house magazine and access to sponsored events. </p> <p> Indior Tours has played a pivotal role in the growth of the M.I.C.E. industry in India. With its vast expertise, experience, team of skilled professionals, and excellent relationships with hospitality leaders across the world, hi-mice.com has assisted industrialists, professional bodies, corporations and autonomous bodies in making their conferences, trade fairs, exhibitions, product launches, symposiums, meetings, conventions, and all related events grand successes. </p> <p> With innovation and excellence as mantras, an expertise spanning sectors, budget sizes, and industries; a team of skilled professionals who thrive on challenges; own fleet of chauffeur-driven cabs and couches, and excellent relationships with hospitality leaders across the world, hi-mice.com has carved a top position in the ranks of M.I.C.E. management organizations across the world. </p> <p> Our efforts and excellent services have received commendation from several quarters. </p> <div class=\"clear-fix\" div> <h4>M.I.C.E. with Indior Tours offer:</h4> <p> Brand Moments - The Indior Tours Touch: Extensive knowledge of the destinations and well-established working relationships with leaders of the hospitality and event management industry enables us to plan one-of-a-kind events that enrich each meeting organized by Indior Tours.com with the Indior Tours touch right from the moment of arrival of the delegates to the minute of their departure. </p> <p> Personalized Service - The Indefinable Extra: At Indior Tours.com, we believe in going the extra mile to make your experience more enriching than ever. We go to great lengths to understand your vision for the event and make it a reality with additional extra touches to make it extra special. It is the thoughtful touches, a smattering of surprise elements throughout the holiday, and the excitement and anticipation of what next that makes each event unique and memorable. </p> <p> Excellent On-ground Support:All Indior Tours meetings and conferences benefit from an excellent on-ground support staff. Our own fleet of cars and coaches for transport with perfectly attired professional chauffeurs transfer delegates in a timely manner. </p> <p> Our on-ground staff includes an elite team of professionally trained guides as well as account managers proficient in the local language as well as several other languages. </p> <p> All our guides undergo special trainings in a European tour-leader training institute on subjects such as 'How to deal with problems/Illness', 'Communication', 'Tour leader and his/her duties' etc. Both guides and drivers also undergo professional training in primary and advanced first aid and emergency evacuation procedures. </p> <p> Account managers handle all minute aspects of your meeting right from arranging accommodations and transfers to coming up with creative and innovative themes and ideas to enrich your stay. Minute attention to detail ensures perfection <a href=\"http://www.hi-mice.com/conferences/default.aspx\">MICE</a> </p> <p> As well as offering a huge variety of destinations, our holidays range from our excellent-value small escorted group tours to completely flexible tailor-made holidays, luxurious city breaks and art history tours. We believe that our holidays should benefit the local people and their environments and we strive to ensure that the local culture and communities form an integral part of our trips. Read more about our Responsible Tourism policy and for a list of charities we support. \"Our holiday was wonderful! It was everything that we wanted our grandchildren to see and experience with enough spaces for them to catch their breath. Read more testimonials... </p></div>"),a.put("views/main/blog.html",'<div ng-init="allBlogs()"> <h3> Indior Travel Blog </h3> <p class="main"> Travel to Asia with Indior Tours experts and delve deeply into a rich tapestry of cultures and landscapes. Explore sacred temples in Bhutan or Tibet, or trek with Sherpa guides to through Himalayas. Set out on a rail journey through India or a explore coastline of Sri Lanka and Maldives, or a photography expedition to Bhutan or Tibet. On all of our trips, you’ll experience a unique intersection of fascinating cultures, age-old traditions, and modern life. </p> <div ng-class="{\'loader\': loading, \'notLoading\': !loading}" id="loadingSpinner">Loading...</div> <div ng-show="!(loading)"> <div class="row"> </div> </div> </div>'),a.put("views/main/book.html",'<style>#wizard-step-container {\n  margin: 20px 0;\n}\n\n#wizard-content-container {\n  margin: 20px 0;\n}\n\n#wizard-navigation-container {\n  border-top: 1px solid #eee;\n  margin: 20px 0;\n  padding-top: 20px;\n  padding-right: 0px !important\n}</style> <div class="col-md-12"> <h1>IndiorTours Secure Booking</h1> <h3>{{ tourWithAllRelated[0].name }}</h3> <p class="text-left" style="font-size:1em; word-wrap: break-word"> <span> {{ tourWithAllRelated[0].location | join:\' | \' | truncate: 120 : \'...\' : false }} </span> </p> <div id="wizard-container" ng-controller="BookingController as vm" ng-init="vm.progress();"> <uib-progressbar max="max" value="dynamic" type="success" class="progress-striped"> <span style="color:white; white-space:nowrap"> Step {{ dynamic }} of {{ max }} </span> </uib-progressbar> <div id="wizard-step-container"> <ul class="nav nav-pills nav-justified"> <li ng-repeat="step in vm.steps" ng-class="{\'active\':step.step == vm.currentStep}"><a ng-click="vm.gotoStep(step.step)" href="">{{step.name}}</a></li> </ul> </div> <div id="wizard-content-container"> <ng-include src="vm.getStepTemplate()"></ng-include> </div> <div id="wizard-navigation-container" class="col-md-12"> <div class="pull-right"> <span class="btn-group"> <button ng-disabled="vm.currentStep <= 1" class="btn btn-default" name="previous" type="button" ng-click="vm.gotoStep(vm.currentStep - 1)"><i class="fa fa-arrow-left"></i> Previous</button> <button ng-disabled="vm.currentStep >= vm.steps.length" class="btn btn-primary" name="next" type="button" ng-click="vm.gotoStep(vm.currentStep + 1)">Next <i class="fa fa-arrow-right"></i></button> </span> <button id="submit-button2" class="btn btn-success" name="next" type="button"> Submit</button>  </div> </div> </div> </div>'),a.put("views/main/booktour.html",'<div> <div> <h1 style="font-size:2em;font-weight: 200">Contact Us</h1> <h2 style="font-size: 15px;font-weight: 200">Have a question or comment? Fill out the following information and we will get back to you as soon as possible.<h2> </h2></h2></div> <div class="row"> <form method="post" role="form" ng-submit="createLead();"> <div class="form-group col-xs-10 col-sm-4 col-md-4 col-lg-4"> <label for="exampleInputEmail1">Title</label> <select class="form-control" ng-model="contactusData.title"> <option>Mr</option> <option>Miss</option> <option>Ms</option> <option>Mrs</option> </select> </div> <div class="clearfix"></div> <div class="form-group col-xs-10 col-sm-4 col-md-4 col-lg-4"> <label for="exampleInputEmail1">Name</label> <input type="text" ng-model="contactusData.name" class="form-control" id="exampleInputEmail1" placeholder="Enter Name"> </div> <div class="form-group col-xs-10 col-sm-4 col-md-4 col-lg-4"> <label for="exampleInputPassword1">Email Address</label> <input type="email" ng-model="contactusData.email" class="form-control" id="exampleInputEmail1" placeholder="Enter Email"> </div> <div class="clearfix"></div> <div class="form-group col-xs-10 col-sm-4 col-md-4 col-lg-4"> <label for="exampleInputPassword1">Phone</label> <input type="phone" ng-model="contactusData.phone" class="form-control" id="exampleInputEmail1" placeholder="Enter Phone"> </div> <div class="form-group col-xs-10 col-sm-4 col-md-4 col-lg-4"> <label for="exampleInputPassword1">Arrival Date</label> <input type="Date" ng-model="contactusData.plannedarrival" class="form-control" id="exampleInputEmail1" placeholder="Enter Arrival Date"> </div> <div class="clearfix"></div> <div class="form-group col-xs-10 col-sm-4 col-md-4 col-lg-4"> <label for="exampleInputEmail1">No. of Days</label> <input type="text" ng-model="contactusData.numdays" class="form-control" id="exampleInputEmail1" placeholder="Enter Nunmber of People"> </div> <div class="form-group col-xs-10 col-sm-4 col-md-4 col-lg-4"> <label for="exampleInputPassword1">Type of Hotel</label> <select class="form-control" ng-model="contactusData.preferredhoteltype"> <option>High End Hotels</option> <option>Luxury And Palaces</option> <option>Medium Budget</option> <option>Low Budget</option> </select> </div> <div class="clearfix"></div> <div class="form-group col-xs-8 col-sm-8 col-md-12 col-lg-8"> <label for="exampleInputEmail1">Message</label> <textarea ng-model="contactusData.message" cols="150" rows="5" class="form-control" id="exampleInputEmail1" placeholder="Enter Message"></textarea> </div> <div class="clearfix"></div> <div class="form-group col-xs-12 col-sm-12 col-md-12 col-lg-12"> <label for="exampleInputFile">Attach Files</label> <div class="form-group"> <div class="btn btn-default" ngf-select ng-model="contactusData.images" ngf-multiple="true" accept="image/*" ngf-max-height="2000" ngf-max-size="10MB" ngf-keep="distinct" ngf-capture="camera" ngf-max-files="5">Select Files (max:5) </div> <p class="help-block">Click on the Attach Files button to attach files related to your query.</p> </div> <div> <span ng-repeat="f in contactusData.images"> <img width="20%" ngf-thumbnail="f || \'/thumb.jpg\'" class="thumb"> {{f.$errorParam}} </span> </div> </div> <div class="clearfix"></div> <div class="col-xs-10 col-sm-4 col-md-4 col-lg-4"> <button style="margin-bottom:10px" type="submit" class="btn btn-default">Submit</button> </div> </form> <div class="clearfix"></div> </div> </div> <address> <strong>Indior Tours Pvt. Ltd.</strong><br> M 8 Bhagat Singh Market,<br> Connaught Place,<br> New Delhi - 110001<br> <abbr title="Phone">Phone:</abbr> +91-11-23361564 <br> <abbr title="Mobile">Mobile:</abbr> +91-9311463467 <br> Email: <a href="mailTo:info@indiortours.in">info@indiortours.in</a> </address>'),a.put("views/main/calendarControls.html",'<div class="row"> <div class="text-center"> <div class="btn-group"> <button class="btn btn-primary btn-sm" mwl-date-modifier date="vm.viewDate" decrement="vm.calendarView"> Previous </button> <button class="btn btn-default btn-sm" mwl-date-modifier date="vm.viewDate" set-to-today> Today </button> <button class="btn btn-primary btn-sm" mwl-date-modifier date="vm.viewDate" increment="vm.calendarView"> Next </button> </div> </div> <br class="visible-xs visible-sm"> </div> <br>'),a.put("views/main/checkout.html",'<!DOCTYPE html> <html> <head> </head> <body> <h1>Indior Tours Safe Checkout</h1> <div ng-controller="CheckoutController"> <button type="button" ng-click="submitForm();">Submit</button> <div ng-bind-html="ccavenueForm"></div> </div> </body> </html>'),a.put("views/main/city.html",'<style>img {\n      float: left;\n      margin: 2px 10px 10px 2px;\n      border-radius: 4px;\n  }</style> <div ng-init="getCityDetails()"> <h3> {{ name }} </h3> <p class="main" style="white-space: pre-wrap"> <img class="img-responsive scaleDestinationImg" style="height:140px" ng-src="/images/{{ destination.images.data[0].filename }}"> {{ destination.description }} </p> <span> <h3>Popular Itineraries in {{ name }}</h3> </span> <div ng-repeat="tour in destination.siteTour"> <div class="col-xs-12 col-sm-4 col-md-4"> <div class="productbox"> <div ng-attr-id="myCarousel-{{$index}}" class="carousel slide" data-ride="carousel"> <div class="carousel-inner"> <div ng-class="{item: true, active: ($index === 0)}" ng-repeat="img in city.images[0]"> <img style="height:200px" ng-src="/images/{{img.filename}}" alt="Slide number {{img.filename}}" class="img-responsive thumb-post"> <div class="container"> <div class="carousel-caption"> </div> </div> </div> </div> <a class="left carousel-control" ng-href="#myCarousel-{{$index}}" role="button" data-slide="prev"></a> <a class="right carousel-control" ng-href="#myCarousel-{{$index}}" role="button" data-slide="next"></a> </div> <div class="producttitle text-center"><a style="text-decoration: none" ng-href="/tourView?id={{tour.id}}&name={{tour.name}}" ng-click="addToRecentItems(tour.id);">{{tour.name}}</a></div> </div> </div> </div> </div>'),a.put("views/main/contactus.html",'<div> <div> <h1 style="font-size:2em;font-weight: 200">Contact Us</h1> <h2 style="font-size: 15px;font-weight: 200">Have a question or comment? Fill out the following information and we will get back to you as soon as possible.<h2> </h2></h2></div> <div class="row"> <form method="post" role="form" ng-submit="createLead();"> <div class="form-group col-xs-10 col-sm-4 col-md-4 col-lg-4"> <label for="exampleInputEmail1">Title</label> <select class="form-control" ng-model="contactusData.title"> <option>Mr</option> <option>Miss</option> <option>Ms</option> <option>Mrs</option> </select> </div> <div class="clearfix"></div> <div class="form-group col-xs-10 col-sm-4 col-md-4 col-lg-4"> <label for="exampleInputEmail1">Name</label> <input type="text" ng-model="contactusData.name" class="form-control" id="exampleInputEmail1" placeholder="Enter Name"> </div> <div class="form-group col-xs-10 col-sm-4 col-md-4 col-lg-4"> <label for="exampleInputPassword1">Email Address</label> <input type="email" ng-model="contactusData.email" class="form-control" id="exampleInputEmail1" placeholder="Enter Email"> </div> <div class="clearfix"></div> <div class="form-group col-xs-10 col-sm-4 col-md-4 col-lg-4"> <label for="exampleInputPassword1">Phone</label> <input type="phone" ng-model="contactusData.phone" class="form-control" id="exampleInputEmail1" placeholder="Enter Phone"> </div> <div class="form-group col-xs-10 col-sm-4 col-md-4 col-lg-4"> <label for="exampleInputPassword1">Arrival Date</label> <input type="Date" ng-model="contactusData.plannedarrival" class="form-control" id="exampleInputEmail1" placeholder="Enter Arrival Date"> </div> <div class="clearfix"></div> <div class="form-group col-xs-10 col-sm-4 col-md-4 col-lg-4"> <label for="exampleInputEmail1">No. of Days</label> <input type="text" ng-model="contactusData.numdays" class="form-control" id="exampleInputEmail1" placeholder="Enter Nunmber of People"> </div> <div class="form-group col-xs-10 col-sm-4 col-md-4 col-lg-4"> <label for="exampleInputPassword1">Type of Hotel</label> <select class="form-control" ng-model="contactusData.preferredhoteltype"> <option>Budget</option> <option>Economy</option> <option>Elegant</option> <option>Deluxe</option> <option>Luxury</option> </select> </div> <div class="clearfix"></div> <div class="form-group col-xs-8 col-sm-8 col-md-12 col-lg-8"> <label for="exampleInputEmail1">Message</label> <textarea ng-model="contactusData.message" cols="150" rows="5" class="form-control" id="exampleInputEmail1" placeholder="Enter Message"></textarea> </div> <div class="clearfix"></div> <div class="form-group col-xs-12 col-sm-12 col-md-12 col-lg-12"> <label for="exampleInputFile">Attach Files</label> <div class="form-group"> <div class="btn btn-default" ngf-select ng-model="contactusData.images" ngf-multiple="true" accept="image/*" ngf-max-height="2000" ngf-max-size="10MB" ngf-keep="distinct" ngf-capture="camera" ngf-max-files="5">Select Files (max:5) </div> <p class="help-block">Click on the Attach Files button to attach files related to your query.</p> </div> <div> <span ng-repeat="f in contactusData.images"> <img width="20%" ngf-thumbnail="f || \'/thumb.jpg\'" class="thumb"> {{f.$errorParam}} </span> </div> </div> <div class="clearfix"></div> <div class="col-xs-10 col-sm-4 col-md-4 col-lg-4"> <button style="margin-bottom:10px" type="submit" class="btn btn-default">Submit</button> </div> </form> <div class="clearfix"></div> </div> </div> <address> <strong>Indior Tours Pvt. Ltd.</strong><br> M 8 Bhagat Singh Market,<br> Connaught Place,<br> New Delhi - 110001<br> <abbr title="Phone">Phone:</abbr> +91-11-23361564 <br> <abbr title="Mobile">Mobile:</abbr> +91-9311463467 <br> Email: <a href="mailTo:info@indiortours.in">info@indiortours.in</a> </address>'),
a.put("views/main/country.html",'<style>img {\n      float: left;\n      margin: 2px 10px 10px 2px;\n      border-radius: 4px;\n  }</style> <div ng-init="getCountryDetails()"> <h3> {{ countryData.name }} </h3>  <span> {{ countryData.description }} </span> <uib-tabset active="activeJustified" justified="true">  <uib-tab index="1" heading="Popular Itineraries in {{ countryData.name }}" select="tabShown = !tabShown" deselect="tabShown = !tabShown"> <div ng-repeat="tour in popularItineraries"> <div class="col-xs-12 col-sm-4 col-md-4"> <div class="productbox"> <div ng-attr-id="myCarousel-{{$index}}" class="carousel slide" data-ride="carousel"> <div class="carousel-inner"> <div ng-class="{item: true, active: ($index === 0)}" ng-repeat="img in city.images[0]"> <img style="height:200px" ng-src="/images/{{img.filename}}" alt="Slide number {{img.filename}}" class="img-responsive thumb-post"> <div class="container"> <div class="carousel-caption"> </div> </div> </div> </div> <a class="left carousel-control" ng-href="#myCarousel-{{$index}}" role="button" data-slide="prev"></a> <a class="right carousel-control" ng-href="#myCarousel-{{$index}}" role="button" data-slide="next"></a> </div> <div class="producttitle text-center"><a style="text-decoration: none" ng-href="/tourView?id={{tour.id}}&name={{tour.name}}" ng-click="addToRecentItems(tour.id);">{{tour.name}}</a></div> </div> </div> </div> </uib-tab>  <uib-tab index="0" heading="Destinations"> <uib-accordion close-others="oneAtATime"> <div uib-accordion-group class="panel-default" heading="Regions" is-open="true"> <div ng-repeat="city in countryData.regions"> <div class="col-xs-12 col-sm-4 col-md-4"> <div class="productbox"> <div ng-attr-id="myCarousel-{{$index}}" class="carousel slide" data-ride="carousel"> <div class="carousel-inner"> <div ng-class="{item: true, active: ($index === 0)}" ng-repeat="img in city.images[0]"> <img style="height:200px" ng-src="/images/{{img.filename}}" alt="Slide number {{img.filename}}" class="img-responsive thumb-post"> <div class="container"> <div class="carousel-caption"> </div> </div> </div> </div> <a class="left carousel-control" ng-href="#myCarousel-{{$index}}" role="button" data-slide="prev"></a> <a class="right carousel-control" ng-href="#myCarousel-{{$index}}" role="button" data-slide="next"></a> </div> <div class="producttitle text-center"><a style="text-decoration: none" ng-href="/region?id={{city.id}}&countryid={{city.country_id}}&name={{city.name}}" ng-click="addToRecentItems(tour.id);">{{city.name}}</a></div> </div> </div> </div> </div> </uib-accordion> <uib-accordion close-others="oneAtATime"> <div uib-accordion-group class="panel-default" heading="States" is-open="false"> <div ng-repeat="city in countryData.locations | unique:\'state\'"> <div class="col-xs-12 col-sm-4 col-md-4"> <div class="productbox"> <div ng-attr-id="myCarousel-{{$index}}" class="carousel slide" data-ride="carousel"> <div class="carousel-inner"> <div ng-class="{item: true, active: ($index === 0)}" ng-repeat="img in city.images[0]"> <img style="height:200px" ng-src="/images/{{img.filename}}" alt="Slide number {{img.filename}}" class="img-responsive thumb-post"> <div class="container"> <div class="carousel-caption"> </div> </div> </div> </div> <a class="left carousel-control" ng-href="#myCarousel-{{$index}}" role="button" data-slide="prev"></a> <a class="right carousel-control" ng-href="#myCarousel-{{$index}}" role="button" data-slide="next"></a> </div> <div class="producttitle text-center"><a style="text-decoration: none" ng-href="/state?statename={{city.state}}" ng-click="addToRecentItems(tour.id);">{{city.state}}</a></div> </div> </div> </div> </div> </uib-accordion> <uib-accordion close-others="oneAtATime"> <div uib-accordion-group class="panel-default" heading="Cities" is-open="false"> <div ng-repeat="city in countryData.locations"> <div class="col-xs-12 col-sm-4 col-md-4"> <div class="productbox"> <div ng-attr-id="myCarousel-{{$index}}" class="carousel slide" data-ride="carousel"> <div class="carousel-inner"> <div ng-class="{item: true, active: ($index === 0)}" ng-repeat="img in city.images[0]"> <img style="height:200px" ng-src="/images/{{img.filename}}" alt="Slide number {{img.filename}}" class="img-responsive thumb-post"> <div class="container"> <div class="carousel-caption"> </div> </div> </div> </div> <a class="left carousel-control" ng-href="#myCarousel-{{$index}}" role="button" data-slide="prev"></a> <a class="right carousel-control" ng-href="#myCarousel-{{$index}}" role="button" data-slide="next"></a> </div> <div class="producttitle text-center"><a style="text-decoration: none" ng-href="/city?id={{city.id}}&countryid={{city.country_id}}&name={{city.city}}" ng-click="addToRecentItems(tour.id);">{{city.city}}</a></div> </div> </div> </div> </div> </uib-accordion> </uib-tab> </uib-tabset> </div>'),a.put("views/main/destination.html",'<style>img {\n      float: left;\n      margin: 2px 10px 10px 2px;\n      border-radius: 4px;\n  }</style> <div ng-init="getContinentDetails()"> <h3> {{ name }} </h3> <p class="main" style="white-space: pre-wrap"> <img class="img-responsive scaleDestinationImg" style="height:140px" ng-src="/images/{{ destination.images.data[0].filename }}"> {{ destination.description }} </p> <h4> Destinations </h4> <div ng-repeat="country in countries"> <div class="col-xs-12 col-sm-4 col-md-4"> <div class="productbox"> <div ng-attr-id="myCarousel-{{$index}}" class="carousel slide" data-ride="carousel"> <div class="carousel-inner"> <div ng-class="{item: true, active: ($index === 0)}" ng-repeat="img in country.images[0]"> <img style="height:200px" ng-src="/images/{{img.filename}}" alt="Slide number {{img.filename}}" class="img-responsive thumb-post"> <div class="container"> <div class="carousel-caption"> </div> </div> </div> </div> <a class="left carousel-control" ng-href="#myCarousel-{{$index}}" role="button" data-slide="prev"></a> <a class="right carousel-control" ng-href="#myCarousel-{{$index}}" role="button" data-slide="next"></a> </div> <div class="producttitle text-center"> <a style="text-decoration: none" ng-href="/country?id={{country.id}}&name={{ country.name || slugify }}" ng-click="addToRecentItems(tour.id);"> {{ country.name | truncate: 32 : \'...\' : false }} </a> </div> </div> </div> </div> </div>'),a.put("views/main/destinations.html",'<div ng-init="allDestinations()"> <h3> Indior Destinations </h3> <p class="main"> Travel to Asia with Indior Tours experts and delve deeply into a rich tapestry of cultures and landscapes. Explore sacred temples in Bhutan or Tibet, or trek with Sherpa guides to through Himalayas. Set out on a rail journey through India or a explore coastline of Sri Lanka and Maldives, or a photography expedition to Bhutan or Tibet. On all of our trips, you’ll experience a unique intersection of fascinating cultures, age-old traditions, and modern life. </p> <div ng-class="{\'loader\': loading, \'notLoading\': !loading}" id="loadingSpinner">Loading...</div> <div ng-show="!(loading)"> <div class="row"> <div ng-repeat="continent in allContinents"> <div class="col-xs-12 col-sm-4 col-md-4"> <div class="productbox"> <div ng-attr-id="myCarousel-{{$index}}" class="carousel slide" data-ride="carousel"> <div class="carousel-inner"> <div ng-class="{item: true, active: ($index === 0)}" ng-repeat="img in continent.images"> <img style="height:200px" ng-src="/images/{{img.filename}}" alt="Slide number {{img.filename}}" class="img-responsive thumb-post"> <div class="container"> <div class="carousel-caption"> </div> </div> </div> </div> <a class="left carousel-control" ng-href="#myCarousel-{{$index}}" role="button" data-slide="prev"></a> <a class="right carousel-control" ng-href="#myCarousel-{{$index}}" role="button" data-slide="next"></a> </div> <div class="producttitle text-center"> <a style="text-decoration: none" ng-href="/destination?type=continent&id={{continent.id}}&amp;name={{ continent.name }}"> {{ continent.name }} </a> </div> </div> </div> </div> </div> </div> </div>'),a.put("views/main/forgotpassword.html",'<div ng-init="verifyForgotPasswordLink()"> <div ng-show="verificationSuccess" class="alert alert-success" style="margin-top:10px"> <strong>Welcome back {{userfirstname}}!</strong> <p>To reset your password, enter a new password below and click submit</p> <form> <input type="password" autocomplete="new-password" style="width:30%" class="form-control input-sm" id="passwordnew" ng-model="password" placeholder="New password..."> <p class="btn btn-success btn-sm" style="margin-top:10px" ng-click="updatePassword()">Submit</p> </form> </div> <div ng-show="passwordchangedsuccess" class="alert alert-success" style="margin-top:10px"> <p>Congratulations! your password is succesfully changed. Click here to go to the login page</p> </div> <div ng-show="linkExpired" class="alert alert-warning" style="margin-top:10px"> The activation link is expired, enter your email below to receive a new activation link. <div class="clearfix"></div> <input type="email" style="width:30%" class="form-control input-sm" id="email" ng-model="useremail" placeholder="Enter your email..."> <p class="btn btn-warning btn-sm" style="margin-top:10px" ng-click="sendNewForgotPassWordLink()">Submit</p> </div> </div>'),a.put("views/main/form-otherdetails.html",'<div class="panel-group"> <div class="panel panel-default"> <div class="panel-heading">Flight Details</div> <div class="panel-body"> <div class="col-sm-6"> <div class="form-group"> <label for="name">Arrival Date/Time</label> <input type="date" class="form-control input-sm" name="name" ng-model="vm.formData.flight.arrivaldatetime"> </div> <div class="form-group"> <label for="name">Departure Date/Time</label> <input type="date" class="form-control input-sm" name="name" ng-model="vm.formData.flight.departuredatetime"> </div> </div> <div class="col-sm-6"> <div class="form-group"> <label for="email">Flight Number</label> <input type="text" class="form-control input-sm" name="email" ng-model="vm.formData.flight.arrivalflightnumber"> </div> <div class="form-group"> <label for="email">Flight Number</label> <input type="text" class="form-control input-sm" name="email" ng-model="vm.formData.flight.departureflightnumber"> </div> </div> </div> </div> <div class="panel panel-default"> <div class="panel-heading">Other Details</div> <div class="panel-body"> <div class="col-sm-12"> <div class="form-group"> <label for="name">Any travelers have medical problems?</label> <textarea type="text" class="form-control input-sm" name="name" ng-model="vm.formData.otherdetails.medicalproblems">\n            </textarea> </div> <div class="form-group"> <label for="email">Food Restrictions</label> <textarea type="text" class="form-control input-sm" name="email" ng-model="vm.formData.otherdetails.foodrestrictions">\n            </textarea> </div> </div> </div> </div> <div class="panel panel-default"> <div class="panel-heading">Emergency Contact</div> <div class="panel-body"> <div class="col-sm-6"> <div class="form-group"> <label for="name">Name</label> <input type="text" class="form-control input-sm" name="name" ng-model="vm.formData.emergencycontact.name"> </div> <div class="form-group"> <label for="email">Email</label> <input type="email" class="form-control input-sm" name="email" ng-model="vm.formData.emergencycontact.email"> </div> </div> <div class="col-sm-6"> <div class="form-group"> <label for="email">Phone</label> <input type="number" class="form-control input-sm" name="email" ng-model="vm.formData.emergencycontact.phone"> </div> </div> </div> </div> </div>'),a.put("views/main/form-paymentdetails.html",""),a.put("views/main/form-review.html",'<div class="panel-group"> <div class="panel panel-default"> <div class="panel-heading">Customer Details</div> <div class="panel-body"> <div class="col-sm-6"> <div class="form-group"> <label for="name">First Name</label> {{ vm.formData.customer.firstname }} </div> <div class="form-group"> <label for="email">Email</label> {{ vm.formData.customer.email }} </div> </div> <div class="col-sm-6"> <div class="form-group"> <label for="name">Last Name</label> {{ vm.formData.customer.lastname }} </div> <div class="form-group"> <label for="name">Phone</label> {{ vm.formData.customer.phone }} </div> </div> </div> </div> <div class="panel-group panel-default"> <div ng-repeat="traveller in vm.formData.travellers"> <div class="panel panel-default" id="traveller-{{$index+1}}"> <div class="panel-heading">Traveller {{$index+1}}</div> <div class="panel-body"> <div class="col-sm-6"> <div class="form-group"> <label for="name">First Name</label> {{ traveller.firstname }} </div> <div class="form-group"> <label for="name">Country and Code</label> {{ traveller.countryandcode }} </div> <div class="form-group"> <label for="name">Passport</label> {{ traveller.passport }} </div> <div class="form-group"> <label for="name">Expiry Date</label> {{ traveller.passportexpirydate | date }} </div> </div> <div class="col-sm-6"> <div class="form-group"> <label for="name">Last Name</label> {{ traveller.lastname }} </div> <div class="form-group"> <label for="name">Phone</label> {{ traveller.phone }} </div> <div class="form-group"> <label for="name">Issue Date</label> {{ traveller.passportissuedate | date }} </div> <div class="form-group"> <label>Gender</label> {{ traveller.gender }} </div> </div> </div> </div> </div> </div> <div class="panel panel-default"> <div class="panel-heading">Flight Details</div> <div class="panel-body"> <div class="col-sm-6"> <div class="form-group"> <label for="name">Arrival Date/Time</label> {{ vm.formData.flight.arrivaldatetime | date }} </div> </div> <div class="col-sm-6"> <div class="form-group"> <label for="email">Flight Number</label> {{ vm.formData.flight.flightnumber }} </div> </div> </div> </div> <div class="panel panel-default"> <div class="panel-heading">Other Details</div> <div class="panel-body"> <div class="col-sm-12"> <div class="form-group"> <label for="name">Any travelers have medical problems?</label> {{ vm.formData.otherdetails.medicalproblems }} </div> <div class="form-group"> <label for="email">Food Restrictions</label> {{ vm.formData.otherdetails.foodrestrictions }} </div> </div> </div> </div> <div class="panel panel-default"> <div class="panel-heading">Emergency Contact</div> <div class="panel-body"> <div class="col-sm-6"> <div class="form-group"> <label for="name">Name</label> {{ vm.formData.emergencycontact.name }} </div> <div class="form-group"> <label for="email">Email</label> {{ vm.formData.emergencycontact.email }} </div> </div> <div class="col-sm-6"> <div class="form-group"> <label for="email">Phone</label> {{ vm.formData.emergencycontact.phone }} </div> </div> </div> </div> </div>'),a.put("views/main/form-tourdetails.html",'<div class="panel-group"> <div class="panel panel-default"> <div class="panel-heading">Tour Details</div> <div class="panel-body"> <div class="col-sm-6"> <div class="form-group"> <label for="name">Date of Arrival</label> <input type="date" class="form-control input-sm" name="name" ng-model="vm.formData.tour.startdate"> </div> <div class="form-group"> <label for="name">Hotel Category</label> <select class="form-control input-sm input-sm" id="hoteltype" ng-model="vm.formData.tour.hotelcategory" placeholder="Hotel Type"> <option>Budget</option> <option>Economy</option> <option>Elegant</option> <option>Deluxe</option> <option>Luxury</option> </select> </div> </div> <div class="col-sm-6"> <div class="form-group"> <label for="email">Date of Departure</label> <input type="date" class="form-control input-sm" name="email" ng-model="vm.formData.tour.enddate"> </div> </div> </div> </div> <div class="panel panel-default"> <div class="panel-heading">Total number of rooms (single, double, twin, triple)</div> <div class="panel-body"> <div class="col-sm-6"> <div class="form-group"> <label for="name">Single</label> <input type="number" class="form-control input-sm" name="name" ng-model="vm.formData.tour.totalrooms_single"> </div> <div class="form-group"> <label for="name">Twin</label> <input type="number" class="form-control input-sm" name="name" ng-model="vm.formData.tour.totalrooms_twin"> </div> </div> <div class="col-sm-6"> <div class="form-group"> <label for="name">Double</label> <input type="number" class="form-control input-sm" name="name" ng-model="vm.formData.tour.totalrooms_double"> </div> <div class="form-group"> <label for="name">Triple</label> <input type="number" class="form-control input-sm" name="name" ng-model="vm.formData.tour.totalrooms_triple"> </div> </div> </div> </div> </div>'),a.put("views/main/form-travellers.html",'<div class="panel panel-default"> <div class="panel-heading">Customer Details</div> <div class="panel-body"> <div class="col-sm-6"> <div class="form-group"> <label for="name">Title</label> <select class="form-control input-sm input-sm" name="name" ng-model="vm.formData.customer.title"> <option value="Mr">Mr</option> <option value="Mrs">Mrs</option> <option value="Miss">Miss</option> <option value="Miss">Dr</option> </select> </div> <div class="form-group"> <label for="name">First Name</label> <input type="text" class="form-control input-sm input-sm" name="name" ng-model="vm.formData.customer.firstname"> </div> <div class="form-group"> <label for="name">Agency</label> <input type="text" class="form-control input-sm input-sm" name="name" ng-model="vm.formData.customer.agency"> </div> </div> <div class="col-sm-6"> <div class="form-group"> <label for="name">Last Name</label> <input type="text" class="form-control input-sm input-sm" name="name" ng-model="vm.formData.customer.lastname"> </div> <div class="form-group"> <label for="name">Phone</label> <input type="number" class="form-control input-sm input-sm" name="name" ng-model="vm.formData.customer.phone"> </div> <div class="form-group"> <label for="email">Email</label> <input type="text" class="form-control input-sm input-sm" name="email" ng-model="vm.formData.customer.email"> </div> </div> </div> </div> <div class="panel-group panel-default"> <div ng-repeat="traveller in vm.formData.travellers"> <div class="panel panel-default" id="traveller-{{$index+1}}"> <div class="panel-heading">Traveller {{$index+1}} <button type="button" class="close" ng-click="vm.deleteTraveller($index);" data-dismiss="alert"> <span aria-hidden="true">&times;</span><span class="sr-only">Close</span> </button> </div> <div class="panel-body"> <div class="col-sm-6"> <div class="form-group"> <label for="name">Title</label> <select class="form-control input-sm input-sm" name="name" ng-model="traveller.title"> <option value="Mr">Mr</option> <option value="Mrs">Mrs</option> <option value="Miss">Miss</option> <option value="Miss">Dr</option> </select> </div> <div class="form-group"> <label for="name">First Name</label> <input type="text" class="form-control input-sm" name="name" ng-model="traveller.firstname"> </div> <div class="form-group"> <label for="name">Date of Birth</label> <input type="date" class="form-control input-sm" name="name" ng-model="traveller.dateofbirth"> </div> <div class="form-group"> <label for="name">Passport Number</label> <input type="text" class="form-control input-sm" name="name" ng-model="traveller.passportnumber"> </div> <div class="form-group"> <label for="name">Place of Issue</label> <input type="text" class="form-control input-sm" name="name" ng-model="traveller.placeofissue"> </div> </div> <div class="col-sm-6"> <div class="form-group"> <label for="name">Last Name</label> <input type="text" class="form-control input-sm" name="name" ng-model="traveller.lastname"> </div> <div class="form-group"> <label for="name">Last Name</label> <input type="text" class="form-control input-sm" name="name" ng-model="traveller.lastname"> </div> <div class="form-inline" style="margin-bottom: 10px"> <div class="row" style="margin-left:0px !important"><label>Phone</label></div> <div class="row" style="margin-left:0px !important"> <div class="col-sm-6" style="padding-left: 0px;padding-right: 0px"> <ui-select id="parenttourids" ng-model="traveller.countryandcode" theme="bootstrap" close-on-select="true" title="Country and code..."> <ui-select-match placeholder="Country and code...">{{$select.selected.name + \' \' + $select.selected.dial_code}}</ui-select-match> <ui-select-choices repeat="tour in vm.countrycodes | propsFilter: {name: $select.search}"> <div ng-bind-html="tour.name + \' \' + tour.dial_code | highlight: $select.search"></div> </ui-select-choices> </ui-select> </div> <div class="col-sm-6" style="padding-left: 0px"> <input type="number" class="form-control input-sm" style="width:100%" name="name" ng-model="traveller.phone"> </div> </div> </div> <div class="form-group"> <label for="name">Date of Issue</label> <input type="date" class="form-control input-sm" name="name" ng-model="traveller.passportissuedate"> </div> <div class="form-group"> <label for="name">Date of Expiry</label> <input type="date" class="form-control input-sm" name="name" ng-model="traveller.passportexpirydate"> </div>  </div> </div> </div> </div> </div> <span class="btn-group pull-right"> <button class="btn btn-primary" ng-click="vm.addTraveller();"> Add Traveller <i class="fa fa-plus" aria-hidden="true"></i> </button> </span>'),a.put("views/main/homesubheader.html",'<style>body {\n  color: #5a5a5a;\n}\n\n#searchForm {\n\tposition:absolute;\n  \ttop:40%;\n}\n\n.input-group {\n    position: relative;\n    display: table !important;\n    border-collapse: separate;\n}\n\n#searchForm span {\n    background: rgba(255,255,255,0.4) !important;\n}\n\ninput {\n  background: rgba(255,255,255,0.4) !important;\n  border: none;\n  position: relative;\n  display: block;\n  outline: none;\n  margin: 0 auto;\n  color: #333;\n  -webkit-box-shadow: 0 2px 10px 1px rgba(0,0,0,0.5);\n  box-shadow: 0 2px 10px 1px rgba(0,0,0,0.5);\n}\n::-webkit-input-placeholder { color: #666;}\n:-moz-placeholder { color: #666; }\n::-moz-placeholder { color: #666; }\n:-ms-input-placeholder { color: #666; }</style> <div class="col-sm-12 carouselCol hidden-xs" ng-init="allImagesForBanner()" style="padding-left:0px;padding-right:0px"> <div id="carousel-example-generic" class="carousel slide" data-ride="carousel">  <ol class="carousel-indicators"> <li ng-repeat="img in bannerImages"> </li><li data-target="#carousel-example-generic" data-slide-to="{{$index}}" ng-class="{item: true, active: ($index === 0)}"></li>  </ol>  <div class="carousel-inner" role="listbox"> <div ng-class="{item: true, active: ($index === 0)}" ng-repeat="img in bannerImages"> <img style="height:485px" class="imgScale scaleSubHeader" ng-src="/images/{{img.filename}}" alt="..."> <div class="carousel-caption"> <h3>{{img.name}}</h3> <p>{{img.description}}</p> </div> </div> </div> <form class="col-sm-12" id="searchForm" ng-submit="goToSearch();"> <div class="form-group col-sm-4 col-sm-offset-4"> <div class="input-group input-group-lg center-block"> <input type="text" class="form-control" placeholder="Search your unforgettable journey..." ng-model="key"> <span class="input-group-addon"><a href="" ng-click="goToSearch();"><i class="fa fa-search"></i></a></span> </div> </div> </form>  <a class="left carousel-control" role="button" data-slide="prev" data-target="#carousel-example-generic"> <span aria-hidden="true" class="verticalalignsvg"> <i class="fa fa-arrow-circle-left fa-lg"></i> </span> <span class="sr-only">Previous</span> </a> <a class="right carousel-control" role="button" data-slide="next" data-target="#carousel-example-generic"> <span aria-hidden="true" class="verticalalignsvg"> <i class="fa fa-arrow-circle-right fa-lg"></i> </span> <span class="sr-only">Next</span> </a> </div> </div>'),a.put("views/main/hotels.html",'<div ng-init="allDestinations()"> <h3> Indior Accommodations </h3> <p class="main"> Please select a hotel below to see our suggestions of where to stay based on the perfect hospitality conditions. </p> <div ng-class="{\'loader\': loading, \'notLoading\': !loading}" id="loadingSpinner">Loading...</div> <div ng-show="!(loading)"> <div class="row"> <div ng-repeat="hotel in allHotels"> <div class="col-xs-12 col-sm-4 col-md-4"> <div class="productbox">  <div ng-attr-id="myCarousel-{{$index}}" class="carousel slide" data-ride="carousel">  <div class="carousel-inner"> <div ng-class="{item: true, active: ($index === 0)}" ng-repeat="img in hotel.images"> <img style="height:200px" ng-src="/images/{{img.filename}}" alt="Slide number {{img.filename}}" class="img-responsive thumb-post scaleDestinationImg"> <div class="container"> <div class="carousel-caption"> </div> </div> </div> </div> <a class="left carousel-control" ng-href="#myCarousel-{{$index}}" role="button" data-slide="prev"><span class="glyphicon glyphicon-chevron-left"></span></a> <a class="right carousel-control" ng-href="#myCarousel-{{$index}}" role="button" data-slide="next"><span class="glyphicon glyphicon-chevron-right"></span></a> </div> <div class="producttitle text-center"><a ng-href="/hotel?id={{hotel.id}}&amp;name={{hotel.name | slugify}}">{{hotel.name}}, {{hotel.location}}</a></div> </div> </div> </div> </div> </div> </div>'),a.put("views/main/login.html",'<head> <style>body {\n      padding-bottom: 40px;\n      background-color: #eee;\n    }</style> </head> <body> <div id="loginPage"> <div> <form class="form-signin" name="signin" method="post" role="form" ng-submit="signIn();"> <h2 class="form-signin-heading">Login</h2> <label for="inputEmail" class="sr-only">Email address</label> <input type="email" id="inputEmail" class="form-control" placeholder="Email address" required autofocus> <label for="inputPassword" class="sr-only">Password</label> <input type="password" id="inputPassword" class="form-control" placeholder="Password" required> <div class="checkbox"> <label> <input type="checkbox" value="remember-me"> Remember me </label> </div> <button class="btn btn-lg btn-primary btn-block" type="submit">Sign in</button> </form> </div> </div> </body>'),
a.put("views/main/main.html",'<div ng-init="allToursWithLocations()"> <h3> Indior Tour Offers you Luxury Tours, Tailor-Made Holiday or Group Tours </h3> <p class="main"> One of the best travel companies offers high quality group tours, private journeys and tailor-made holidays to one of the world\'s most fascinating regions: The Indian Subcontinent covering India, Nepal, Bhutan, Sri Lanka, Tibet and Maldives. We offer to a large selection from Economy Tours to luxury holidays; each one planned by experts. </p> <div ng-class="{\'loader\': loading, \'notLoading\': !loading}" id="loadingSpinner">Loading...</div> <div ng-show="!(loading)"> <div class="row"> <div ng-repeat="tour in allTours"> <div class="col-xs-12 col-sm-4 col-md-4"> <div class="productbox"> <div ng-attr-id="myCarousel-{{$index}}" class="carousel slide" data-ride="carousel"> <div class="carousel-inner"> <div ng-class="{item: true, active: ($index === 0)}" ng-repeat="img in tour.images"> <img style="height:200px" ng-src="/images/{{img.filename}}" alt="Slide number {{img.filename}}" class="img-responsive thumb-post"> <div class="container"> <div class="carousel-caption"> </div> </div> </div> </div> <a class="left carousel-control" ng-href="#myCarousel-{{$index}}" role="button" data-slide="prev"></a> <a class="right carousel-control" ng-href="#myCarousel-{{$index}}" role="button" data-slide="next"></a> </div> <div class="producttitle text-center"><a style="text-decoration: none" ng-href="/tourView?id={{tour.id}}&amp;name={{tour.name | slugify}}" ng-click="addToRecentItems(tour.id);">{{tour.name | truncate: 32 : \'...\' : false }}</a></div> <p class="text-center" style="font-size:0.8em; word-wrap: break-word"> <span> {{ tour.locations | join:\' | \' | truncate: 65 : \'...\' : false }} </span> </p> <p class="text-center"> <strong>{{tour.days}} Days | {{ tour.price }} | Offer Price: {{ tour.offerprice }} </strong> </p> <div class="row" style="margin-left: 5px;margin-right: 0px;margin-top: 0px;margin-bottom: 5px;margin-right: 5px;padding-top: 0px"> <a ng-click="showEnquiryForm(tour.id, tour.name, tour.price, tour.days);" class="btn btn-default pull-left" style="margin-top:12px"> Send Enquiry </a> <a ng-href="/book?id={{tour.id}}&amp;name={{tour.name | slugify}}" class="btn btn-primary pull-right" style="margin-top:12px"> Book Now </a> </div> </div> </div> </div> </div> </div> <h4> Your recently viewed items and featured recommendations </h4> <h5> Recently viewed items </h5> <ui-carousel slides="recentTours" slides-to-show="4" slides-to-scroll="1" initial-slide="1" autoplay autoplay-speed="2000" dots="false"> <carousel-item> <div class="productbox" style="margin-right:5px;margin-left:5px"> <img style="height:170px;width:100%" ng-src="/images/{{item.images[0].filename}}" alt="{{item.images[0].filename}}" class="img-responsive thumb-post"> <div class="producttitle text-center"><a ng-href="/tourView?id={{item.id}}&amp;name={{item.name | slugify}}">{{ item.name | truncate: 20 : \'...\' : false }}</a></div> </div> </carousel-item>  <carousel-prev>  <a class="left carousel-control verticalalignsvg" ng-href="#myCarousel-{{$index}}" role="button" data-slide="prev"> <span aria-hidden="true" class="verticalalignsvg"> <i class="fa fa-arrow-circle-left fa-lg"></i> </span>  </a></carousel-prev> <carousel-next>  <a class="right carousel-control verticalalignsvg" ng-href="#myCarousel-{{$index}}" role="button" data-slide="next"> <span aria-hidden="true" class="verticalalignsvg"> <i class="fa fa-arrow-circle-right fa-lg"></i> </span>  </a></carousel-next> </ui-carousel> </div>  <div class="modal-demo"> <script type="text/ng-template" id="myModalContent.html"><div class="alert alert-success alert-dismissible fade in" ng-show="showSuccessBanner">\n        <a href="#" class="close" data-dismiss="alert" aria-label="close">&times;</a>\n        <strong>Success!</strong> Enquiry submitted, thanks!\n      </div>\n      <div class="modal-header">\n          <h3 class="modal-title" id="modal-title">Tour Enquiry</h3>\n          <h5>{{ tourName }} | Starting from {{ tourPrice }} | {{ tourDays }} Days</h5>\n      </div>\n      <form role="form" method="POST" ng-submit="createEnquiry();">\n        <div class="modal-body" id="modal-body">\n          <div class="row" style="margin:0px !important;">\n                <div class="col-sm-6">\n                    <div class="form-group">\n                        <label for="exampleInputEmail1">Title</label>\n                        <select class="form-control input-sm" ng-model="contactusData.title">\n                            <option>Mr</option>\n                            <option>Miss</option>\n                            <option>Ms</option>\n                            <option>Mrs</option>\n                        </select>\n                    </div>\n                    <div class="clearfix"></div>\n                    <div class="form-group">\n                        <label for="exampleInputEmail1">Name</label>\n                        <input type="text" ng-model="contactusData.name" class="form-control input-sm" id="exampleInputEmail1" placeholder="Enter Name">\n                    </div>\n                    <div class="form-group">\n                        <label for="exampleInputPassword1">Email Address</label>\n                        <input type="email"  ng-model="contactusData.email"  class="form-control input-sm" id="exampleInputEmail1" placeholder="Enter Email">\n                    </div>\n                    <div class="clearfix"></div>\n                    <div class="form-group">\n                        <label for="exampleInputPassword1">Phone</label>\n                        <input type="phone" ng-model="contactusData.phone"  class="form-control input-sm" id="exampleInputEmail1" placeholder="Enter Phone">\n                    </div>\n                    <div class="form-group">\n                        <label for="exampleInputFile">Attach Files</label>\n                        <div class="form-group">\n                          <div  class="btn btn-default"\n                                ngf-select\n                                ng-model="contactusData.images"\n                                ngf-multiple="true"\n                                accept="image/*"\n                                ngf-max-height="2000"\n                                ngf-max-size="10MB"\n                                ngf-keep="distinct"\n                                ngf-capture="camera"\n                                ngf-max-files="5">Select Files (max:5)\n                          </div>\n                          <p class="help-block">Click on the Attach Files button to attach files related to your query.</p>\n                        </div>\n                        <div>\n                            <span ng-repeat="f in contactusData.images">\n                              <img width=20% ngf-thumbnail="f || \'/thumb.jpg\'" class="thumb">\n                              {{f.$errorParam}}\n                            </span>\n                        </div>\n                    </div>\n                </div>\n                <div class="col-sm-6">\n                <div class="form-group">\n                    <label for="exampleInputPassword1">Arrival Date</label>\n                    <input type="Date" ng-model="contactusData.plannedarrival"  class="form-control input-sm" id="exampleInputEmail1" placeholder="Enter Arrival Date">\n                </div>\n                <div class="clearfix"></div>\n                <div class="form-group">\n                    <label for="exampleInputEmail1">No. of Days</label>\n                    <input type="text"  ng-model="contactusData.numdays"  class="form-control input-sm" id="exampleInputEmail1" placeholder="Enter Nunmber of People">\n                </div>\n                <div class="form-group">\n                    <label for="exampleInputPassword1">Type of Hotel</label>\n                    <select class="form-control input-sm" ng-model="contactusData.preferredhoteltype">\n                      <option>Budget</option>\n                      <option>Economy</option>\n                      <option>Elegant</option>\n                      <option>Deluxe</option>\n                      <option>Luxury</option>\n                    </select>\n                </div>\n                <div class="clearfix"></div>\n                <div class="form-group">\n                    <label for="exampleInputEmail1">Message</label>\n                    <textarea ng-model="contactusData.message" rows="3" class="form-control input-sm" id="exampleInputEmail1" placeholder="Enter Message"></textarea>\n                </div>\n                <div class="clearfix"></div>\n              </div>\n                <div class="clearfix"></div>\n                <div class="clearfix"></div>\n          </div>\n        </div>\n        <div class="modal-footer">\n          <div class="btn-group" role="group" aria-label="footer buttons">\n            <button type="submit" class="btn btn-primary">Submit</button>\n            <button type="button" class="btn btn-default" ng-click="cancel()">Close</button>\n          </div>\n        </div>\n      </form><\/script> <div class="modal-parent"></div> </div>'),a.put("views/main/region.html",'<style>img {\n      float: left;\n      margin: 2px 10px 10px 2px;\n      border-radius: 4px;\n  }</style> This page is in progress... <h3> {{ name }} </h3>  <span> {{ description }} </span> <span> <h3>Popular Itineraries in {{ name }} </h3> </span> <div ng-init="getCountryDetails()"> <div ng-repeat="tour in popularItineraries"> <div class="col-xs-12 col-sm-4 col-md-4"> <div class="productbox"> <div ng-attr-id="myCarousel-{{$index}}" class="carousel slide" data-ride="carousel"> <div class="carousel-inner"> <div ng-class="{item: true, active: ($index === 0)}" ng-repeat="img in city.images[0]"> <img style="height:200px" ng-src="/images/{{img.filename}}" alt="Slide number {{img.filename}}" class="img-responsive thumb-post"> <div class="container"> <div class="carousel-caption"> </div> </div> </div> </div> <a class="left carousel-control" ng-href="#myCarousel-{{$index}}" role="button" data-slide="prev"></a> <a class="right carousel-control" ng-href="#myCarousel-{{$index}}" role="button" data-slide="next"></a> </div> <div class="producttitle text-center"><a style="text-decoration: none" ng-href="/tourView?id={{tour.id}}&name={{tour.name}}" ng-click="addToRecentItems(tour.id);">{{tour.name}}</a></div> </div> </div> </div> </div>'),a.put("views/main/search.html",'<div id="results" ng-init="searchTours()">  <div class="row"> <div ng-repeat="tour in results"> <div class="col-xs-12 col-sm-4 col-md-4"> <div class="productbox"> <div ng-attr-id="myCarousel-{{$index}}" class="carousel slide" data-ride="carousel"> <div class="carousel-inner"> <div ng-class="{item: true, active: ($index === 0)}" ng-repeat="img in tour.images"> <img style="height:200px" ng-src="/images/{{img.filename}}" alt="Slide number {{img.filename}}" class="img-responsive thumb-post"> <div class="container"> <div class="carousel-caption"> </div> </div> </div> </div> <a class="left carousel-control" ng-href="#myCarousel-{{$index}}" role="button" data-slide="prev"></a> <a class="right carousel-control" ng-href="#myCarousel-{{$index}}" role="button" data-slide="next"></a> </div> <div class="producttitle text-center"><a ng-href="/tourView?id={{tour.id}}&amp;name={{tour.name | slugify}}" ng-click="addToRecentItems(tour.id);">{{tour.name | truncate: 32 : \'...\' : false }}</a></div> <p class="text-center" style="font-size:0.8em; word-wrap: break-word"> <span> {{ tour.locations | join:\' | \' | truncate: 65 : \'...\' : false }} </span> </p> <p class="text-center"> <strong>{{tour.days}} Days | {{ tour.price }} | Offer Price: {{ tour.offerprice}} </strong> </p> </div> </div> </div> </div> </div>'),a.put("views/main/signup.html",'<style>.form-group.required .control-label:after {\n   content:"*";\n   color:red;\n  }</style> <link href="//maxcdn.bootstrapcdn.com/font-awesome/4.1.0/css/font-awesome.min.css" rel="stylesheet"> <div> <div class="login"> <div> <div> <h1 style="font-size:2em;font-weight: 200">Login to IndiorTours.com</h1> <h2 style="font-size: 15px;font-weight: 200">or go back to our <a href="/">home</a> page.<h2> </h2></h2></div> </div> <div id="mainlogin" ng-show="visibility.isLoginFormOpen"> <div class="row"> <div class="col-md-4"> <div class="well"> <form method="post" role="form" ng-submit="signIn();"> <div class="form-group required"> <label for="email" class="control-label">Email</label> <input type="text" class="form-control" ng-model="signindata.email" name="email" value="" required title="Please enter your email" placeholder="Email"> <span class="help-block"></span> </div> <div class="form-group required"> <label for="password" class="control-label">Password</label> <input type="password" class="form-control" ng-model="signindata.password" name="password" placeholder="Password" value="" required title="Please enter your Password"> <span class="help-block"></span> </div> <div class="checkbox"> <label> <input type="checkbox" name="remember"> Remember Me  <span class="help-block" style="font-size:10px">(If this is a private computer)</span> </label> </div> <button type="submit" value="login" name="submit" class="btn btn-primary btn-block">Login</button> <a class="btn btn-primary btn-block" ng-click="facebookSignIn();">Login with Facebook</a> <a ng-href="#" ng-click="showForgotPasswordForm();" style="float:right;font-size:11px" class="float-right">Forgot your password?</a> </form> <span id="loginErrorMsg" ng-show="userinvalid" class="alert alert-danger">Wrong username or password</span> </div> </div> <div class="col-md-8"> <p class="lead">Register now for <span class="text-success">FREE</span></p> <ul class="list-unstyled" style="line-height: 2"> <li><span class="fa fa-check text-success"></span> See all your orders</li> <li><span class="fa fa-check text-success"></span> Shipping is always free</li> <li><span class="fa fa-check text-success"></span> Save your favorites</li> <li><span class="fa fa-check text-success"></span> Fast checkout</li> <li><span class="fa fa-check text-success"></span> Get a gift <small>(only new customers)</small></li> <li><span class="fa fa-check text-success"></span> Holiday discounts up to 30% off</li> </ul> <div class="col-xs-10 col-sm-6 col-md-6 col-lg-6" style="margin-left:0px;padding-left:0px"> <p><a href="" ng-click="showRegistrationForm();" class="btn btn-primary">Not a Member yet? Sign Up Now!</a></p> </div> </div> </div> </div> <div id="forgotpassword" ng-show="visibility.isPasswordResetFormOpen"> <div class="row"> <div class="col-md-4"> <h4 class=""> Reset Password </h4> <form accept-charset="UTF-8" role="form" method="post"> <span class="help-block"> Enter the Email you use to log in to your account <br> We\'ll send you an email with instructions to reset the password. </span> <div class="form-group input-group"> <span class="input-group-addon"> @ </span> <input class="form-control" placeholder="Email" name="email" type="email" required ng-model="useremail"> </div> <button type="button" class="btn btn-primary btn-block" ng-click="forgotPassword();"> Continue </button> </form> </div> <div class="col-md-8"> <p class="lead">Register now for <span class="text-success">FREE</span></p> <ul class="list-unstyled" style="line-height: 2"> <li><span class="fa fa-check text-success"></span> See all your orders</li> <li><span class="fa fa-check text-success"></span> Shipping is always free</li> <li><span class="fa fa-check text-success"></span> Save your favorites</li> <li><span class="fa fa-check text-success"></span> Fast checkout</li> <li><span class="fa fa-check text-success"></span> Get a gift <small>(only new customers)</small></li> <li><span class="fa fa-check text-success"></span> Holiday discounts up to 30% off</li> </ul> <div class="col-xs-10 col-sm-6 col-md-6 col-lg-6" style="margin-left:0px;padding-left:0px"> <p><a href="" ng-click="showLoginForm();" class="btn btn-primary">Done? Login Now</a></p> </div> </div> </div> </div> <div id="register" ng-show="visibility.isSignUpFormOpen"> <div class="row"> <div class="col-md-4"> <div class="well"> <form method="post" role="form" ng-submit="signUp();"> <div class="form-group required"> <label for="firstname" class="control-label">First Name</label> <input type="text" class="form-control" ng-model="signupdata.firstname" name="firstname" value="" required title="Please enter your First Name" placeholder="First Name"> <span class="help-block"></span> </div> <div class="form-group required"> <label for="lastname" class="control-label">Last Name</label> <input type="text" class="form-control" ng-model="signupdata.lastname" name="lastname" value="" required title="Please enter your Last Name" placeholder="Last Name"> <span class="help-block"></span> </div> <div class="form-group required"> <label for="email" class="control-label">Email(This will be your Username)</label> <input type="text" class="form-control" ng-model="signupdata.email" name="email" value="" required title="Please enter your email" placeholder="Email"> <span class="help-block"></span> </div> <div class="form-group required"> <label for="password" class="control-label">Password</label> <input type="password" class="form-control" ng-model="signupdata.password" name="password" placeholder="Password" value="" required title="Please enter your password"> <span class="help-block"></span> </div> <div class="form-group required"> <label for="confirmpassword" class="control-label">Confirm Password</label> <input type="password" class="form-control" name="confirmpassword" placeholder="Confirm Password" value="" required title="Please Confirm your Password"> <span class="help-block"></span> </div> <div id="loginErrorMsg" class="alert alert-error hide">Wrong username or password</div> <div class="g-recaptcha" data-sitekey="6LflGVMUAAAAAGOUXvfpoZIUClT2oBP3VdiIbHl8"></div> <button type="submit" value="login" name="submit" class="btn btn-primary btn-block">Sign Up!</button> </form> </div> </div> <div class="col-md-8"> <p class="lead">Register now for <span class="text-success">FREE</span></p> <ul class="list-unstyled" style="line-height: 2"> <li><span class="fa fa-check text-success"></span> See all your orders</li> <li><span class="fa fa-check text-success"></span> Shipping is always free</li> <li><span class="fa fa-check text-success"></span> Save your favorites</li> <li><span class="fa fa-check text-success"></span> Fast checkout</li> <li><span class="fa fa-check text-success"></span> Get a gift <small>(only new customers)</small></li> <li><span class="fa fa-check text-success"></span> Holiday discounts up to 30% off</li> </ul> <div class="col-xs-10 col-sm-6 col-md-6 col-lg-6" style="margin-left:0px;padding-left:0px"> <p><a href="" ng-click="showLoginForm();" class="btn btn-primary">Already Signed Up? Login Now</a></p> </div> </div> </div> </div> </div> </div>'),a.put("views/main/thankyou.html",'<style>.form-horizontal .form-group {\n  margin-left: 0px;\n  margin-right: 0px;\n}</style> <div> <h1>Thank You!!</h1> <div class="well">Appreciate your Feedback!</div> </div>'),a.put("views/main/toursidesection.html",'<div style="display:none"> <div> <ul> <li>Similar tours and Offers</li> <li>show more suggestions before the footer</li> <li>Show offer price for each tour</li> <li>Carousel should have an option of viewing all images for the tour</li> <li>Add how to make a reservation in More Info(should be FAQ\'s) Section or may be a seperate section for it.</li> <li>Show optional items in itinerary: https://www.friendlyplanet.com/vacation-packages/taste-of-china.html</li> <li>New Reviews and Ratings for Tours</li> <li>To Review: https://www.tourmyindia. com/packages-tour-india/rajasthan-tour-packages/rajasthan-tours.html</li> <li>Types of Users: Actually there should be four types. 1) Admin 2) Supplier 3) B2B User and 4) B2C user.</li> <li>https://www.onthegotours.com/ India/Captivating-Kerala-7-days</li> </ul> </div> </div>'),a.put("views/main/toursubheader.html",'<div style="background-color:rgb(49, 113, 187);opacity:0.5"> <div class="container"> <div class="col-sm-2 mh-100" style="height:300px"> Images Video Map </div> <div class="col-sm-10"> Carousel </div> </div> </div>'),
a.put("views/main/tourview.html",'<style>p.main{\n    text-align:justify;\n  }\n\n  .panel-heading a:after {\n    font-family:\'Glyphicons Halflings\';\n    content:"\\e114";\n    float: right;\n    color: grey;\n}\n\n.panel-heading a.collapsed:after {\n    content:"\\e080";\n}\n\n.scaleTourView{\n  object-fit: cover;\n  object-position: center;\n}</style> <div ng-class="{\'loader\': loading, \'notLoading\': !loading}" id="loadingSpinner">Loading...</div> <div ng-show="!(loading)">  <div ng-init="getTourDetailsWithRelatedModels()">  <div class="col-sm-12" style="margin-left:0px; padding-left:0px;padding-right:0px"> <div class="col-sm-8" style="margin-left:0px; padding-left:0px"> <h3 class="pull-left"> {{tourWithAllRelated[0].name}} </h3> </div> <div class="col-sm-4" style="padding-right:0px"> <span class="btn-group pull-right"> <a ng-click="showEnquiryForm();" class="btn btn-default" style="margin-top:12px"> Send Enquiry </a> <a ng-href="/book" class="btn btn-primary" style="margin-top:12px"> Book Now </a> </span> </div> </div>  <div style="color:orange"> {{tourWithAllRelated[0].tourtype}} </div> <div style="color:orange"> {{tourWithAllRelated[0].days}} days | {{tourWithAllRelated[0].nights}} nights </div> <div style="color:orange"> <span> {{tourWithAllRelated[0].price}} onwards </span> </div> <span ng-repeat="location in tourWithAllRelated[0].siteLocation"> <span style="color:orange"> <a style="color: orange" href="/city?id={{ location.id }}&countryid={{ location.country_id }}&name={{ location.city }}">{{ location.city }}</a> <span ng-hide="$last">|</span> </span> </span>  <p class="main"> {{tourWithAllRelated[0].description}} </p>  <uib-tabset active="activeJustified" justified="true">  <uib-tab index="0" heading="Itinerary"> <div ng-repeat="itinerary in tourWithAllRelated[0].itinerary"> <h4> {{itinerary.day}} </h4> <p style="white-space: pre-wrap">{{itinerary.description}}</p> </div> </uib-tab>   <uib-tab index="1" heading="Prices" select="tabShown = !tabShown" deselect="tabShown = !tabShown"> <table class="table table-bordered" ng-show="!(error)"> <thead> <th style="text-align:center;color: #ffffff; background-color: #3270bc" colspan="4">TOUR COST</th> </thead> <tbody> <td> <table class="table table-bordered table-responsive"> <thead> <tr> <th scope="col">Category</th> <th scope="col" id="stud" scope="col"> Cost Per Person </th> <th scope="col" id="apt" scope="col"> Budget </th> <th scope="col" id="chal" scope="col"> Economy </th> <th scope="col" id="villa" scope="col"> Elegant </th> <th scope="col" id="villa" scope="col"> Deluxe </th> <th scope="col" id="villa" scope="col"> Luxury </th> </tr> </thead> <tbody ng-repeat="(key, value) in tourWithAllRelated[0].tourcost[0].individualcostsjson | groupBy: \'costcategory\'"> <th scope="rowgroup" rowspan="{{value.length+1}}"> {{ key }} </th> <tr ng-repeat="cost in value"> <td colspan="{{cost.costitem == \'Note\' ? \'6\' : \'1\'}}" ng-show="cost.costitem == \'Note\'"> <span style="font-weight:bold">{{cost.costitem | uppercase}}:</span> <span style="font-style:italic">{{cost.budget}}</span> </td> <td colspan="{{cost.costitem == \'Note\' ? \'6\' : \'1\'}}" ng-show="cost.costitem != \'Note\'"> {{cost.costitem}} </td> <td scope="row" ng-show="cost.costitem != \'Note\'"> {{cost.budget}} </td> <td scope="row" ng-show="cost.costitem != \'Note\'"> {{cost.economy}} </td> <td scope="row" ng-show="cost.costitem != \'Note\'"> {{cost.elegant}} </td> <td scope="row" ng-show="cost.costitem != \'Note\'"> {{cost.deluxe}} </td> <td scope="row" ng-show="cost.costitem != \'Note\'"> {{cost.luxury}} </td> </tr> </tbody> </table> <uib-accordion close-others="false"> <div uib-accordion-group class="panel-default" ng-repeat="x in tourWithAllRelated[0].tourNote | filternotes: \'cost\'" heading="{{x.type}}" is-open="$first"> <div style="white-space: pre-wrap" ng-bind-html="x.description"></div> </div> </uib-accordion> </td> </tbody> </table> </uib-tab>   <uib-tab index="2" heading="Dates" select="tabShown = !tabShown" deselect="tabShown = !tabShown"> <table class="table table-hover table-bordered" ng-show="!(error)"> <thead> <th colspan="10" style="text-align:center;color: #ffffff; background-color: #3270bc">DEPARTURE DATES</th> <tr> <td style="text-align:center"> <div ng-controller="TourViewController as vm" class="col-lg-1 col-centered" style="width:100%;height:100%;margin: auto"> <h3 style="margin-top:10px;margin-bottom:10px" class="text-center">{{ vm.calendarTitle }}</h3> <ng-include src="\'views/main/calendarControls.html\'"></ng-include> <mwl-calendar events="vm.events" view="vm.calendarView" view-date="vm.viewDate" cell-auto-open-disabled="false" view-title="vm.calendarTitle" cell-is-open="vm.cellIsOpen" on-timespan-click="vm.timespanClicked(calendarDate, calendarCell)" on-view-change-click="vm.viewChangeClicked(calendarNextView)" on-event-click="vm.eventClicked(calendarEvent)"> </mwl-calendar> </div> </td> </tr> </thead> </table> </uib-tab>   <uib-tab index="3" heading="Hotels"> <table class="table table-hover table-bordered" ng-show="!(error)"> <thead> <th colspan="10" style="text-align:center;color: #ffffff; background-color: #3270bc">Hotels</th> <tr> <th class="col-xs-2">City</th> <th class="col-xs-2">Budget</th> <th class="col-xs-2">Economy</th> <th class="col-xs-2">Elegant</th> <th class="col-xs-2">Deluxe</th> <th class="col-xs-2">Luxury</th> </tr> </thead> <tr ng-repeat="x in output"> <td><a ng-href="/destination?id={{x.location_id}}&amp;name={{x.city | slugify}}">{{ x["city"] }}</a></td> <td> <div ng-repeat="budget in x.budget"> <a ng-href="/hotel?id={{budget.hotelid}}&amp;name={{budget.name | slugify}}">{{ budget.name }}</a> </div> </td> <td> <div ng-repeat="economy in x.economy"> <a ng-href="/hotel?id={{economy.hotelid}}&amp;name={{economy.name | slugify}}">{{ economy.name }}</a> </div> </td> <td> <div ng-repeat="elegant in x.elegant"> <a ng-href="/hotel?id={{elegant.hotelid}}&amp;name={{elegant.name | slugify}}">{{ elegant.name }}</a> </div> </td> <td> <div ng-repeat="deluxe in x.deluxe"> <a ng-href="/hotel?id={{deluxe.hotelid}}&amp;name={{deluxe.name | slugify}}">{{ deluxe.name }}</a> </div> </td> <td> <div ng-repeat="luxury in x.luxury"> <a ng-href="/hotel?id={{luxury.hotelid}}&amp;name={{luxury.name | slugify}}">{{ luxury.name }}</a> </div> </td> </tr> </table> <uib-accordion close-others="false"> <div uib-accordion-group class="panel-default" ng-repeat="(key, value) in tourWithAllRelated[0].accomodationHotel | groupBy: \'type\'" heading="{{key}}" is-open="$first"> <div ng-repeat="hotel in value"> <div class="media"> <div class="media-left"> <img style="height:150px; width:200px" ng-src="/images/{{hotel.images[0].filename}}" class="img-responsive thumb-post scaleTourView media-object"> </div> <div class="media-body"> <h4 class="media-heading">{{hotel.name}}</h4> <p>{{hotel.description}}</p> </div> </div> </div> </div> </uib-accordion> </uib-tab>   <uib-tab index="4" heading="Destinations"> <div ng-repeat="x in tourWithAllRelated[0].siteLocation"> <h4> {{x.city}}, {{x.country}} </h4> <p style="white-space: pre-wrap">{{x.description}}</p> </div> </uib-tab>   <uib-tab index="5" heading="More Info"> <uib-accordion close-others="false"> <div uib-accordion-group class="panel-default" ng-repeat="x in tourWithAllRelated[0].tourNote | filternotes: \'important\'" heading="{{x.type}}" is-open="$first"> <div style="white-space: pre-wrap" ng-bind-html="x.description"></div> </div> </uib-accordion> </uib-tab>  </uib-tabset> </div> </div>  <div class="modal-demo"> <script type="text/ng-template" id="myModalContent.html"><div class="alert alert-success alert-dismissible fade in" ng-show="showSuccessBanner">\n        <a href="#" class="close" data-dismiss="alert" aria-label="close">&times;</a>\n        <strong>Success!</strong> Enquiry submitted, thanks!\n      </div>\n      <div class="modal-header">\n          <h3 class="modal-title" id="modal-title">Tour Enquiry</h3>\n      </div>\n      <form role="form" method="POST" ng-submit="createEnquiry();">\n        <div class="modal-body" id="modal-body">\n          <div class="row" style="margin:0px !important;">\n                <div class="col-sm-6">\n                    <div class="form-group">\n                        <label for="exampleInputEmail1">Title</label>\n                        <select class="form-control input-sm" ng-model="contactusData.title">\n                            <option>Mr</option>\n                            <option>Miss</option>\n                            <option>Ms</option>\n                            <option>Mrs</option>\n                        </select>\n                    </div>\n                    <div class="clearfix"></div>\n                    <div class="form-group">\n                        <label for="exampleInputEmail1">Name</label>\n                        <input type="text" ng-model="contactusData.name" class="form-control input-sm" id="exampleInputEmail1" placeholder="Enter Name">\n                    </div>\n                    <div class="form-group">\n                        <label for="exampleInputPassword1">Email Address</label>\n                        <input type="email"  ng-model="contactusData.email"  class="form-control input-sm" id="exampleInputEmail1" placeholder="Enter Email">\n                    </div>\n                    <div class="clearfix"></div>\n                    <div class="form-group">\n                        <label for="exampleInputPassword1">Phone</label>\n                        <input type="phone" ng-model="contactusData.phone"  class="form-control input-sm" id="exampleInputEmail1" placeholder="Enter Phone">\n                    </div>\n                    <div class="form-group">\n                        <label for="exampleInputFile">Attach Files</label>\n                        <div class="form-group">\n                          <div  class="btn btn-default"\n                                ngf-select\n                                ng-model="contactusData.images"\n                                ngf-multiple="true"\n                                accept="image/*"\n                                ngf-max-height="2000"\n                                ngf-max-size="10MB"\n                                ngf-keep="distinct"\n                                ngf-capture="camera"\n                                ngf-max-files="5">Select Files (max:5)\n                          </div>\n                          <p class="help-block">Click on the Attach Files button to attach files related to your query.</p>\n                        </div>\n                        <div>\n                            <span ng-repeat="f in contactusData.images">\n                              <img width=20% ngf-thumbnail="f || \'/thumb.jpg\'" class="thumb">\n                              {{f.$errorParam}}\n                            </span>\n                        </div>\n                    </div>\n                </div>\n                <div class="col-sm-6">\n                <div class="form-group">\n                    <label for="exampleInputPassword1">Arrival Date</label>\n                    <input type="Date" ng-model="contactusData.plannedarrival"  class="form-control input-sm" id="exampleInputEmail1" placeholder="Enter Arrival Date">\n                </div>\n                <div class="clearfix"></div>\n                <div class="form-group">\n                    <label for="exampleInputEmail1">No. of Days</label>\n                    <input type="text"  ng-model="contactusData.numdays"  class="form-control input-sm" id="exampleInputEmail1" placeholder="Enter Nunmber of People">\n                </div>\n                <div class="form-group">\n                    <label for="exampleInputPassword1">Type of Hotel</label>\n                    <select class="form-control input-sm" ng-model="contactusData.preferredhoteltype">\n                      <option>Budget</option>\n                      <option>Economy</option>\n                      <option>Elegant</option>\n                      <option>Deluxe</option>\n                      <option>Luxury</option>\n                    </select>\n                </div>\n                <div class="clearfix"></div>\n                <div class="form-group">\n                    <label for="exampleInputEmail1">Message</label>\n                    <textarea ng-model="contactusData.message" rows="3" class="form-control input-sm" id="exampleInputEmail1" placeholder="Enter Message"></textarea>\n                </div>\n                <div class="clearfix"></div>\n              </div>\n                <div class="clearfix"></div>\n                <div class="clearfix"></div>\n          </div>\n        </div>\n        <div class="modal-footer">\n          <div class="btn-group" role="group" aria-label="footer buttons">\n            <button type="submit" class="btn btn-primary">Submit</button>\n            <button type="button" class="btn btn-default" ng-click="cancel()">Close</button>\n          </div>\n        </div>\n      </form><\/script> <div class="modal-parent"></div> </div>'),a.put("views/main/trips.html",'<div ng-init="allParentToursWithTours()"> <h3> Indior Trips </h3> <p class="main"> Indior Tours offers a wide variety of luxury holiday ideas, from group tours to tailor-made journeys. If you are looking for holiday inspiration you may wish to consider searching by themes such as train journeys or cultural cruises. </p>  <div ng-class="{\'loader\': loading, \'notLoading\': !loading}" id="loadingSpinner">Loading...</div> <div ng-show="!(loading)"> <div class="row"> <div ng-repeat="tour in allTours"> <div class="col-xs-12 col-sm-4 col-md-4"> <div class="productbox">  <div ng-attr-id="myCarousel-{{$index}}" class="carousel slide" data-ride="carousel">  <div class="carousel-inner"> <div ng-class="{item: true, active: ($index === 0)}" ng-repeat="img in tour.images"> <img style="height:200px" ng-src="/images/{{img.filename}}" alt="Slide number {{img.filename}}" class="img-responsive thumb-post"> <div class="container"> <div class="carousel-caption"> </div> </div> </div> </div> <a class="left carousel-control" ng-href="#myCarousel-{{$index}}" role="button" data-slide="prev"><span class="glyphicon glyphicon-chevron-left"></span></a> <a class="right carousel-control" ng-href="#myCarousel-{{$index}}" role="button" data-slide="next"><span class="glyphicon glyphicon-chevron-right"></span></a> </div> <div class="producttitle text-center"><a ng-href="/viewtrip?id={{tour.id}}&amp;name={{tour.name | slugify}}">{{tour.name}}</a></div> </div> </div> </div> </div> </div> </div>'),a.put("views/main/userprofile.html",'<style>.form-group.required .control-label:after {\n   content:"*";\n   color:red;\n  }</style> <div ng-init="loadUserData();"> <div> <div> <h1 style="font-size:2em;font-weight: 200">{{loggedInUser.firstname | ucfirst}} {{loggedInUser.lastname | ucfirst}}</h1> </div> </div> <div class="col-md-5 toppad pull-right col-md-offset-3"> <a href="edit.html">Edit Profile</a> <a href="edit.html">Logout</a> <br> <p class="text-info">May 05,2014,03:00 pm </p> </div> <div> <div class="panel panel-info"> <div class="panel-heading"> <h3 class="panel-title">Sheena Shrestha</h3> </div> <div class="panel-body"> <div class="row"> <uib-tabset active="active"> <uib-tab heading="Profile"> <div class="col-md-12 col-lg-12" align="center"> <img alt="User Pic" src="http://babyinfoforyou.com/wp-content/uploads/2014/10/avatar-300x300.png" class="img-circle img-responsive"> </div>  <div class="col-md-12 col-lg-12"> <table class="table table-user-information"> <tbody> <tr> <td>Department:</td> <td>Programming</td> </tr> <tr> <td>Hire date:</td> <td>06/23/2013</td> </tr> <tr> <td>Date of Birth</td> <td>01/24/1988</td> </tr> <tr> </tr><tr> <td>Gender</td> <td>Female</td> </tr> <tr> <td>Home Address</td> <td>Kathmandu,Nepal</td> </tr> <tr> <td>Email</td> <td><a href="mailto:info@support.com">info@support.com</a></td> </tr> <td>Phone Number</td> <td>123-4567-890(Landline)<br><br>555-4567-890(Mobile) </td>  </tbody> </table> </div> </uib-tab> <uib-tab index="1"> <uib-tab-heading> My saved tours </uib-tab-heading> </uib-tab> </uib-tabset> </div> </div> <div class="panel-footer"> <a data-original-title="Broadcast Message" data-toggle="tooltip" type="button" class="btn btn-sm btn-primary"><i class="glyphicon glyphicon-envelope"></i></a> <span class="pull-right"> <a href="edit.html" data-original-title="Edit this user" data-toggle="tooltip" type="button" class="btn btn-sm btn-warning"><i class="glyphicon glyphicon-edit"></i></a> <a data-original-title="Remove this user" data-toggle="tooltip" type="button" class="btn btn-sm btn-danger"><i class="glyphicon glyphicon-remove"></i></a> </span> </div> </div> </div> </div>'),a.put("views/main/verifyuser.html",'<div ng-controller="VerifyLinkController" ng-init="verifyLink()"> <div ng-show="verificationSuccess" class="alert alert-success" style="margin-top:10px"> <strong>Activation Success!</strong> <p> Congratulations! your user is now active. To start browsing our awesome tours, click here to go to the login page. </p> </div> <div ng-show="invaliduser" class="alert alert-danger" style="margin-top:10px"> User does not exist or is invalid or activation link has expired. </div> <div ng-show="linkExpired" class="alert alert-warning" style="margin-top:10px"> The activation link is expired, enter your email below to receive a new activation link. <div class="clearfix"></div> <input type="email" style="width:30%" class="form-control input-sm" id="email" ng-model="useremail" placeholder="Enter your email..."> <p class="btn btn-warning btn-sm" style="margin-top:10px" ng-click="sendNewVerifyLink()">Submit</p> </div> </div>'),a.put("views/main/viewTrip.html",'<div ng-init="allParentToursWithTours()"> <h3> {{ allTours.name }} </h3> <p class="main"> {{ allTours.description }} </p> <div ng-class="{\'loader\': loading, \'notLoading\': !loading}" id="loadingSpinner">Loading...</div> <div ng-show="!(loading)"> <div class="row"> <div ng-repeat="tour in childTours"> <div class="col-xs-12 col-sm-4 col-md-4"> <div class="productbox"> <div ng-attr-id="myCarousel-{{$index}}" class="carousel slide" data-ride="carousel"> <div class="carousel-inner"> <div ng-class="{item: true, active: ($index === 0)}" ng-repeat="img in tour.images"> <img style="height:200px" ng-src="/images/{{img.filename}}" alt="Slide number {{img.filename}}" class="img-responsive thumb-post"> <div class="container"> <div class="carousel-caption"> </div> </div> </div> </div> <a class="left carousel-control" ng-href="#myCarousel-{{$index}}" role="button" data-slide="prev"><span class="glyphicon glyphicon-chevron-left"></span></a> <a class="right carousel-control" ng-href="#myCarousel-{{$index}}" role="button" data-slide="next"><span class="glyphicon glyphicon-chevron-right"></span></a> </div> <div class="producttitle text-center"><a ng-href="/tourView?id={{tour.id}}&amp;name={{tour.name | slugify}}">{{tour.name}}</a></div> </div> </div> </div> </div> </div> </div>'),a.put("views/main/viewhotel.html",'<style>img {\n      float: left;\n      margin: 2px 10px 10px 2px;\n      border-radius: 4px;\n  }</style> <div ng-init="getHotelDetails()"> <h3> Indior Accommodation </h3> <h4> {{ hotel.name }}, {{ hotel.location }} </h4> <p class="main" style="white-space: pre-wrap"> <img class="img-responsive scaleDestinationImg" style="height:140px" ng-src="/images/{{ hotel.images.data[0].filename }}"> {{ hotel.description }} </p> <div class="row"> </div> </div>'),a.put("views/unauthorised.html",'<style>.error-template {padding: 40px 15px;text-align: center;}\n.error-actions {margin-top:15px;margin-bottom:15px;}\n.error-actions .btn { margin-right:10px; }</style> <div class="row"> <div class="col-sm-12"> <div class="error-template"> <h1> Oops!</h1> <h2> 403 Forbidden!!</h2> <div class="error-details"> You are trying to navigate to a page which you dont have access to. <br>Please login and try again. Contact us if you need a vendor login. </div> </div> </div> </div>')}]);